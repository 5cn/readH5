/**
 * @Author:wanghongxin and fuwei
 * @Time:Sun Mar 13 2016 12:52:55 GMT+0800 (CST)
 */
var Zepto=function(){function L(t){return null==t?String(t):j[S.call(t)]||"object"}function Z(t){return"function"==L(t)}function _(t){return null!=t&&t==t.window}function $(t){return null!=t&&t.nodeType==t.DOCUMENT_NODE}function D(t){return"object"==L(t)}function M(t){return D(t)&&!_(t)&&Object.getPrototypeOf(t)==Object.prototype}function R(t){return"number"==typeof t.length}function k(t){return s.call(t,function(t){return null!=t})}function z(t){return t.length>0?n.fn.concat.apply([],t):t}function F(t){return t.replace(/::/g,"/").replace(/([A-Z]+)([A-Z][a-z])/g,"$1_$2").replace(/([a-z\d])([A-Z])/g,"$1_$2").replace(/_/g,"-").toLowerCase()}function q(t){return t in f?f[t]:f[t]=new RegExp("(^|\\s)"+t+"(\\s|$)")}function H(t,e){return"number"!=typeof e||c[F(t)]?e:e+"px"}function I(t){var e,n;return u[t]||(e=a.createElement(t),a.body.appendChild(e),n=getComputedStyle(e,"").getPropertyValue("display"),e.parentNode.removeChild(e),"none"==n&&(n="block"),u[t]=n),u[t]}function V(t){return"children"in t?o.call(t.children):n.map(t.childNodes,function(t){return 1==t.nodeType?t:void 0})}function B(n,i,r){for(e in i)r&&(M(i[e])||A(i[e]))?(M(i[e])&&!M(n[e])&&(n[e]={}),A(i[e])&&!A(n[e])&&(n[e]=[]),B(n[e],i[e],r)):i[e]!==t&&(n[e]=i[e])}function U(t,e){return null==e?n(t):n(t).filter(e)}function J(t,e,n,i){return Z(e)?e.call(t,n,i):e}function X(t,e,n){null==n?t.removeAttribute(e):t.setAttribute(e,n)}function W(e,n){var i=e.className||"",r=i&&i.baseVal!==t;return n===t?r?i.baseVal:i:void(r?i.baseVal=n:e.className=n)}function Y(t){try{return t?"true"==t||("false"==t?!1:"null"==t?null:+t+""==t?+t:/^[\[\{]/.test(t)?n.parseJSON(t):t):t}catch(e){return t}}function G(t,e){e(t);for(var n=0,i=t.childNodes.length;i>n;n++)G(t.childNodes[n],e)}var t,e,n,i,C,N,r=[],o=r.slice,s=r.filter,a=window.document,u={},f={},c={"column-count":1,columns:1,"font-weight":1,"line-height":1,opacity:1,"z-index":1,zoom:1},l=/^\s*<(\w+|!)[^>]*>/,h=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,p=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,d=/^(?:body|html)$/i,m=/([A-Z])/g,g=["val","css","html","text","data","width","height","offset"],v=["after","prepend","before","append"],y=a.createElement("table"),x=a.createElement("tr"),b={tr:a.createElement("tbody"),tbody:y,thead:y,tfoot:y,td:x,th:x,"*":a.createElement("div")},w=/complete|loaded|interactive/,E=/^[\w-]*$/,j={},S=j.toString,T={},O=a.createElement("div"),P={tabindex:"tabIndex",readonly:"readOnly","for":"htmlFor","class":"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},A=Array.isArray||function(t){return t instanceof Array};return T.matches=function(t,e){if(!e||!t||1!==t.nodeType)return!1;var n=t.webkitMatchesSelector||t.mozMatchesSelector||t.oMatchesSelector||t.matchesSelector;if(n)return n.call(t,e);var i,r=t.parentNode,o=!r;return o&&(r=O).appendChild(t),i=~T.qsa(r,e).indexOf(t),o&&O.removeChild(t),i},C=function(t){return t.replace(/-+(.)?/g,function(t,e){return e?e.toUpperCase():""})},N=function(t){return s.call(t,function(e,n){return t.indexOf(e)==n})},T.fragment=function(e,i,r){var s,u,f;return h.test(e)&&(s=n(a.createElement(RegExp.$1))),s||(e.replace&&(e=e.replace(p,"<$1></$2>")),i===t&&(i=l.test(e)&&RegExp.$1),i in b||(i="*"),f=b[i],f.innerHTML=""+e,s=n.each(o.call(f.childNodes),function(){f.removeChild(this)})),M(r)&&(u=n(s),n.each(r,function(t,e){g.indexOf(t)>-1?u[t](e):u.attr(t,e)})),s},T.Z=function(t,e){return t=t||[],t.__proto__=n.fn,t.selector=e||"",t},T.isZ=function(t){return t instanceof T.Z},T.init=function(e,i){var r;if(!e)return T.Z();if("string"==typeof e)if(e=e.trim(),"<"==e[0]&&l.test(e))r=T.fragment(e,RegExp.$1,i),e=null;else{if(i!==t)return n(i).find(e);r=T.qsa(a,e)}else{if(Z(e))return n(a).ready(e);if(T.isZ(e))return e;if(A(e))r=k(e);else if(D(e))r=[e],e=null;else if(l.test(e))r=T.fragment(e.trim(),RegExp.$1,i),e=null;else{if(i!==t)return n(i).find(e);r=T.qsa(a,e)}}return T.Z(r,e)},n=function(t,e){return T.init(t,e)},n.extend=function(t){var e,n=o.call(arguments,1);return"boolean"==typeof t&&(e=t,t=n.shift()),n.forEach(function(n){B(t,n,e)}),t},T.qsa=function(t,e){var n,i="#"==e[0],r=!i&&"."==e[0],s=i||r?e.slice(1):e,a=E.test(s);return $(t)&&a&&i?(n=t.getElementById(s))?[n]:[]:1!==t.nodeType&&9!==t.nodeType?[]:o.call(a&&!i?r?t.getElementsByClassName(s):t.getElementsByTagName(e):t.querySelectorAll(e))},n.contains=a.documentElement.contains?function(t,e){return t!==e&&t.contains(e)}:function(t,e){for(;e&&(e=e.parentNode);)if(e===t)return!0;return!1},n.type=L,n.isFunction=Z,n.isWindow=_,n.isArray=A,n.isPlainObject=M,n.isEmptyObject=function(t){var e;for(e in t)return!1;return!0},n.inArray=function(t,e,n){return r.indexOf.call(e,t,n)},n.camelCase=C,n.trim=function(t){return null==t?"":String.prototype.trim.call(t)},n.uuid=0,n.support={},n.expr={},n.map=function(t,e){var n,r,o,i=[];if(R(t))for(r=0;r<t.length;r++)n=e(t[r],r),null!=n&&i.push(n);else for(o in t)n=e(t[o],o),null!=n&&i.push(n);return z(i)},n.each=function(t,e){var n,i;if(R(t)){for(n=0;n<t.length;n++)if(e.call(t[n],n,t[n])===!1)return t}else for(i in t)if(e.call(t[i],i,t[i])===!1)return t;return t},n.grep=function(t,e){return s.call(t,e)},window.JSON&&(n.parseJSON=JSON.parse),n.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(t,e){j["[object "+e+"]"]=e.toLowerCase()}),n.fn={forEach:r.forEach,reduce:r.reduce,push:r.push,sort:r.sort,indexOf:r.indexOf,concat:r.concat,map:function(t){return n(n.map(this,function(e,n){return t.call(e,n,e)}))},slice:function(){return n(o.apply(this,arguments))},ready:function(t){return w.test(a.readyState)&&a.body?t(n):a.addEventListener("DOMContentLoaded",function(){t(n)},!1),this},get:function(e){return e===t?o.call(this):this[e>=0?e:e+this.length]},toArray:function(){return this.get()},size:function(){return this.length},remove:function(){return this.each(function(){null!=this.parentNode&&this.parentNode.removeChild(this)})},each:function(t){return r.every.call(this,function(e,n){return t.call(e,n,e)!==!1}),this},filter:function(t){return Z(t)?this.not(this.not(t)):n(s.call(this,function(e){return T.matches(e,t)}))},add:function(t,e){return n(N(this.concat(n(t,e))))},is:function(t){return this.length>0&&T.matches(this[0],t)},not:function(e){var i=[];if(Z(e)&&e.call!==t)this.each(function(t){e.call(this,t)||i.push(this)});else{var r="string"==typeof e?this.filter(e):R(e)&&Z(e.item)?o.call(e):n(e);this.forEach(function(t){r.indexOf(t)<0&&i.push(t)})}return n(i)},has:function(t){return this.filter(function(){return D(t)?n.contains(this,t):n(this).find(t).size()})},eq:function(t){return-1===t?this.slice(t):this.slice(t,+t+1)},first:function(){var t=this[0];return t&&!D(t)?t:n(t)},last:function(){var t=this[this.length-1];return t&&!D(t)?t:n(t)},find:function(t){var e,i=this;return e=t?"object"==typeof t?n(t).filter(function(){var t=this;return r.some.call(i,function(e){return n.contains(e,t)})}):1==this.length?n(T.qsa(this[0],t)):this.map(function(){return T.qsa(this,t)}):n()},closest:function(t,e){var i=this[0],r=!1;for("object"==typeof t&&(r=n(t));i&&!(r?r.indexOf(i)>=0:T.matches(i,t));)i=i!==e&&!$(i)&&i.parentNode;return n(i)},parents:function(t){for(var e=[],i=this;i.length>0;)i=n.map(i,function(t){return(t=t.parentNode)&&!$(t)&&e.indexOf(t)<0?(e.push(t),t):void 0});return U(e,t)},parent:function(t){return U(N(this.pluck("parentNode")),t)},children:function(t){return U(this.map(function(){return V(this)}),t)},contents:function(){return this.map(function(){return o.call(this.childNodes)})},siblings:function(t){return U(this.map(function(t,e){return s.call(V(e.parentNode),function(t){return t!==e})}),t)},empty:function(){return this.each(function(){this.innerHTML=""})},pluck:function(t){return n.map(this,function(e){return e[t]})},show:function(){return this.each(function(){"none"==this.style.display&&(this.style.display=""),"none"==getComputedStyle(this,"").getPropertyValue("display")&&(this.style.display=I(this.nodeName))})},replaceWith:function(t){return this.before(t).remove()},wrap:function(t){var e=Z(t);if(this[0]&&!e)var i=n(t).get(0),r=i.parentNode||this.length>1;return this.each(function(o){n(this).wrapAll(e?t.call(this,o):r?i.cloneNode(!0):i)})},wrapAll:function(t){if(this[0]){n(this[0]).before(t=n(t));for(var e;(e=t.children()).length;)t=e.first();n(t).append(this)}return this},wrapInner:function(t){var e=Z(t);return this.each(function(i){var r=n(this),o=r.contents(),s=e?t.call(this,i):t;o.length?o.wrapAll(s):r.append(s)})},unwrap:function(){return this.parent().each(function(){n(this).replaceWith(n(this).children())}),this},clone:function(){return this.map(function(){return this.cloneNode(!0)})},hide:function(){return this.css("display","none")},toggle:function(e){return this.each(function(){var i=n(this);(e===t?"none"==i.css("display"):e)?i.show():i.hide()})},prev:function(t){return n(this.pluck("previousElementSibling")).filter(t||"*")},next:function(t){return n(this.pluck("nextElementSibling")).filter(t||"*")},html:function(t){return 0 in arguments?this.each(function(e){var i=this.innerHTML;n(this).empty().append(J(this,t,e,i))}):0 in this?this[0].innerHTML:null},text:function(t){return 0 in arguments?this.each(function(e){var n=J(this,t,e,this.textContent);this.textContent=null==n?"":""+n}):0 in this?this[0].textContent:null},attr:function(n,i){var r;return"string"!=typeof n||1 in arguments?this.each(function(t){if(1===this.nodeType)if(D(n))for(e in n)X(this,e,n[e]);else X(this,n,J(this,i,t,this.getAttribute(n)))}):this.length&&1===this[0].nodeType?!(r=this[0].getAttribute(n))&&n in this[0]?this[0][n]:r:t},removeAttr:function(t){return this.each(function(){1===this.nodeType&&t.split(" ").forEach(function(t){X(this,t)},this)})},prop:function(t,e){return t=P[t]||t,1 in arguments?this.each(function(n){this[t]=J(this,e,n,this[t])}):this[0]&&this[0][t]},data:function(e,n){var i="data-"+e.replace(m,"-$1").toLowerCase(),r=1 in arguments?this.attr(i,n):this.attr(i);return null!==r?Y(r):t},val:function(t){return 0 in arguments?this.each(function(e){this.value=J(this,t,e,this.value)}):this[0]&&(this[0].multiple?n(this[0]).find("option").filter(function(){return this.selected}).pluck("value"):this[0].value)},offset:function(t){if(t)return this.each(function(e){var i=n(this),r=J(this,t,e,i.offset()),o=i.offsetParent().offset(),s={top:r.top-o.top,left:r.left-o.left};"static"==i.css("position")&&(s.position="relative"),i.css(s)});if(!this.length)return null;var e=this[0].getBoundingClientRect();return{left:e.left+window.pageXOffset,top:e.top+window.pageYOffset,width:Math.round(e.width),height:Math.round(e.height)}},css:function(t,i){if(arguments.length<2){var r,o=this[0];if(!o)return;if(r=getComputedStyle(o,""),"string"==typeof t)return o.style[C(t)]||r.getPropertyValue(t);if(A(t)){var s={};return n.each(t,function(t,e){s[e]=o.style[C(e)]||r.getPropertyValue(e)}),s}}var a="";if("string"==L(t))i||0===i?a=F(t)+":"+H(t,i):this.each(function(){this.style.removeProperty(F(t))});else for(e in t)t[e]||0===t[e]?a+=F(e)+":"+H(e,t[e])+";":this.each(function(){this.style.removeProperty(F(e))});return this.each(function(){this.style.cssText+=";"+a})},index:function(t){return t?this.indexOf(n(t)[0]):this.parent().children().indexOf(this[0])},hasClass:function(t){return t?r.some.call(this,function(t){return this.test(W(t))},q(t)):!1},addClass:function(t){return t?this.each(function(e){if("className"in this){i=[];var r=W(this),o=J(this,t,e,r);o.split(/\s+/g).forEach(function(t){n(this).hasClass(t)||i.push(t)},this),i.length&&W(this,r+(r?" ":"")+i.join(" "))}}):this},removeClass:function(e){return this.each(function(n){if("className"in this){if(e===t)return W(this,"");i=W(this),J(this,e,n,i).split(/\s+/g).forEach(function(t){i=i.replace(q(t)," ")}),W(this,i.trim())}})},toggleClass:function(e,i){return e?this.each(function(r){var o=n(this),s=J(this,e,r,W(this));s.split(/\s+/g).forEach(function(e){(i===t?!o.hasClass(e):i)?o.addClass(e):o.removeClass(e)})}):this},scrollTop:function(e){if(this.length){var n="scrollTop"in this[0];return e===t?n?this[0].scrollTop:this[0].pageYOffset:this.each(n?function(){this.scrollTop=e}:function(){this.scrollTo(this.scrollX,e)})}},scrollLeft:function(e){if(this.length){var n="scrollLeft"in this[0];return e===t?n?this[0].scrollLeft:this[0].pageXOffset:this.each(n?function(){this.scrollLeft=e}:function(){this.scrollTo(e,this.scrollY)})}},position:function(){if(this.length){var t=this[0],e=this.offsetParent(),i=this.offset(),r=d.test(e[0].nodeName)?{top:0,left:0}:e.offset();return i.top-=parseFloat(n(t).css("margin-top"))||0,i.left-=parseFloat(n(t).css("margin-left"))||0,r.top+=parseFloat(n(e[0]).css("border-top-width"))||0,r.left+=parseFloat(n(e[0]).css("border-left-width"))||0,{top:i.top-r.top,left:i.left-r.left}}},offsetParent:function(){return this.map(function(){for(var t=this.offsetParent||a.body;t&&!d.test(t.nodeName)&&"static"==n(t).css("position");)t=t.offsetParent;return t})}},n.fn.detach=n.fn.remove,["width","height"].forEach(function(e){var i=e.replace(/./,function(t){return t[0].toUpperCase()});n.fn[e]=function(r){var o,s=this[0];return r===t?_(s)?s["inner"+i]:$(s)?s.documentElement["scroll"+i]:(o=this.offset())&&o[e]:this.each(function(t){s=n(this),s.css(e,J(this,r,t,s[e]()))})}}),v.forEach(function(t,e){var i=e%2;n.fn[t]=function(){var t,o,r=n.map(arguments,function(e){return t=L(e),"object"==t||"array"==t||null==e?e:T.fragment(e)}),s=this.length>1;return r.length<1?this:this.each(function(t,u){o=i?u:u.parentNode,u=0==e?u.nextSibling:1==e?u.firstChild:2==e?u:null;var f=n.contains(a.documentElement,o);r.forEach(function(t){if(s)t=t.cloneNode(!0);else if(!o)return n(t).remove();o.insertBefore(t,u),f&&G(t,function(t){null==t.nodeName||"SCRIPT"!==t.nodeName.toUpperCase()||t.type&&"text/javascript"!==t.type||t.src||window.eval.call(window,t.innerHTML)})})})},n.fn[i?t+"To":"insert"+(e?"Before":"After")]=function(e){return n(e)[t](this),this}}),T.Z.prototype=n.fn,T.uniq=N,T.deserializeValue=Y,n.zepto=T,n}();window.Zepto=Zepto,void 0===window.$&&(window.$=Zepto),function(t){function l(t){return t._zid||(t._zid=e++)}function h(t,e,n,i){if(e=p(e),e.ns)var r=d(e.ns);return(s[l(t)]||[]).filter(function(t){return!(!t||e.e&&t.e!=e.e||e.ns&&!r.test(t.ns)||n&&l(t.fn)!==l(n)||i&&t.sel!=i)})}function p(t){var e=(""+t).split(".");return{e:e[0],ns:e.slice(1).sort().join(" ")}}function d(t){return new RegExp("(?:^| )"+t.replace(" "," .* ?")+"(?: |$)")}function m(t,e){return t.del&&!u&&t.e in f||!!e}function g(t){return c[t]||u&&f[t]||t}function v(e,i,r,o,a,u,f){var h=l(e),d=s[h]||(s[h]=[]);i.split(/\s/).forEach(function(i){if("ready"==i)return t(document).ready(r);var s=p(i);s.fn=r,s.sel=a,s.e in c&&(r=function(e){var n=e.relatedTarget;return!n||n!==this&&!t.contains(this,n)?s.fn.apply(this,arguments):void 0}),s.del=u;var l=u||r;s.proxy=function(t){if(t=j(t),!t.isImmediatePropagationStopped()){t.data=o;var i=l.apply(e,t._args==n?[t]:[t].concat(t._args));return i===!1&&(t.preventDefault(),t.stopPropagation()),i}},s.i=d.length,d.push(s),"addEventListener"in e&&e.addEventListener(g(s.e),s.proxy,m(s,f))})}function y(t,e,n,i,r){var o=l(t);(e||"").split(/\s/).forEach(function(e){h(t,e,n,i).forEach(function(e){delete s[o][e.i],"removeEventListener"in t&&t.removeEventListener(g(e.e),e.proxy,m(e,r))})})}function j(e,i){return(i||!e.isDefaultPrevented)&&(i||(i=e),t.each(E,function(t,n){var r=i[t];e[t]=function(){return this[n]=x,r&&r.apply(i,arguments)},e[n]=b}),(i.defaultPrevented!==n?i.defaultPrevented:"returnValue"in i?i.returnValue===!1:i.getPreventDefault&&i.getPreventDefault())&&(e.isDefaultPrevented=x)),e}function S(t){var e,i={originalEvent:t};for(e in t)w.test(e)||t[e]===n||(i[e]=t[e]);return j(i,t)}var n,e=1,i=Array.prototype.slice,r=t.isFunction,o=function(t){return"string"==typeof t},s={},a={},u="onfocusin"in window,f={focus:"focusin",blur:"focusout"},c={mouseenter:"mouseover",mouseleave:"mouseout"};a.click=a.mousedown=a.mouseup=a.mousemove="MouseEvents",t.event={add:v,remove:y},t.proxy=function(e,n){var s=2 in arguments&&i.call(arguments,2);if(r(e)){var a=function(){return e.apply(n,s?s.concat(i.call(arguments)):arguments)};return a._zid=l(e),a}if(o(n))return s?(s.unshift(e[n],e),t.proxy.apply(null,s)):t.proxy(e[n],e);throw new TypeError("expected function")},t.fn.bind=function(t,e,n){return this.on(t,e,n)},t.fn.unbind=function(t,e){return this.off(t,e)},t.fn.one=function(t,e,n,i){return this.on(t,e,n,i,1)};var x=function(){return!0},b=function(){return!1},w=/^([A-Z]|returnValue$|layer[XY]$)/,E={preventDefault:"isDefaultPrevented",stopImmediatePropagation:"isImmediatePropagationStopped",stopPropagation:"isPropagationStopped"};t.fn.delegate=function(t,e,n){return this.on(e,t,n)},t.fn.undelegate=function(t,e,n){return this.off(e,t,n)},t.fn.live=function(e,n){return t(document.body).delegate(this.selector,e,n),this},t.fn.die=function(e,n){return t(document.body).undelegate(this.selector,e,n),this},t.fn.on=function(e,s,a,u,f){var c,l,h=this;return e&&!o(e)?(t.each(e,function(t,e){h.on(t,s,a,e,f)}),h):(o(s)||r(u)||u===!1||(u=a,a=s,s=n),(r(a)||a===!1)&&(u=a,a=n),u===!1&&(u=b),h.each(function(n,r){f&&(c=function(t){return y(r,t.type,u),u.apply(this,arguments)}),s&&(l=function(e){var n,o=t(e.target).closest(s,r).get(0);return o&&o!==r?(n=t.extend(S(e),{currentTarget:o,liveFired:r}),(c||u).apply(o,[n].concat(i.call(arguments,1)))):void 0}),v(r,e,u,a,s,l||c)}))},t.fn.off=function(e,i,s){var a=this;return e&&!o(e)?(t.each(e,function(t,e){a.off(t,i,e)}),a):(o(i)||r(s)||s===!1||(s=i,i=n),s===!1&&(s=b),a.each(function(){y(this,e,s,i)}))},t.fn.trigger=function(e,n){return e=o(e)||t.isPlainObject(e)?t.Event(e):j(e),e._args=n,this.each(function(){e.type in f&&"function"==typeof this[e.type]?this[e.type]():"dispatchEvent"in this?this.dispatchEvent(e):t(this).triggerHandler(e,n)})},t.fn.triggerHandler=function(e,n){var i,r;return this.each(function(s,a){i=S(o(e)?t.Event(e):e),i._args=n,i.target=a,t.each(h(a,e.type||e),function(t,e){return r=e.proxy(i),i.isImmediatePropagationStopped()?!1:void 0})}),r},"focusin focusout focus blur load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select keydown keypress keyup error".split(" ").forEach(function(e){t.fn[e]=function(t){return 0 in arguments?this.bind(e,t):this.trigger(e)}}),t.Event=function(t,e){o(t)||(e=t,t=e.type);var n=document.createEvent(a[t]||"Events"),i=!0;if(e)for(var r in e)"bubbles"==r?i=!!e[r]:n[r]=e[r];return n.initEvent(t,i,!0),j(n)}}(Zepto),function(t){function h(e,n,i){var r=t.Event(n);return t(e).trigger(r,i),!r.isDefaultPrevented()}function p(t,e,i,r){return t.global?h(e||n,i,r):void 0}function d(e){e.global&&0===t.active++&&p(e,null,"ajaxStart")}function m(e){e.global&&!--t.active&&p(e,null,"ajaxStop")}function g(t,e){var n=e.context;return e.beforeSend.call(n,t,e)===!1||p(e,n,"ajaxBeforeSend",[t,e])===!1?!1:void p(e,n,"ajaxSend",[t,e])}function v(t,e,n,i){var r=n.context,o="success";n.success.call(r,t,o,e),i&&i.resolveWith(r,[t,o,e]),p(n,r,"ajaxSuccess",[e,n,t]),x(o,e,n)}function y(t,e,n,i,r){var o=i.context;i.error.call(o,n,e,t),r&&r.rejectWith(o,[n,e,t]),p(i,o,"ajaxError",[n,i,t||e]),x(e,n,i)}function x(t,e,n){var i=n.context;n.complete.call(i,e,t),p(n,i,"ajaxComplete",[e,n]),m(n)}function b(){}function w(t){return t&&(t=t.split(";",2)[0]),t&&(t==f?"html":t==u?"json":s.test(t)?"script":a.test(t)&&"xml")||"text"}function E(t,e){return""==e?t:(t+"&"+e).replace(/[&?]{1,2}/,"?")}function j(e){e.processData&&e.data&&"string"!=t.type(e.data)&&(e.data=t.param(e.data,e.traditional)),!e.data||e.type&&"GET"!=e.type.toUpperCase()||(e.url=E(e.url,e.data),e.data=void 0)}function S(e,n,i,r){return t.isFunction(n)&&(r=i,i=n,n=void 0),t.isFunction(i)||(r=i,i=void 0),{url:e,data:n,success:i,dataType:r}}function C(e,n,i,r){var o,s=t.isArray(n),a=t.isPlainObject(n);t.each(n,function(n,u){o=t.type(u),r&&(n=i?r:r+"["+(a||"object"==o||"array"==o?n:"")+"]"),!r&&s?e.add(u.name,u.value):"array"==o||!i&&"object"==o?C(e,u,i,n):e.add(n,u)})}var i,r,e=0,n=window.document,o=/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,s=/^(?:text|application)\/javascript/i,a=/^(?:text|application)\/xml/i,u="application/json",f="text/html",c=/^\s*$/,l=n.createElement("a");l.href=window.location.href,t.active=0,t.ajaxJSONP=function(i,r){if(!("type"in i))return t.ajax(i);var f,h,o=i.jsonpCallback,s=(t.isFunction(o)?o():o)||"jsonp"+ ++e,a=n.createElement("script"),u=window[s],c=function(e){t(a).triggerHandler("error",e||"abort")},l={abort:c};return r&&r.promise(l),t(a).on("load error",function(e,n){clearTimeout(h),t(a).off().remove(),"error"!=e.type&&f?v(f[0],l,i,r):y(null,n||"error",l,i,r),window[s]=u,f&&t.isFunction(u)&&u(f[0]),u=f=void 0}),g(l,i)===!1?(c("abort"),l):(window[s]=function(){f=arguments},a.src=i.url.replace(/\?(.+)=\?/,"?$1="+s),n.head.appendChild(a),i.timeout>0&&(h=setTimeout(function(){c("timeout")},i.timeout)),l)},t.ajaxSettings={type:"GET",beforeSend:b,success:b,error:b,complete:b,context:null,global:!0,xhr:function(){return new window.XMLHttpRequest},accepts:{script:"text/javascript, application/javascript, application/x-javascript",json:u,xml:"application/xml, text/xml",html:f,text:"text/plain"},crossDomain:!1,timeout:0,processData:!0,cache:!0},t.ajax=function(e){var a,o=t.extend({},e||{}),s=t.Deferred&&t.Deferred();for(i in t.ajaxSettings)void 0===o[i]&&(o[i]=t.ajaxSettings[i]);d(o),o.crossDomain||(a=n.createElement("a"),a.href=o.url,a.href=a.href,o.crossDomain=l.protocol+"//"+l.host!=a.protocol+"//"+a.host),o.url||(o.url=window.location.toString()),j(o);var u=o.dataType,f=/\?.+=\?/.test(o.url);if(f&&(u="jsonp"),o.cache!==!1&&(e&&e.cache===!0||"script"!=u&&"jsonp"!=u)||(o.url=E(o.url,"_="+Date.now())),"jsonp"==u)return f||(o.url=E(o.url,o.jsonp?o.jsonp+"=?":o.jsonp===!1?"":"callback=?")),t.ajaxJSONP(o,s);var C,h=o.accepts[u],p={},m=function(t,e){p[t.toLowerCase()]=[t,e]},x=/^([\w-]+:)\/\//.test(o.url)?RegExp.$1:window.location.protocol,S=o.xhr(),T=S.setRequestHeader;if(s&&s.promise(S),o.crossDomain||m("X-Requested-With","XMLHttpRequest"),m("Accept",h||"*/*"),(h=o.mimeType||h)&&(h.indexOf(",")>-1&&(h=h.split(",",2)[0]),S.overrideMimeType&&S.overrideMimeType(h)),(o.contentType||o.contentType!==!1&&o.data&&"GET"!=o.type.toUpperCase())&&m("Content-Type",o.contentType||"application/x-www-form-urlencoded"),o.headers)for(r in o.headers)m(r,o.headers[r]);if(S.setRequestHeader=m,S.onreadystatechange=function(){if(4==S.readyState){S.onreadystatechange=b,clearTimeout(C);var e,n=!1;if(S.status>=200&&S.status<300||304==S.status||0==S.status&&"file:"==x){u=u||w(o.mimeType||S.getResponseHeader("content-type")),e=S.responseText;try{"script"==u?(1,eval)(e):"xml"==u?e=S.responseXML:"json"==u&&(e=c.test(e)?null:t.parseJSON(e))}catch(i){n=i}n?y(n,"parsererror",S,o,s):v(e,S,o,s)}else y(S.statusText||null,S.status?"error":"abort",S,o,s)}},g(S,o)===!1)return S.abort(),y(null,"abort",S,o,s),S;if(o.xhrFields)for(r in o.xhrFields)S[r]=o.xhrFields[r];var N="async"in o?o.async:!0;S.open(o.type,o.url,N,o.username,o.password);for(r in p)T.apply(S,p[r]);return o.timeout>0&&(C=setTimeout(function(){S.onreadystatechange=b,S.abort(),y(null,"timeout",S,o,s)},o.timeout)),S.send(o.data?o.data:null),S},t.get=function(){return t.ajax(S.apply(null,arguments))},t.post=function(){var e=S.apply(null,arguments);return e.type="POST",t.ajax(e)},t.getJSON=function(){var e=S.apply(null,arguments);return e.dataType="json",t.ajax(e)},t.fn.load=function(e,n,i){if(!this.length)return this;var a,r=this,s=e.split(/\s/),u=S(e,n,i),f=u.success;return s.length>1&&(u.url=s[0],a=s[1]),u.success=function(e){r.html(a?t("<div>").html(e.replace(o,"")).find(a):e),f&&f.apply(r,arguments)},t.ajax(u),this};var T=encodeURIComponent;t.param=function(e,n){var i=[];return i.add=function(e,n){t.isFunction(n)&&(n=n()),null==n&&(n=""),this.push(T(e)+"="+T(n))},C(i,e,n),i.join("&").replace(/%20/g,"+")}}(Zepto),function(t){t.fn.serializeArray=function(){var e,n,i=[],r=function(t){return t.forEach?t.forEach(r):void i.push({name:e,value:t})};return this[0]&&t.each(this[0].elements,function(i,o){n=o.type,e=o.name,e&&"fieldset"!=o.nodeName.toLowerCase()&&!o.disabled&&"submit"!=n&&"reset"!=n&&"button"!=n&&"file"!=n&&("radio"!=n&&"checkbox"!=n||o.checked)&&r(t(o).val())}),i},t.fn.serialize=function(){var t=[];return this.serializeArray().forEach(function(e){t.push(encodeURIComponent(e.name)+"="+encodeURIComponent(e.value))}),t.join("&")},t.fn.submit=function(e){if(0 in arguments)this.bind("submit",e);else if(this.length){var n=t.Event("submit");this.eq(0).trigger(n),n.isDefaultPrevented()||this.get(0).submit()}return this}}(Zepto),function(t){"__proto__"in{}||t.extend(t.zepto,{Z:function(e,n){return e=e||[],t.extend(e,t.fn),e.selector=n||"",e.__Z=!0,e},isZ:function(e){return"array"===t.type(e)&&"__Z"in e}});try{getComputedStyle(void 0)}catch(e){var n=getComputedStyle;window.getComputedStyle=function(t){try{return n(t)}catch(e){return null}}}}(Zepto),function(e){function l(e,t,i,n){return Math.abs(e-t)>=Math.abs(i-n)?e-t>0?"Left":"Right":i-n>0?"Up":"Down"}function c(){r=null,t.last&&(t.el.trigger("longTap"),t={})}function f(){r&&clearTimeout(r),r=null}function p(){i&&clearTimeout(i),n&&clearTimeout(n),o&&clearTimeout(o),r&&clearTimeout(r),i=n=o=r=null,t={}}function s(e){return("touch"==e.pointerType||e.pointerType==e.MSPOINTER_TYPE_TOUCH)&&e.isPrimary}function g(e,t){return e.type=="pointer"+t||e.type.toLowerCase()=="mspointer"+t}var i,n,o,r,a,t={},u=750;e(document).ready(function(){var T,d,y,m,h=0,w=0;"MSGesture"in window&&(a=new MSGesture,a.target=document.body),e(document).bind("MSGestureEnd",function(e){var i=e.velocityX>1?"Right":e.velocityX<-1?"Left":e.velocityY>1?"Down":e.velocityY<-1?"Up":null;i&&(t.el.trigger("swipe"),t.el.trigger("swipe"+i))}).on("touchstart MSPointerDown pointerdown",function(n){(!(m=g(n,"down"))||s(n))&&(y=m?n:n.touches[0],n.touches&&1===n.touches.length&&t.x2&&(t.x2=void 0,t.y2=void 0),T=Date.now(),d=T-(t.last||T),t.el=e("tagName"in y.target?y.target:y.target.parentNode),i&&clearTimeout(i),t.x1=y.pageX,t.y1=y.pageY,d>0&&250>=d&&(t.isDoubleTap=!0),t.last=T,r=setTimeout(c,u),a&&m&&a.addPointer(n.pointerId))}).on("touchmove MSPointerMove pointermove",function(e){(!(m=g(e,"move"))||s(e))&&(y=m?e:e.touches[0],f(),t.x2=y.pageX,t.y2=y.pageY,h+=Math.abs(t.x1-t.x2),w+=Math.abs(t.y1-t.y2))}).on("touchend MSPointerUp pointerup",function(r){(!(m=g(r,"up"))||s(r))&&(f(),t.x2&&Math.abs(t.x1-t.x2)>30||t.y2&&Math.abs(t.y1-t.y2)>30?o=setTimeout(function(){t.el.trigger("swipe"),t.el.trigger("swipe"+l(t.x1,t.x2,t.y1,t.y2)),t={}},0):"last"in t&&(30>h&&30>w?n=setTimeout(function(){var n=e.Event("tap");n.cancelTouch=p,t.el&&t.el.trigger(n),t.isDoubleTap?(t.el&&t.el.trigger("doubleTap"),t={}):i=setTimeout(function(){i=null,t.el&&t.el.trigger("singleTap"),t={}},250)},0):t={}),h=w=0)}).on("touchcancel MSPointerCancel pointercancel",p),e(window).on("scroll",p)}),["swipe","swipeLeft","swipeRight","swipeUp","swipeDown","doubleTap","tap","singleTap","longTap"].forEach(function(t){e.fn[t]=function(e){return this.on(t,e)}})}(Zepto),function($,undefined){function dasherize(str){return str.replace(/([a-z])([A-Z])/,"$1-$2").toLowerCase()}function normalizeEvent(name){return eventPrefix?eventPrefix+name:name.toLowerCase()}var eventPrefix,transform,transitionProperty,transitionDuration,transitionTiming,transitionDelay,animationName,animationDuration,animationTiming,animationDelay,prefix="",vendors={Webkit:"webkit",Moz:"",O:"o"},document=window.document,testEl=document.createElement("div"),supportedTransforms=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i,cssReset={};$.each(vendors,function(vendor,event){return testEl.style[vendor+"TransitionProperty"]!==undefined?(prefix="-"+vendor.toLowerCase()+"-",eventPrefix=event,!1):void 0}),transform=prefix+"transform",cssReset[transitionProperty=prefix+"transition-property"]=cssReset[transitionDuration=prefix+"transition-duration"]=cssReset[transitionDelay=prefix+"transition-delay"]=cssReset[transitionTiming=prefix+"transition-timing-function"]=cssReset[animationName=prefix+"animation-name"]=cssReset[animationDuration=prefix+"animation-duration"]=cssReset[animationDelay=prefix+"animation-delay"]=cssReset[animationTiming=prefix+"animation-timing-function"]="",$.fx={off:eventPrefix===undefined&&testEl.style.transitionProperty===undefined,speeds:{_default:400,fast:200,slow:600},cssPrefix:prefix,transitionEnd:normalizeEvent("TransitionEnd"),animationEnd:normalizeEvent("AnimationEnd")},$.fn.animate=function(properties,duration,ease,callback,delay){return $.isFunction(duration)&&(callback=duration,ease=undefined,duration=undefined),$.isFunction(ease)&&(callback=ease,ease=undefined),$.isPlainObject(duration)&&(ease=duration.easing,callback=duration.complete,delay=duration.delay,duration=duration.duration),duration&&(duration=("number"==typeof duration?duration:$.fx.speeds[duration]||$.fx.speeds._default)/1e3),delay&&(delay=parseFloat(delay)/1e3),this.anim(properties,duration,ease,callback,delay)},$.fn.anim=function(properties,duration,ease,callback,delay){var key,cssProperties,wrappedCallback,cssValues={},transforms="",that=this,endEvent=$.fx.transitionEnd,fired=!1;if(duration===undefined&&(duration=$.fx.speeds._default/1e3),delay===undefined&&(delay=0),$.fx.off&&(duration=0),"string"==typeof properties)cssValues[animationName]=properties,cssValues[animationDuration]=duration+"s",cssValues[animationDelay]=delay+"s",cssValues[animationTiming]=ease||"linear",endEvent=$.fx.animationEnd;else{cssProperties=[];for(key in properties)supportedTransforms.test(key)?transforms+=key+"("+properties[key]+") ":(cssValues[key]=properties[key],cssProperties.push(dasherize(key)));transforms&&(cssValues[transform]=transforms,cssProperties.push(transform)),duration>0&&"object"==typeof properties&&(cssValues[transitionProperty]=cssProperties.join(", "),cssValues[transitionDuration]=duration+"s",cssValues[transitionDelay]=delay+"s",cssValues[transitionTiming]=ease||"linear")}return wrappedCallback=function(event){if("undefined"!=typeof event){if(event.target!==event.currentTarget)return;$(event.target).unbind(endEvent,wrappedCallback)}else $(this).unbind(endEvent,wrappedCallback);fired=!0,$(this).css(cssReset),callback&&callback.call(this)},duration>0&&(this.bind(endEvent,wrappedCallback),setTimeout(function(){fired||wrappedCallback.call(that)},1e3*duration+25)),this.size()&&this.get(0).clientLeft,this.css(cssValues),0>=duration&&setTimeout(function(){that.each(function(){wrappedCallback.call(this)})},0),this},testEl=null}(Zepto),function($){$.fn.coffee=function(option){function steam(){var fontSize=rand(8,opts.steamMaxSize),steamsFontFamily=randoms(1,opts.steamsFontFamily),color="#"+randoms(6,"0123456789ABCDEF"),position=rand(0,44),rotate=rand(-90,89),scale=rand02(.4,1),transform=$.fx.cssPrefix+"transform";transform=transform+":rotate("+rotate+"deg) scale("+scale+");";var $fly=$('<span class="coffee-steam">'+randoms(1,opts.steams)+"</span>"),left=rand(0,coffeeSteamBoxWidth-opts.steamWidth-fontSize);left>position&&(left=rand(0,position)),$fly.css({position:"absolute",left:position,top:opts.steamHeight,"font-size:":fontSize+"px",color:color,"font-family":steamsFontFamily,display:"block",opacity:1}).attr("style",$fly.attr("style")+transform).appendTo($coffeeSteamBox).animate({top:rand(opts.steamHeight/2,0),left:left,opacity:0},rand(opts.steamFlyTime/2,1.2*opts.steamFlyTime),__flyFastSlow,function(){$fly.remove(),$fly=null})}function wind(){var left=rand(-10,10);left+=parseInt($coffeeSteamBox.css("left")),left>=54?left=54:34>=left&&(left=34),$coffeeSteamBox.animate({left:left},rand(1e3,3e3),__flyFastSlow)}function randoms(length,chars){length=length||1;var hash="",maxNum=chars.length-1,num=0;for(i=0;i<length;i++)num=rand(0,maxNum-1),hash+=chars.slice(num,num+1);return hash}function rand(mi,ma){var range=ma-mi,out=mi+Math.round(Math.random()*range);

return parseInt(out)}function rand02(mi,ma){var range=ma-mi,out=mi+Math.random()*range;return parseFloat(out)}var __time_val=null,__time_wind=null,__flyFastSlow="cubic-bezier(.09,.64,.16,.94)",$coffee=$(this),opts=$.extend({},$.fn.coffee.defaults,option),coffeeSteamBoxWidth=opts.steamWidth,$coffeeSteamBox=$('<div class="coffee-steam-box"></div>').css({height:opts.steamHeight,width:opts.steamWidth,left:60,top:-50,position:"absolute",overflow:"hidden","z-index":0}).appendTo($coffee);return $.fn.coffee.stop=function(){clearInterval(__time_val),clearInterval(__time_wind)},$.fn.coffee.start=function(){__time_val=setInterval(function(){steam()},rand(opts.steamInterval/2,2*opts.steamInterval)),__time_wind=setInterval(function(){wind()},rand(100,1e3)+rand(1e3,3e3))},$coffee},$.fn.coffee.defaults={steams:["jQuery","HTML5","HTML6","CSS2","CSS3","JS","$.fn()","char","short","if","float","else","type","case","function","travel","return","array()","empty()","eval","C++","JAVA","PHP","JSP",".NET","while","this","$.find();","float","$.ajax()","addClass","width","height","Click","each","animate","cookie","bug","Design","Julying","$(this)","i++","Chrome","Firefox","Firebug","IE6","Guitar","Music","攻城师","旅行","王子墨","啤酒"],steamsFontFamily:["Verdana","Geneva","Comic Sans MS","MS Serif","Lucida Sans Unicode","Times New Roman","Trebuchet MS","Arial","Courier New","Georgia"],steamFlyTime:5e3,steamInterval:500,steamMaxSize:30,steamHeight:200,steamWidth:300},$.fn.coffee.version="2.0.0"}(Zepto),function(root,factory){var $=window.$;factory.call(root,$)}(this,function($){"use strict";function init(url){if(url){var optsAudio={loop:!0,preload:"auto",src:url};for(var i in optsAudio)optsAudio.hasOwnProperty(i)&&i in audio&&(audio[i]=optsAudio[i]);window.audio=audio,audio.load();var html='<section class="u-audio"><p id="coffee_flow" class="btn_audio"><strong class="txt_audio z-hide">关闭</strong><span class="css_sprite01 audio_open"></span></p></section>';$(html).prependTo($("body")),$("#coffee_flow").coffee({steams:["<img src='http://www5.5.cn/Public/newimages/audio_widget_01@2x.png' />","<img src='http://www5.5.cn/Public/newimages/audio_widget_01@2x.png' />"],steamHeight:100,steamWidth:44}),service.audioPlay(),$(".u-audio").on("tap",function(){played=!played,played?service.audioPlay():service.audioPause()})}}function audioPlay(){audio.play(),$.fn.coffee.start(),$(".coffee-steam-box").show(500)}function audioPause(){audio.pause(),$.fn.coffee.stop(),$(".coffee-steam-box").hide(500)}var service={audioPlay:audioPlay,audioPause:audioPause,init:init},audio=new Audio,played=!0;return service}),function(){function x(n){function r(r,t,e,i,u,a){for(;u>=0&&a>u;u+=n){var f=i?i[u]:u;e=t(e,r[f],f,r)}return e}return function(t,e,i,u){e=g(e,u,4);var a=!w(t)&&h.keys(t),f=(a||t).length,o=n>0?0:f-1;return arguments.length<3&&(i=t[a?a[o]:o],o+=n),r(t,e,i,a,o,f)}}function A(n){return function(r,t,e){t=y(t,e);for(var i=null!=r&&r.length,u=n>0?0:i-1;u>=0&&i>u;u+=n)if(t(r[u],u,r))return u;return-1}}function F(n,r){var t=I.length,i=n.constructor,u=h.isFunction(i)&&i.prototype||e,a="constructor";for(h.has(n,a)&&!h.contains(r,a)&&r.push(a);t--;)a=I[t],a in n&&n[a]!==u[a]&&!h.contains(r,a)&&r.push(a)}var n=this,r=n._,t=Array.prototype,e=Object.prototype,i=Function.prototype,u=t.push,a=t.slice,f=e.toString,o=e.hasOwnProperty,l=Array.isArray,c=Object.keys,s=i.bind,v=Object.create,p=function(){},h=function(n){return n instanceof h?n:this instanceof h?void(this._wrapped=n):new h(n)};"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=h),exports._=h):n._=h,h.VERSION="1.8.2";var g=function(n,r,t){if(void 0===r)return n;switch(null==t?3:t){case 1:return function(t){return n.call(r,t)};case 2:return function(t,e){return n.call(r,t,e)};case 3:return function(t,e,i){return n.call(r,t,e,i)};case 4:return function(t,e,i,u){return n.call(r,t,e,i,u)}}return function(){return n.apply(r,arguments)}},y=function(n,r,t){return null==n?h.identity:h.isFunction(n)?g(n,r,t):h.isObject(n)?h.matcher(n):h.property(n)};h.iteratee=function(n,r){return y(n,r,1/0)};var m=function(n,r){return function(t){var e=arguments.length;if(2>e||null==t)return t;for(var i=1;e>i;i++)for(var u=arguments[i],a=n(u),f=a.length,o=0;f>o;o++){var l=a[o];r&&void 0!==t[l]||(t[l]=u[l])}return t}},d=function(n){if(!h.isObject(n))return{};if(v)return v(n);p.prototype=n;var r=new p;return p.prototype=null,r},b=Math.pow(2,53)-1,w=function(n){var r=null!=n&&n.length;return"number"==typeof r&&r>=0&&b>=r};h.each=h.forEach=function(n,r,t){r=g(r,t);var e,i;if(w(n))for(e=0,i=n.length;i>e;e++)r(n[e],e,n);else{var u=h.keys(n);for(e=0,i=u.length;i>e;e++)r(n[u[e]],u[e],n)}return n},h.map=h.collect=function(n,r,t){r=y(r,t);for(var e=!w(n)&&h.keys(n),i=(e||n).length,u=Array(i),a=0;i>a;a++){var f=e?e[a]:a;u[a]=r(n[f],f,n)}return u},h.reduce=h.foldl=h.inject=x(1),h.reduceRight=h.foldr=x(-1),h.find=h.detect=function(n,r,t){var e;return e=w(n)?h.findIndex(n,r,t):h.findKey(n,r,t),void 0!==e&&-1!==e?n[e]:void 0},h.filter=h.select=function(n,r,t){var e=[];return r=y(r,t),h.each(n,function(n,t,i){r(n,t,i)&&e.push(n)}),e},h.reject=function(n,r,t){return h.filter(n,h.negate(y(r)),t)},h.every=h.all=function(n,r,t){r=y(r,t);for(var e=!w(n)&&h.keys(n),i=(e||n).length,u=0;i>u;u++){var a=e?e[u]:u;if(!r(n[a],a,n))return!1}return!0},h.some=h.any=function(n,r,t){r=y(r,t);for(var e=!w(n)&&h.keys(n),i=(e||n).length,u=0;i>u;u++){var a=e?e[u]:u;if(r(n[a],a,n))return!0}return!1},h.contains=h.includes=h.include=function(n,r,t){return w(n)||(n=h.values(n)),h.indexOf(n,r,"number"==typeof t&&t)>=0},h.invoke=function(n,r){var t=a.call(arguments,2),e=h.isFunction(r);return h.map(n,function(n){var i=e?r:n[r];return null==i?i:i.apply(n,t)})},h.pluck=function(n,r){return h.map(n,h.property(r))},h.where=function(n,r){return h.filter(n,h.matcher(r))},h.findWhere=function(n,r){return h.find(n,h.matcher(r))},h.max=function(n,r,t){var u,a,e=-(1/0),i=-(1/0);if(null==r&&null!=n){n=w(n)?n:h.values(n);for(var f=0,o=n.length;o>f;f++)u=n[f],u>e&&(e=u)}else r=y(r,t),h.each(n,function(n,t,u){a=r(n,t,u),(a>i||a===-(1/0)&&e===-(1/0))&&(e=n,i=a)});return e},h.min=function(n,r,t){var u,a,e=1/0,i=1/0;if(null==r&&null!=n){n=w(n)?n:h.values(n);for(var f=0,o=n.length;o>f;f++)u=n[f],e>u&&(e=u)}else r=y(r,t),h.each(n,function(n,t,u){a=r(n,t,u),(i>a||a===1/0&&e===1/0)&&(e=n,i=a)});return e},h.shuffle=function(n){for(var u,r=w(n)?n:h.values(n),t=r.length,e=Array(t),i=0;t>i;i++)u=h.random(0,i),u!==i&&(e[i]=e[u]),e[u]=r[i];return e},h.sample=function(n,r,t){return null==r||t?(w(n)||(n=h.values(n)),n[h.random(n.length-1)]):h.shuffle(n).slice(0,Math.max(0,r))},h.sortBy=function(n,r,t){return r=y(r,t),h.pluck(h.map(n,function(n,t,e){return{value:n,index:t,criteria:r(n,t,e)}}).sort(function(n,r){var t=n.criteria,e=r.criteria;if(t!==e){if(t>e||void 0===t)return 1;if(e>t||void 0===e)return-1}return n.index-r.index}),"value")};var _=function(n){return function(r,t,e){var i={};return t=y(t,e),h.each(r,function(e,u){var a=t(e,u,r);n(i,e,a)}),i}};h.groupBy=_(function(n,r,t){h.has(n,t)?n[t].push(r):n[t]=[r]}),h.indexBy=_(function(n,r,t){n[t]=r}),h.countBy=_(function(n,r,t){h.has(n,t)?n[t]++:n[t]=1}),h.toArray=function(n){return n?h.isArray(n)?a.call(n):w(n)?h.map(n,h.identity):h.values(n):[]},h.size=function(n){return null==n?0:w(n)?n.length:h.keys(n).length},h.partition=function(n,r,t){r=y(r,t);var e=[],i=[];return h.each(n,function(n,t,u){(r(n,t,u)?e:i).push(n)}),[e,i]},h.first=h.head=h.take=function(n,r,t){return null==n?void 0:null==r||t?n[0]:h.initial(n,n.length-r)},h.initial=function(n,r,t){return a.call(n,0,Math.max(0,n.length-(null==r||t?1:r)))},h.last=function(n,r,t){return null==n?void 0:null==r||t?n[n.length-1]:h.rest(n,Math.max(0,n.length-r))},h.rest=h.tail=h.drop=function(n,r,t){return a.call(n,null==r||t?1:r)},h.compact=function(n){return h.filter(n,h.identity)};var j=function(n,r,t,e){for(var i=[],u=0,a=e||0,f=n&&n.length;f>a;a++){var o=n[a];if(w(o)&&(h.isArray(o)||h.isArguments(o))){r||(o=j(o,r,t));var l=0,c=o.length;for(i.length+=c;c>l;)i[u++]=o[l++]}else t||(i[u++]=o)}return i};h.flatten=function(n,r){return j(n,r,!1)},h.without=function(n){return h.difference(n,a.call(arguments,1))},h.uniq=h.unique=function(n,r,t,e){if(null==n)return[];h.isBoolean(r)||(e=t,t=r,r=!1),null!=t&&(t=y(t,e));for(var i=[],u=[],a=0,f=n.length;f>a;a++){var o=n[a],l=t?t(o,a,n):o;r?(a&&u===l||i.push(o),u=l):t?h.contains(u,l)||(u.push(l),i.push(o)):h.contains(i,o)||i.push(o)}return i},h.union=function(){return h.uniq(j(arguments,!0,!0))},h.intersection=function(n){if(null==n)return[];for(var r=[],t=arguments.length,e=0,i=n.length;i>e;e++){var u=n[e];if(!h.contains(r,u)){for(var a=1;t>a&&h.contains(arguments[a],u);a++);a===t&&r.push(u)}}return r},h.difference=function(n){var r=j(arguments,!0,!0,1);return h.filter(n,function(n){return!h.contains(r,n)})},h.zip=function(){return h.unzip(arguments)},h.unzip=function(n){for(var r=n&&h.max(n,"length").length||0,t=Array(r),e=0;r>e;e++)t[e]=h.pluck(n,e);return t},h.object=function(n,r){for(var t={},e=0,i=n&&n.length;i>e;e++)r?t[n[e]]=r[e]:t[n[e][0]]=n[e][1];return t},h.indexOf=function(n,r,t){var e=0,i=n&&n.length;if("number"==typeof t)e=0>t?Math.max(0,i+t):t;else if(t&&i)return e=h.sortedIndex(n,r),n[e]===r?e:-1;if(r!==r)return h.findIndex(a.call(n,e),h.isNaN);for(;i>e;e++)if(n[e]===r)return e;return-1},h.lastIndexOf=function(n,r,t){var e=n?n.length:0;if("number"==typeof t&&(e=0>t?e+t+1:Math.min(e,t+1)),r!==r)return h.findLastIndex(a.call(n,0,e),h.isNaN);for(;--e>=0;)if(n[e]===r)return e;return-1},h.findIndex=A(1),h.findLastIndex=A(-1),h.sortedIndex=function(n,r,t,e){t=y(t,e,1);for(var i=t(r),u=0,a=n.length;a>u;){var f=Math.floor((u+a)/2);t(n[f])<i?u=f+1:a=f}return u},h.range=function(n,r,t){arguments.length<=1&&(r=n||0,n=0),t=t||1;for(var e=Math.max(Math.ceil((r-n)/t),0),i=Array(e),u=0;e>u;u++,n+=t)i[u]=n;return i};var k=function(n,r,t,e,i){if(!(e instanceof r))return n.apply(t,i);var u=d(n.prototype),a=n.apply(u,i);return h.isObject(a)?a:u};h.bind=function(n,r){if(s&&n.bind===s)return s.apply(n,a.call(arguments,1));if(!h.isFunction(n))throw new TypeError("Bind must be called on a function");var t=a.call(arguments,2),e=function(){return k(n,e,r,this,t.concat(a.call(arguments)))};return e},h.partial=function(n){var r=a.call(arguments,1),t=function(){for(var e=0,i=r.length,u=Array(i),a=0;i>a;a++)u[a]=r[a]===h?arguments[e++]:r[a];for(;e<arguments.length;)u.push(arguments[e++]);return k(n,t,this,this,u)};return t},h.bindAll=function(n){var r,e,t=arguments.length;if(1>=t)throw new Error("bindAll must be passed function names");for(r=1;t>r;r++)e=arguments[r],n[e]=h.bind(n[e],n);return n},h.memoize=function(n,r){var t=function(e){var i=t.cache,u=""+(r?r.apply(this,arguments):e);return h.has(i,u)||(i[u]=n.apply(this,arguments)),i[u]};return t.cache={},t},h.delay=function(n,r){var t=a.call(arguments,2);return setTimeout(function(){return n.apply(null,t)},r)},h.defer=h.partial(h.delay,h,1),h.throttle=function(n,r,t){var e,i,u,a=null,f=0;t||(t={});var o=function(){f=t.leading===!1?0:h.now(),a=null,u=n.apply(e,i),a||(e=i=null)};return function(){var l=h.now();f||t.leading!==!1||(f=l);var c=r-(l-f);return e=this,i=arguments,0>=c||c>r?(a&&(clearTimeout(a),a=null),f=l,u=n.apply(e,i),a||(e=i=null)):a||t.trailing===!1||(a=setTimeout(o,c)),u}},h.debounce=function(n,r,t){var e,i,u,a,f,o=function(){var l=h.now()-a;r>l&&l>=0?e=setTimeout(o,r-l):(e=null,t||(f=n.apply(u,i),e||(u=i=null)))};return function(){u=this,i=arguments,a=h.now();var l=t&&!e;return e||(e=setTimeout(o,r)),l&&(f=n.apply(u,i),u=i=null),f}},h.wrap=function(n,r){return h.partial(r,n)},h.negate=function(n){return function(){return!n.apply(this,arguments)}},h.compose=function(){var n=arguments,r=n.length-1;return function(){for(var t=r,e=n[r].apply(this,arguments);t--;)e=n[t].call(this,e);return e}},h.after=function(n,r){return function(){return--n<1?r.apply(this,arguments):void 0}},h.before=function(n,r){var t;return function(){return--n>0&&(t=r.apply(this,arguments)),1>=n&&(r=null),t}},h.once=h.partial(h.before,2);var O=!{toString:null}.propertyIsEnumerable("toString"),I=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"];h.keys=function(n){if(!h.isObject(n))return[];if(c)return c(n);var r=[];for(var t in n)h.has(n,t)&&r.push(t);return O&&F(n,r),r},h.allKeys=function(n){if(!h.isObject(n))return[];var r=[];for(var t in n)r.push(t);return O&&F(n,r),r},h.values=function(n){for(var r=h.keys(n),t=r.length,e=Array(t),i=0;t>i;i++)e[i]=n[r[i]];return e},h.mapObject=function(n,r,t){r=y(r,t);for(var a,e=h.keys(n),i=e.length,u={},f=0;i>f;f++)a=e[f],u[a]=r(n[a],a,n);return u},h.pairs=function(n){for(var r=h.keys(n),t=r.length,e=Array(t),i=0;t>i;i++)e[i]=[r[i],n[r[i]]];return e},h.invert=function(n){for(var r={},t=h.keys(n),e=0,i=t.length;i>e;e++)r[n[t[e]]]=t[e];return r},h.functions=h.methods=function(n){var r=[];for(var t in n)h.isFunction(n[t])&&r.push(t);return r.sort()},h.extend=m(h.allKeys),h.extendOwn=h.assign=m(h.keys),h.findKey=function(n,r,t){r=y(r,t);for(var i,e=h.keys(n),u=0,a=e.length;a>u;u++)if(i=e[u],r(n[i],i,n))return i},h.pick=function(n,r,t){var u,a,e={},i=n;if(null==i)return e;h.isFunction(r)?(a=h.allKeys(i),u=g(r,t)):(a=j(arguments,!1,!1,1),u=function(n,r,t){return r in t},i=Object(i));for(var f=0,o=a.length;o>f;f++){var l=a[f],c=i[l];u(c,l,i)&&(e[l]=c)}return e},h.omit=function(n,r,t){if(h.isFunction(r))r=h.negate(r);else{var e=h.map(j(arguments,!1,!1,1),String);r=function(n,r){return!h.contains(e,r)}}return h.pick(n,r,t)},h.defaults=m(h.allKeys,!0),h.create=function(n,r){var t=d(n);return r&&h.extendOwn(t,r),t},h.clone=function(n){return h.isObject(n)?h.isArray(n)?n.slice():h.extend({},n):n},h.tap=function(n,r){return r(n),n},h.isMatch=function(n,r){var t=h.keys(r),e=t.length;if(null==n)return!e;for(var i=Object(n),u=0;e>u;u++){var a=t[u];if(r[a]!==i[a]||!(a in i))return!1}return!0};var S=function(n,r,t,e){if(n===r)return 0!==n||1/n===1/r;if(null==n||null==r)return n===r;n instanceof h&&(n=n._wrapped),r instanceof h&&(r=r._wrapped);var i=f.call(n);if(i!==f.call(r))return!1;switch(i){case"[object RegExp]":case"[object String]":return""+n==""+r;case"[object Number]":return+n!==+n?+r!==+r:0===+n?1/+n===1/r:+n===+r;case"[object Date]":case"[object Boolean]":return+n===+r}var u="[object Array]"===i;if(!u){if("object"!=typeof n||"object"!=typeof r)return!1;var a=n.constructor,o=r.constructor;if(a!==o&&!(h.isFunction(a)&&a instanceof a&&h.isFunction(o)&&o instanceof o)&&"constructor"in n&&"constructor"in r)return!1}t=t||[],e=e||[];for(var l=t.length;l--;)if(t[l]===n)return e[l]===r;if(t.push(n),e.push(r),u){if(l=n.length,l!==r.length)return!1;for(;l--;)if(!S(n[l],r[l],t,e))return!1}else{var s,c=h.keys(n);if(l=c.length,h.keys(r).length!==l)return!1;for(;l--;)if(s=c[l],!h.has(r,s)||!S(n[s],r[s],t,e))return!1}return t.pop(),e.pop(),!0};h.isEqual=function(n,r){return S(n,r)},h.isEmpty=function(n){return null==n?!0:w(n)&&(h.isArray(n)||h.isString(n)||h.isArguments(n))?0===n.length:0===h.keys(n).length},h.isElement=function(n){return!(!n||1!==n.nodeType)},h.isArray=l||function(n){return"[object Array]"===f.call(n)},h.isObject=function(n){var r=typeof n;return"function"===r||"object"===r&&!!n},h.each(["Arguments","Function","String","Number","Date","RegExp","Error"],function(n){h["is"+n]=function(r){return f.call(r)==="[object "+n+"]"}}),h.isArguments(arguments)||(h.isArguments=function(n){return h.has(n,"callee")}),"function"!=typeof/./&&"object"!=typeof Int8Array&&(h.isFunction=function(n){return"function"==typeof n||!1}),h.isFinite=function(n){return isFinite(n)&&!isNaN(parseFloat(n))},h.isNaN=function(n){return h.isNumber(n)&&n!==+n},h.isBoolean=function(n){return n===!0||n===!1||"[object Boolean]"===f.call(n)},h.isNull=function(n){return null===n},h.isUndefined=function(n){return void 0===n},h.has=function(n,r){return null!=n&&o.call(n,r)},h.noConflict=function(){return n._=r,this},h.identity=function(n){return n},h.constant=function(n){return function(){return n}},h.noop=function(){},h.property=function(n){return function(r){return null==r?void 0:r[n]}},h.propertyOf=function(n){return null==n?function(){}:function(r){return n[r]}},h.matcher=h.matches=function(n){return n=h.extendOwn({},n),function(r){return h.isMatch(r,n)}},h.times=function(n,r,t){var e=Array(Math.max(0,n));r=g(r,t,1);for(var i=0;n>i;i++)e[i]=r(i);return e},h.random=function(n,r){return null==r&&(r=n,n=0),n+Math.floor(Math.random()*(r-n+1))},h.now=Date.now||function(){return(new Date).getTime()};var E={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},M=h.invert(E),N=function(n){var r=function(r){return n[r]},t="(?:"+h.keys(n).join("|")+")",e=RegExp(t),i=RegExp(t,"g");return function(n){return n=null==n?"":""+n,e.test(n)?n.replace(i,r):n}};h.escape=N(E),h.unescape=N(M),h.result=function(n,r,t){var e=null==n?void 0:n[r];return void 0===e&&(e=t),h.isFunction(e)?e.call(n):e};var B=0;h.uniqueId=function(n){var r=++B+"";return n?n+r:r},h.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var T=/(.)^/,R={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},q=/\\|'|\r|\n|\u2028|\u2029/g,K=function(n){return"\\"+R[n]};h.template=function(n,r,t){!r&&t&&(r=t),r=h.defaults({},r,h.templateSettings);var e=RegExp([(r.escape||T).source,(r.interpolate||T).source,(r.evaluate||T).source].join("|")+"|$","g"),i=0,u="__p+='";n.replace(e,function(r,t,e,a,f){return u+=n.slice(i,f).replace(q,K),i=f+r.length,t?u+="'+\n((__t=("+t+"))==null?'':_.escape(__t))+\n'":e?u+="'+\n((__t=("+e+"))==null?'':__t)+\n'":a&&(u+="';\n"+a+"\n__p+='"),r}),u+="';\n",r.variable||(u="with(obj||{}){\n"+u+"}\n"),u="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+u+"return __p;\n";try{var a=new Function(r.variable||"obj","_",u)}catch(f){throw f.source=u,f}var o=function(n){return a.call(this,n,h)},l=r.variable||"obj";return o.source="function("+l+"){\n"+u+"}",o},h.chain=function(n){var r=h(n);return r._chain=!0,r};var z=function(n,r){return n._chain?h(r).chain():r};h.mixin=function(n){h.each(h.functions(n),function(r){var t=h[r]=n[r];h.prototype[r]=function(){var n=[this._wrapped];return u.apply(n,arguments),z(this,t.apply(h,n))}})},h.mixin(h),h.each(["pop","push","reverse","shift","sort","splice","unshift"],function(n){var r=t[n];h.prototype[n]=function(){var t=this._wrapped;return r.apply(t,arguments),"shift"!==n&&"splice"!==n||0!==t.length||delete t[0],z(this,t)}}),h.each(["concat","join","slice"],function(n){var r=t[n];h.prototype[n]=function(){return z(this,r.apply(this._wrapped,arguments))}}),h.prototype.value=function(){return this._wrapped},h.prototype.valueOf=h.prototype.toJSON=h.prototype.value,h.prototype.toString=function(){return""+this._wrapped},"function"==typeof define&&define.amd&&define("underscore",[],function(){return h})}.call(this),function(e,t,n){"use strict";function r(e,t){return t=t||Error,function(){var s,u,n=2,r=arguments,i=r[0],a="["+(e?e+":":"")+i+"] ",o=r[1];for(a+=o.replace(/\{\d+\}/g,function(e){var t=+e.slice(1,-1),i=t+n;return i<r.length?et(r[i]):e}),a+="\nhttp://errors.angularjs.org/1.4.0/"+(e?e+"/":"")+i,u=n,s="?";u<r.length;u++,s="&")a+=s+"p"+(u-n)+"="+encodeURIComponent(et(r[u]));return new t(a)}}function S(e){if(null==e||G(e))return!1;var t="length"in Object(e)&&e.length;return e.nodeType===We&&t?!0:F(e)||H(e)||0===t||"number"==typeof t&&t>0&&t-1 in e}function C(e,t,n){var r,i;if(e)if(z(e))for(r in e)"prototype"==r||"length"==r||"name"==r||e.hasOwnProperty&&!e.hasOwnProperty(r)||t.call(n,e[r],r,e);else if(H(e)||S(e)){var a="object"!=typeof e;for(r=0,i=e.length;i>r;r++)(a||r in e)&&t.call(n,e[r],r,e)}else if(e.forEach&&e.forEach!==C)e.forEach(t,n,e);else if(U(e))for(r in e)t.call(n,e[r],r,e);else if("function"==typeof e.hasOwnProperty)for(r in e)e.hasOwnProperty(r)&&t.call(n,e[r],r,e);else for(r in e)s.call(e,r)&&t.call(n,e[r],r,e);return e}function E(e,t,n){for(var r=Object.keys(e).sort(),i=0;i<r.length;i++)t.call(n,e[r[i]],r[i]);return r}function k(e){return function(t,n){e(n,t)}}function A(){return++x}function O(e,t){t?e.$$hashKey=t:delete e.$$hashKey}function M(e,t,n){for(var r=e.$$hashKey,i=0,a=t.length;a>i;++i){var o=t[i];if(q(o)||z(o))for(var s=Object.keys(o),u=0,l=s.length;l>u;u++){var f=s[u],c=o[f];n&&q(c)?(q(e[f])||(e[f]=H(c)?[]:{}),M(e[f],[c],!0)):e[f]=c}}return O(e,r),e}function T(e){return M(e,d.call(arguments,1),!1)}function V(e){return M(e,d.call(arguments,1),!0)}function N(e){return parseInt(e,10)}function j(e,t){return T(Object.create(e),t)}function P(){}function I(e){return e}function D(e){return function(){return e}}function R(e){return"undefined"==typeof e}function _(e){return"undefined"!=typeof e}function q(e){return null!==e&&"object"==typeof e}function U(e){return null!==e&&"object"==typeof e&&!g(e)}function F(e){return"string"==typeof e}function B(e){return"number"==typeof e}function L(e){return"[object Date]"===m.call(e)}function z(e){return"function"==typeof e}function W(e){return"[object RegExp]"===m.call(e)}function G(e){return e&&e.window===e}function J(e){return e&&e.$evalAsync&&e.$watch}function Y(e){return"[object File]"===m.call(e)}function Z(e){return"[object FormData]"===m.call(e)}function K(e){return"[object Blob]"===m.call(e)}function X(e){return"boolean"==typeof e}function Q(e){return e&&z(e.then)}function te(e){return ee.test(m.call(e))}function ie(e){return!(!e||!(e.nodeName||e.prop&&e.attr&&e.find))}function ae(e){var r,t={},n=e.split(",");for(r=0;r<n.length;r++)t[n[r]]=!0;return t}function oe(e){return o(e.nodeName||e[0]&&e[0].nodeName)}function ue(e,t){var n=e.indexOf(t);return n>=0&&e.splice(n,1),n}function le(e,t,n,r){function c(e,t,n,r,i){var a=le(t,null,r,i);q(t)&&(r.push(t),i.push(a)),n[e]=a}if(G(e)||J(e))throw y("cpws","Can't copy! Making copies of Window or Scope instances is not supported.");if(te(t))throw y("cpta","Can't copy! TypedArray destination cannot be mutated.");if(t){if(e===t)throw y("cpi","Can't copy! Source and destination are identical.");if(n=n||[],r=r||[],q(e)){var a=n.indexOf(e);if(-1!==a)return r[a];n.push(e),r.push(t)}var o,u;if(H(e)){t.length=0;for(var l=0;l<e.length;l++)o=le(e[l],null,n,r),q(e[l])&&(n.push(e[l]),r.push(o)),t.push(o)}else{var f=t.$$hashKey;if(H(t)?t.length=0:C(t,function(e,n){delete t[n]}),U(e))for(u in e)c(u,e[u],t,n,r);else if(e&&"function"==typeof e.hasOwnProperty)for(u in e)e.hasOwnProperty(u)&&c(u,e[u],t,n,r);else for(u in e)s.call(e,u)&&c(u,e[u],t,n,r);O(t,f)}}else if(t=e,e)if(H(e))t=le(e,[],n,r);else if(te(e))t=new e.constructor(e);else if(L(e))t=new Date(e.getTime());else if(W(e))t=new RegExp(e.source,e.toString().match(/[^\/]*$/)[0]),t.lastIndex=e.lastIndex;else if(q(e)){var i=Object.create(g(e));t=le(e,i,n,r)}return t}function fe(e,t){if(H(e)){t=t||[];for(var n=0,r=e.length;r>n;n++)t[n]=e[n]}else if(q(e)){t=t||{};for(var i in e)("$"!==i.charAt(0)||"$"!==i.charAt(1))&&(t[i]=e[i])}return t||e}function ce(e,t){if(e===t)return!0;if(null===e||null===t)return!1;if(e!==e&&t!==t)return!0;var a,o,s,r=typeof e,i=typeof t;if(r==i&&"object"==r){if(!H(e)){if(L(e))return L(t)?ce(e.getTime(),t.getTime()):!1;if(W(e))return W(t)?e.toString()==t.toString():!1;if(J(e)||J(t)||G(e)||G(t)||H(t)||L(t)||W(t))return!1;s=ze();for(o in e)if("$"!==o.charAt(0)&&!z(e[o])){if(!ce(e[o],t[o]))return!1;s[o]=!0}for(o in t)if(!(o in s||"$"===o.charAt(0)||t[o]===n||z(t[o])))return!1;return!0}if(!H(t))return!1;if((a=e.length)==t.length){for(o=0;a>o;o++)if(!ce(e[o],t[o]))return!1;return!0}}return!1}function de(e,t,n){return e.concat(d.call(t,n))}function $e(e,t){return d.call(e,t||0)}function ve(e,t){var n=arguments.length>2?$e(arguments,2):[];return!z(t)||t instanceof RegExp?t:n.length?function(){return arguments.length?t.apply(e,de(n,arguments,0)):t.apply(e,n)}:function(){return arguments.length?t.apply(e,arguments):t.call(e)}}function me(e,r){var i=r;return"string"==typeof e&&"$"===e.charAt(0)&&"$"===e.charAt(1)?i=n:G(r)?i="$WINDOW":r&&t===r?i="$DOCUMENT":J(r)&&(i="$SCOPE"),i}function ge(e,t){return"undefined"==typeof e?n:(B(t)||(t=t?2:null),JSON.stringify(e,me,t))}function ye(e){return F(e)?JSON.parse(e):e}function be(e,t){var n=Date.parse("Jan 01, 1970 00:00:00 "+e)/6e4;return isNaN(n)?t:n}function we(e,t){return e=new Date(e.getTime()),e.setMinutes(e.getMinutes()+t),e}function xe(e,t,n){n=n?-1:1;var r=be(t,e.getTimezoneOffset());return we(e,n*(r-e.getTimezoneOffset()))}function Se(e){e=h(e).clone();try{e.empty()}catch(t){}var n=h("<div>").append(e).html();try{return e[0].nodeType===Je?o(n):n.match(/^(<[^>]+>)/)[1].replace(/^<([\w\-]+)/,function(e,t){return"<"+o(t)})}catch(t){return o(n)}}function Ce(e){try{return decodeURIComponent(e)}catch(t){}}function Ee(e){var n,r,t={};return C((e||"").split("&"),function(e){if(e&&(n=e.replace(/\+/g,"%20").split("="),r=Ce(n[0]),_(r))){var i=_(n[1])?Ce(n[1]):!0;s.call(t,r)?H(t[r])?t[r].push(i):t[r]=[t[r],i]:t[r]=i}}),t}function ke(e){var t=[];return C(e,function(e,n){H(e)?C(e,function(e){t.push(Oe(n,!0)+(e===!0?"":"="+Oe(e,!0)))}):t.push(Oe(n,!0)+(e===!0?"":"="+Oe(e,!0)))}),t.length?t.join("&"):""}function Ae(e){return Oe(e,!0).replace(/%26/gi,"&").replace(/%3D/gi,"=").replace(/%2B/gi,"+")}function Oe(e,t){return encodeURIComponent(e).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%20/g,t?"%20":"+")}function Te(e,t){var n,r,i=Me.length;for(r=0;i>r;++r)if(n=Me[r]+t,F(n=e.getAttribute(n)))return n;return null}function Ve(e,t){var n,r,i={};C(Me,function(t){var i=t+"app";!n&&e.hasAttribute&&e.hasAttribute(i)&&(n=e,r=e.getAttribute(i))}),C(Me,function(t){var a,i=t+"app";!n&&(a=e.querySelector("["+i.replace(":","\\:")+"]"))&&(n=a,r=a.getAttribute(i))}),n&&(i.strictDi=null!==Te(n,"strict-di"),t(n,r?[r]:[],i))}function Ne(n,r,i){q(i)||(i={});var a={strictDi:!1};i=T(a,i);var o=function(){if(n=h(n),n.injector()){var e=n[0]===t?"document":Se(n);throw y("btstrpd","App Already Bootstrapped with this Element '{0}'",e.replace(/</,"&lt;").replace(/>/,"&gt;"))}r=r||[],r.unshift(["$provide",function(e){e.value("$rootElement",n)}]),i.debugInfoEnabled&&r.push(["$compileProvider",function(e){e.debugInfoEnabled(!0)}]),r.unshift("ng");var a=nn(r,i.strictDi);return a.invoke(["$rootScope","$rootElement","$compile","$injector",function(e,t,n,r){e.$apply(function(){t.data("$injector",r),n(t)(e)})}]),a},s=/^NG_ENABLE_DEBUG_INFO!/,u=/^NG_DEFER_BOOTSTRAP!/;return e&&s.test(e.name)&&(i.debugInfoEnabled=!0,e.name=e.name.replace(s,"")),e&&!u.test(e.name)?o():(e.name=e.name.replace(u,""),b.resumeBootstrap=function(e){return C(e,function(e){r.push(e)}),o()},void(z(b.resumeDeferredBootstrap)&&b.resumeDeferredBootstrap()))}function je(){e.name="NG_ENABLE_DEBUG_INFO!"+e.name,e.location.reload()}function Pe(e){var t=b.element(e).injector();if(!t)throw y("test","no injector found for element argument to getTestability");return t.get("$$testability")}function De(e,t){return t=t||"_",e.replace(Ie,function(e,n){return(n?t:"")+e.toLowerCase()})}function qe(){var t;if(!Re){var r=pe();p=e.jQuery,_(r)&&(p=null===r?n:e[r]),p&&p.fn.on?(h=p,T(p.fn,{scope:_t.scope,isolateScope:_t.isolateScope,controller:_t.controller,injector:_t.injector,inheritedData:_t.inheritedData}),t=p.cleanData,p.cleanData=function(e){var n;if(_e)_e=!1;else for(var i,r=0;null!=(i=e[r]);r++)n=p._data(i,"events"),n&&n.$destroy&&p(i).triggerHandler("$destroy");t(e)}):h=xt,b.element=h,Re=!0}}function Ue(e,t,n){if(!e)throw y("areq","Argument '{0}' is {1}",t||"?",n||"required");return e}function Fe(e,t,n){return n&&H(e)&&(e=e[e.length-1]),Ue(z(e),t,"not a function, got "+(e&&"object"==typeof e?e.constructor.name||"Object":typeof e)),e}function Be(e,t){if("hasOwnProperty"===e)throw y("badname","hasOwnProperty is not a valid {0} name",t)}function Le(e,t,n){if(!t)return e;for(var i,r=t.split("."),a=e,o=r.length,s=0;o>s;s++)i=r[s],e&&(e=(a=e)[i]);return!n&&z(e)?ve(a,e):e}function He(e){var t=e[0],n=e[e.length-1],r=[t];do{if(t=t.nextSibling,!t)break;r.push(t)}while(t!==n);return h(r)}function ze(){return Object.create(null)}function Xe(e){function i(e,t,n){return e[t]||(e[t]=n())}var t=r("$injector"),n=r("ng"),a=i(e,"angular",Object);return a.$$minErr=a.$$minErr||r,i(a,"module",function(){var e={};return function(a,o,s){var u=function(e,t){if("hasOwnProperty"===e)throw n("badname","hasOwnProperty is not a valid {0} name",t)};return u(a,"module"),o&&e.hasOwnProperty(a)&&(e[a]=null),i(e,a,function(){function l(t,n,r,i){return i||(i=e),function(){return i[r||"push"]([t,n,arguments]),u}}if(!o)throw t("nomod","Module '{0}' is not available! You either misspelled the module name or forgot to load it. If registering a module ensure that you specify the dependencies as the second argument.",a);var e=[],n=[],r=[],i=l("$injector","invoke","push",n),u={_invokeQueue:e,_configBlocks:n,_runBlocks:r,requires:o,name:a,provider:l("$provide","provider"),factory:l("$provide","factory"),service:l("$provide","service"),value:l("$provide","value"),constant:l("$provide","constant","unshift"),decorator:l("$provide","decorator"),animation:l("$animateProvider","register"),filter:l("$filterProvider","register"),controller:l("$controllerProvider","register"),directive:l("$compileProvider","directive"),config:i,run:function(e){return r.push(e),this}};return s&&i(s),u})}})}function Qe(e){var t=[];return JSON.stringify(e,function(e,n){if(n=me(e,n),q(n)){if(t.indexOf(n)>=0)return"<<already seen>>";t.push(n)}return n})}function et(e){return"function"==typeof e?e.toString().replace(/ \{[\s\S]*$/,""):"undefined"==typeof e?"undefined":"string"!=typeof e?Qe(e):e}function nt(t){T(t,{bootstrap:Ne,copy:le,extend:T,merge:V,equals:ce,element:h,forEach:C,injector:nn,noop:P,bind:ve,toJson:ge,fromJson:ye,identity:I,isUndefined:R,isDefined:_,isString:F,isFunction:z,isObject:q,isNumber:B,isElement:ie,isArray:H,version:tt,isDate:L,lowercase:o,uppercase:u,callbacks:{counter:0},getTestability:Pe,$$minErr:r,$$csp:he,reloadWithDebugInfo:je}),w=Xe(e);try{w("ngLocale")}catch(n){w("ngLocale",[]).provider("$locale",tr)}w("ng",["ngLocale"],["$provide",function(e){e.provider({$$sanitizeUri:ni}),e.provider("$compile",wn).directive({a:Zi,input:Oa,textarea:Oa,form:ra,script:Co,select:Ao,style:Mo,option:Oo,ngBind:Va,ngBindHtml:ja,ngBindTemplate:Na,ngClass:Da,ngClassEven:_a,ngClassOdd:Ra,ngCloak:qa,ngController:Ua,ngForm:ia,ngHide:go,ngIf:La,ngInclude:Ha,ngInit:Wa,ngNonBindable:uo,ngPluralize:ho,ngRepeat:po,ngShow:mo,ngStyle:yo,ngSwitch:bo,ngSwitchWhen:wo,ngSwitchDefault:xo,ngOptions:co,ngTransclude:So,ngModel:ro,ngList:Ga,ngChange:Pa,pattern:Vo,ngPattern:Vo,required:To,ngRequired:To,minlength:jo,ngMinlength:jo,maxlength:No,ngMaxlength:No,ngValue:Ta,ngModelOptions:ao}).directive({ngInclude:za}).directive(Ki).directive(Fa),e.provider({$anchorScroll:rn,$animate:dn,$$animateQueue:pn,$$AnimateRunner:hn,$browser:mn,$cacheFactory:gn,$controller:Vn,$document:Nn,$exceptionHandler:jn,$filter:bi,$interpolate:Qn,$interval:er,$http:Jn,$httpParamSerializer:Un,$httpParamSerializerJQLike:Fn,$httpBackend:Zn,$location:yr,$log:br,$parse:Zr,$rootScope:ti,$q:Kr,$$q:Xr,$sce:ui,$sceDelegate:si,$sniffer:li,$templateCache:yn,$templateRequest:fi,$$testability:ci,$timeout:hi,$window:mi,$$rAF:ei,$$asyncCallback:$n,$$jqLite:zt,$$HashMap:Jt,$$cookieReader:yi})}])}function st(){return++it}function ht(e){return e.replace(ut,function(e,t,n,r){return r?n.toUpperCase():n}).replace(lt,"Moz$1")}function gt(e){return!dt.test(e)}function yt(e){var t=e.nodeType;return t===We||!t||t===Ze}function bt(e,t){var n,r,i,s,a=t.createDocumentFragment(),o=[];if(gt(e))o.push(t.createTextNode(e));else{for(n=n||a.appendChild(t.createElement("div")),r=($t.exec(e)||["",""])[1].toLowerCase(),i=mt[r]||mt._default,n.innerHTML=i[1]+e.replace(vt,"<$1></$2>")+i[2],s=i[0];s--;)n=n.lastChild;o=de(o,n.childNodes),n=a.firstChild,n.textContent=""}return a.textContent="",a.innerHTML="",C(o,function(e){a.appendChild(e)}),a}function wt(e,n){n=n||t;var r;return(r=pt.exec(e))?[n.createElement(r[1])]:(r=bt(e,n))?r.childNodes:[];

}function xt(e){if(e instanceof xt)return e;var t;if(F(e)&&(e=ne(e),t=!0),!(this instanceof xt)){if(t&&"<"!=e.charAt(0))throw ct("nosel","Looking up elements via selectors is not supported by jqLite! See: http://docs.angularjs.org/api/angular.element");return new xt(e)}t?Nt(this,wt(e)):Nt(this,e)}function St(e){return e.cloneNode(!0)}function Ct(e,t){if(t||kt(e),e.querySelectorAll)for(var n=e.querySelectorAll("*"),r=0,i=n.length;i>r;r++)kt(n[r])}function Et(e,t,n,r){if(_(r))throw ct("offargs","jqLite#off() does not support the `selector` argument");var i=At(e),a=i&&i.events,o=i&&i.handle;if(o)if(t)C(t.split(" "),function(t){if(_(n)){var r=a[t];if(ue(r||[],n),r&&r.length>0)return}ot(e,t,o),delete a[t]});else for(t in a)"$destroy"!==t&&ot(e,t,o),delete a[t]}function kt(e,t){var r=e.ng339,i=r&&rt[r];if(i){if(t)return void delete i.data[t];i.handle&&(i.events.$destroy&&i.handle({},"$destroy"),Et(e)),delete rt[r],e.ng339=n}}function At(e,t){var r=e.ng339,i=r&&rt[r];return t&&!i&&(e.ng339=r=st(),i=rt[r]={events:{},data:{},handle:n}),i}function Ot(e,t,n){if(yt(e)){var r=_(n),i=!r&&t&&!q(t),a=!t,o=At(e,!i),s=o&&o.data;if(r)s[t]=n;else{if(a)return s;if(i)return s&&s[t];T(s,t)}}}function Mt(e,t){return e.getAttribute?(" "+(e.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ").indexOf(" "+t+" ")>-1:!1}function Tt(e,t){t&&e.setAttribute&&C(t.split(" "),function(t){e.setAttribute("class",ne((" "+(e.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ").replace(" "+ne(t)+" "," ")))})}function Vt(e,t){if(t&&e.setAttribute){var n=(" "+(e.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ");C(t.split(" "),function(e){e=ne(e),-1===n.indexOf(" "+e+" ")&&(n+=e+" ")}),e.setAttribute("class",ne(n))}}function Nt(e,t){if(t)if(t.nodeType)e[e.length++]=t;else{var n=t.length;if("number"==typeof n&&t.window!==t){if(n)for(var r=0;n>r;r++)e[e.length++]=t[r]}else e[e.length++]=t}}function jt(e,t){return Pt(e,"$"+(t||"ngController")+"Controller")}function Pt(e,t,r){e.nodeType==Ze&&(e=e.documentElement);for(var i=H(t)?t:[t];e;){for(var a=0,o=i.length;o>a;a++)if((r=h.data(e,i[a]))!==n)return r;e=e.parentNode||e.nodeType===Ke&&e.host}}function It(e){for(Ct(e,!0);e.firstChild;)e.removeChild(e.firstChild)}function Dt(e,t){t||Ct(e);var n=e.parentNode;n&&n.removeChild(e)}function Rt(t,n){n=n||e,"complete"===n.document.readyState?n.setTimeout(t):h(n).on("load",t)}function Bt(e,t){var n=qt[t.toLowerCase()];return n&&Ut[oe(e)]&&n}function Lt(e,t){var n=e.nodeName;return("INPUT"===n||"TEXTAREA"===n)&&Ft[t]}function Ht(e,t){var n=function(n,r){n.isDefaultPrevented=function(){return n.defaultPrevented};var i=t[r||n.type],a=i?i.length:0;if(a){if(R(n.immediatePropagationStopped)){var o=n.stopImmediatePropagation;n.stopImmediatePropagation=function(){n.immediatePropagationStopped=!0,n.stopPropagation&&n.stopPropagation(),o&&o.call(n)}}n.isImmediatePropagationStopped=function(){return n.immediatePropagationStopped===!0},a>1&&(i=fe(i));for(var s=0;a>s;s++)n.isImmediatePropagationStopped()||i[s].call(e,n)}};return n.elem=e,n}function zt(){this.$get=function(){return T(xt,{hasClass:function(e,t){return e.attr&&(e=e[0]),Mt(e,t)},addClass:function(e,t){return e.attr&&(e=e[0]),Vt(e,t)},removeClass:function(e,t){return e.attr&&(e=e[0]),Tt(e,t)}})}}function Wt(e,t){var n=e&&e.$$hashKey;if(n)return"function"==typeof n&&(n=e.$$hashKey()),n;var r=typeof e;return n="function"==r||"object"==r&&null!==e?e.$$hashKey=r+":"+(t||A)():r+":"+e}function Gt(e,t){if(t){var n=0;this.nextUid=function(){return++n}}C(e,this.put,this)}function en(e){var t=e.toString().replace(Xt,""),n=t.match(Yt);return n?"function("+(n[1]||"").replace(/[\s\r\n]+/," ")+")":"fn"}function tn(e,t,n){var r,i,a,o;if("function"==typeof e){if(!(r=e.$inject)){if(r=[],e.length){if(t)throw F(n)&&n||(n=e.name||en(e)),Qt("strictdi","{0} is not using explicit annotation and cannot be invoked in strict mode",n);i=e.toString().replace(Xt,""),a=i.match(Yt),C(a[1].split(Zt),function(e){e.replace(Kt,function(e,t,n){r.push(n)})})}e.$inject=r}}else H(e)?(o=e.length-1,Fe(e[o],"fn"),r=e.slice(0,o)):Fe(e,"fn",!0);return r}function nn(e,t){function c(e){return function(t,n){return q(t)?void C(t,k(e)):e(t,n)}}function h(e,t){if(Be(e,"service"),(z(t)||H(t))&&(t=u.instantiate(t)),!t.$get)throw Qt("pget","Provider '{0}' must define $get factory method.",e);return s[e+i]=t}function p(e,t){return function n(){var n=f.invoke(t,this);if(R(n))throw Qt("undef","Provider '{0}' must return a value from $get factory method.",e);return n}}function d(e,t,n){return h(e,{$get:n!==!1?p(e,t):t})}function $(e,t){return d(e,["$injector",function(e){return e.instantiate(t)}])}function v(e,t){return d(e,D(t),!1)}function m(e,t){Be(e,"constant"),s[e]=t,l[e]=t}function g(e,t){var n=u.get(e+i),r=n.$get;n.$get=function(){var e=f.invoke(r,n);return f.invoke(t,null,{$delegate:e})}}function y(e){var n,t=[];return C(e,function(e){function r(e){var t,n;for(t=0,n=e.length;n>t;t++){var r=e[t],i=u.get(r[0]);i[r[1]].apply(i,r[2])}}if(!o.get(e)){o.put(e,!0);try{F(e)?(n=w(e),t=t.concat(y(n.requires)).concat(n._runBlocks),r(n._invokeQueue),r(n._configBlocks)):z(e)?t.push(u.invoke(e)):H(e)?t.push(u.invoke(e)):Fe(e,"module")}catch(i){throw H(e)&&(e=e[e.length-1]),i.message&&i.stack&&-1==i.stack.indexOf(i.message)&&(i=i.message+"\n"+i.stack),Qt("modulerr","Failed to instantiate module {0} due to:\n{1}",e,i.stack||i.message||i)}}}),t}function x(e,n){function o(t,i){if(e.hasOwnProperty(t)){if(e[t]===r)throw Qt("cdep","Circular dependency found: {0}",t+" <- "+a.join(" <- "));return e[t]}try{return a.unshift(t),e[t]=r,e[t]=n(t,i)}catch(o){throw e[t]===r&&delete e[t],o}finally{a.shift()}}function u(e,n,r,i){"string"==typeof r&&(i=r,r=null);var u,l,f,a=[],s=nn.$$annotate(e,t,i);for(l=0,u=s.length;u>l;l++){if(f=s[l],"string"!=typeof f)throw Qt("itkn","Incorrect injection token! Expected service name as string, got {0}",f);a.push(r&&r.hasOwnProperty(f)?r[f]:o(f,i))}return H(e)&&(e=e[u]),e.apply(n,a)}function l(e,t,n){var r=Object.create((H(e)?e[e.length-1]:e).prototype||null),i=u(e,r,t,n);return q(i)||z(i)?i:r}return{invoke:u,instantiate:l,get:o,annotate:nn.$$annotate,has:function(t){return s.hasOwnProperty(t+i)||e.hasOwnProperty(t)}}}t=t===!0;var r={},i="Provider",a=[],o=new Gt([],!0),s={$provide:{provider:c(h),factory:c(d),service:c($),value:c(v),constant:c(m),decorator:g}},u=s.$injector=x(s,function(e,t){throw b.isString(t)&&a.push(t),Qt("unpr","Unknown provider: {0}",a.join(" <- "))}),l={},f=l.$injector=x(l,function(e,t){var r=u.get(e+i,t);return f.invoke(r.$get,r,n,e)});return C(y(e),function(e){f.invoke(e||P)}),f}function rn(){var e=!0;this.disableAutoScrolling=function(){e=!1},this.$get=["$window","$location","$rootScope",function(t,n,r){function a(e){var t=null;return Array.prototype.some.call(e,function(e){return"a"===oe(e)?(t=e,!0):void 0}),t}function o(){var e=u.yOffset;if(z(e))e=e();else if(ie(e)){var n=e[0],r=t.getComputedStyle(n);e="fixed"!==r.position?0:n.getBoundingClientRect().bottom}else B(e)||(e=0);return e}function s(e){if(e){e.scrollIntoView();var n=o();if(n){var r=e.getBoundingClientRect().top;t.scrollBy(0,r-n)}}else t.scrollTo(0,0)}function u(e){e=F(e)?e:n.hash();var t;e?(t=i.getElementById(e))?s(t):(t=a(i.getElementsByName(e)))?s(t):"top"===e&&s(null):s(null)}var i=t.document;return e&&r.$watch(function(){return n.hash()},function(e,t){(e!==t||""!==e)&&Rt(function(){r.$evalAsync(u)})}),u}]}function un(e,t){return e||t?e?t?(H(e)&&(e=e.join(" ")),H(t)&&(t=t.join(" ")),e+" "+t):e:t:""}function ln(e){for(var t=0;t<e.length;t++){var n=e[t];if(n.nodeType===on)return n}}function fn(e){F(e)&&(e=e.split(" "));var t=ze();return C(e,function(e){e.length&&(t[e]=!0)}),t}function cn(e){return q(e)?e:{}}function $n(){this.$get=["$$rAF","$timeout",function(e,t){return e.supported?function(t){return e(t)}:function(e){return t(e,0,!1)}}]}function vn(e,t,n,r){function d(e){try{e.apply(null,$e(arguments,1))}finally{if(c--,0===c)for(;p.length;)try{p.pop()()}catch(t){n.error(t)}}}function $(e){var t=e.indexOf("#");return-1===t?"":e.substr(t+1)}function S(){A(),O()}function E(){try{return s.state}catch(e){}}function A(){v=E(),v=R(v)?null:v,ce(v,k)&&(v=k),k=v}function O(){(g!==i.url()||m!==v)&&(g=i.url(),m=v,C(w,function(e){e(i.url(),v)}))}var i=this,o=(t[0],e.location),s=e.history,u=e.setTimeout,l=e.clearTimeout,f={};i.isMock=!1;var c=0,p=[];i.$$completeOutstandingRequest=d,i.$$incOutstandingRequestCount=function(){c++},i.notifyWhenNoOutstandingRequests=function(e){0===c?e():p.push(e)};var v,m,g=o.href,y=t.find("base"),b=null;A(),m=v,i.url=function(t,n,a){if(R(a)&&(a=null),o!==e.location&&(o=e.location),s!==e.history&&(s=e.history),t){var u=m===a;if(g===t&&(!r.history||u))return i;var l=g&&lr(g)===lr(t);return g=t,m=a,!r.history||l&&u?(l||(b=t),n?o.replace(t):l?o.hash=$(t):o.href=t):(s[n?"replaceState":"pushState"](a,"",t),A(),m=v),i}return b||o.href.replace(/%27/g,"'")},i.state=function(){return v};var w=[],x=!1,k=null;i.onUrlChange=function(t){return x||(r.history&&h(e).on("popstate",S),h(e).on("hashchange",S),x=!0),w.push(t),t},i.$$applicationDestroyed=function(){h(e).off("hashchange popstate",S)},i.$$checkUrlChange=O,i.baseHref=function(){var e=y.attr("href");return e?e.replace(/^(https?\:)?\/\/[^\/]*/,""):""},i.defer=function(e,t){var n;return c++,n=u(function(){delete f[n],d(e)},t||0),f[n]=!0,n},i.defer.cancel=function(e){return f[e]?(delete f[e],l(e),d(P),!0):!1}}function mn(){this.$get=["$window","$log","$sniffer","$document",function(e,t,n,r){return new vn(e,r,t,n)}]}function gn(){this.$get=function(){function t(t,n){function c(e){e!=l&&(f?f==e&&(f=e.n):f=e,h(e.n,e.p),h(e,l),l=e,l.n=null)}function h(e,t){e!=t&&(e&&(e.p=t),t&&(t.n=e))}if(t in e)throw r("$cacheFactory")("iid","CacheId '{0}' is already taken!",t);var i=0,a=T({},n,{id:t}),o={},s=n&&n.capacity||Number.MAX_VALUE,u={},l=null,f=null;return e[t]={put:function(e,t){if(!R(t)){if(s<Number.MAX_VALUE){var n=u[e]||(u[e]={key:e});c(n)}return e in o||i++,o[e]=t,i>s&&this.remove(f.key),t}},get:function(e){if(s<Number.MAX_VALUE){var t=u[e];if(!t)return;c(t)}return o[e]},remove:function(e){if(s<Number.MAX_VALUE){var t=u[e];if(!t)return;t==l&&(l=t.p),t==f&&(f=t.n),h(t.n,t.p),delete u[e]}delete o[e],i--},removeAll:function(){o={},i=0,u={},l=f=null},destroy:function(){o=null,a=null,u=null,delete e[t]},info:function(){return T({},a,{size:i})}}}var e={};return t.info=function(){var t={};return C(e,function(e,n){t[n]=e.info()}),t},t.get=function(t){return e[t]},t}}function yn(){this.$get=["$cacheFactory",function(e){return e("templates")}]}function wn(e,r){function d(e,t,n){var r=/^\s*([@&]|=(\*?))(\??)\s*(\w*)\s*$/,i={};return C(e,function(e,a){var o=e.match(r);if(!o)throw bn("iscp","Invalid {3} for directive '{0}'. Definition: {... {1}: '{2}' ...}",t,a,e,n?"controller bindings definition":"isolate scope definition");i[a]={mode:o[1][0],collection:"*"===o[2],optional:"?"===o[3],attrName:o[4]||a}}),i}function $(e,t){var n={isolateScope:null,bindToController:null};if(q(e.scope)&&(e.bindToController===!0?(n.bindToController=d(e.scope,t,!0),n.isolateScope={}):n.isolateScope=d(e.scope,t,!1)),q(e.bindToController)&&(n.bindToController=d(e.bindToController,t,!0)),q(n.bindToController)){var r=e.controller,i=e.controllerAs;if(!r)throw bn("noctrl","Cannot bind to controller without directive '{0}'s controller.",t);if(!Tn(r,i))throw bn("noident","Cannot bind to controller without identifier for directive '{0}'.",t)}return n}function v(e){var t=e.charAt(0);if(!t||t!==o(t))throw bn("baddir","Directive name '{0}' is invalid. The first character must be a lowercase letter",e);if(e!==e.trim())throw bn("baddir","Directive name '{0}' is invalid. The name should not contain leading or trailing whitespaces",e)}var i={},a="Directive",s=/^\s*directive\:\s*([\w\-]+)\s+(.*)$/,u=/(([\w\-]+)(?:\:([^;]+))?;?)/,l=ae("ngSrc,ngSrcset,src,srcset"),f=/^(?:(\^\^?)?(\?)?(\^\^?)?)?/,c=/^(on[a-z]+|formaction)$/;this.directive=function g(t,n){return Be(t,"directive"),F(t)?(v(t),Ue(n,"directiveFactory"),i.hasOwnProperty(t)||(i[t]=[],e.factory(t+a,["$injector","$exceptionHandler",function(e,n){var r=[];return C(i[t],function(i,a){try{var o=e.invoke(i);z(o)?o={compile:D(o)}:!o.compile&&o.link&&(o.compile=D(o.link)),o.priority=o.priority||0,o.index=a,o.name=o.name||t,o.require=o.require||o.controller&&o.name,o.restrict=o.restrict||"EA";var s=o.$$bindings=$(o,o.name);q(s.isolateScope)&&(o.$$isolateBindings=s.isolateScope),r.push(o)}catch(u){n(u)}}),r}])),i[t].push(n)):C(t,k(g)),this},this.aHrefSanitizationWhitelist=function(e){return _(e)?(r.aHrefSanitizationWhitelist(e),this):r.aHrefSanitizationWhitelist()},this.imgSrcSanitizationWhitelist=function(e){return _(e)?(r.imgSrcSanitizationWhitelist(e),this):r.imgSrcSanitizationWhitelist()};var m=!0;this.debugInfoEnabled=function(e){return _(e)?(m=e,this):m},this.$get=["$injector","$interpolate","$exceptionHandler","$templateRequest","$parse","$controller","$rootScope","$document","$sce","$animate","$$sanitizeUri",function(e,r,d,$,v,g,y,b,w,x,S){function k(e,t){try{e.addClass(t)}catch(n){}}function N(e,t,n,r,i){e instanceof h||(e=h(e)),C(e,function(t,n){t.nodeType==Je&&t.nodeValue.match(/\S+/)&&(e[n]=h(t).wrap("<span></span>").parent()[0])});var a=R(e,t,e,n,r,i);N.$$addScopeClass(e);var o=null;return function s(t,n,r){Ue(t,"scope"),r=r||{};var i=r.parentBoundTranscludeFn,s=r.transcludeControllers,u=r.futureParentElement;i&&i.$$boundTransclude&&(i=i.$$boundTransclude),o||(o=D(u));var l;if(l="html"!==o?h(re(o,h("<div>").append(e).html())):n?_t.clone.call(e):e,s)for(var f in s)l.data("$"+f+"Controller",s[f].instance);return N.$$addScopeInfo(l,t),n&&n(l,t),a&&a(t,l,l,i),l}}function D(e){var t=e&&e[0];return t&&"foreignobject"!==oe(t)&&t.toString().match(/SVG/)?"svg":"html"}function R(e,t,r,i,a,o){function m(e,r,i,a){var o,u,l,f,c,p,d,v,m;if($){var g=r.length;for(m=new Array(g),c=0;c<s.length;c+=3)d=s[c],m[d]=r[d]}else m=r;for(c=0,p=s.length;p>c;)if(l=m[s[c++]],o=s[c++],u=s[c++],o){if(o.scope){f=e.$new(),N.$$addScopeInfo(h(l),f);var y=o.$$destroyBindings;y&&(o.$$destroyBindings=null,f.$on("$destroyed",y))}else f=e;v=o.transcludeOnThisElement?_(e,o.transclude,a,o.elementTranscludeOnThisElement):!o.templateOnThisElement&&a?a:!a&&t?_(e,t):null,o(u,f,l,i,v,o)}else u&&u(e,l.childNodes,n,a)}for(var u,l,f,c,p,d,$,s=[],v=0;v<e.length;v++)u=new E,l=U(e[v],[],u,0===v?i:n,a),f=l.length?W(l,e[v],u,t,r,null,[],[],o):null,f&&f.scope&&N.$$addScopeClass(u.$$element),p=f&&f.terminal||!(c=e[v].childNodes)||!c.length?null:R(c,f?(f.transcludeOnThisElement||!f.templateOnThisElement)&&f.transclude:t),(f||p)&&(s.push(v,f,p),d=!0,$=$||f),o=null;return d?m:null}function _(e,t,n,r){var i=function(r,i,a,o,s){return r||(r=e.$new(!1,s),r.$$transcluded=!0),t(r,i,{parentBoundTranscludeFn:n,transcludeControllers:a,futureParentElement:o})};return i}function U(e,t,n,r,i){var l,f,a=e.nodeType,o=n.$attr;switch(a){case We:Y(t,Sn(oe(e)),"E",r,i);for(var c,h,p,d,$,v,m=e.attributes,g=0,y=m&&m.length;y>g;g++){var b=!1,w=!1;c=m[g],h=c.name,$=ne(c.value),d=Sn(h),(v=V.test(d))&&(h=h.replace(xn,"").substr(8).replace(/_(.)/g,function(e,t){return t.toUpperCase()}));var x=d.replace(/(Start|End)$/,"");Z(x)&&d===x+"Start"&&(b=h,w=h.substr(0,h.length-5)+"end",h=h.substr(0,h.length-6)),p=Sn(h.toLowerCase()),o[p]=h,(v||!n.hasOwnProperty(p))&&(n[p]=$,Bt(e,p)&&(n[p]=!0)),ae(e,t,$,p,v),Y(t,p,"A",r,i,b,w)}if(f=e.className,q(f)&&(f=f.animVal),F(f)&&""!==f)for(;l=u.exec(f);)p=Sn(l[2]),Y(t,p,"C",r,i)&&(n[p]=ne(l[3])),f=f.substr(l.index+l[0].length);break;case Je:te(t,e.nodeValue);break;case Ye:try{l=s.exec(e.nodeValue),l&&(p=Sn(l[1]),Y(t,p,"M",r,i)&&(n[p]=ne(l[2])))}catch(S){}}return t.sort(Q),t}function B(e,t,n){var r=[],i=0;if(t&&e.hasAttribute&&e.hasAttribute(t)){do{if(!e)throw bn("uterdir","Unterminated attribute, found '{0}' but no matching '{1}' found.",t,n);e.nodeType==We&&(e.hasAttribute(t)&&i++,e.hasAttribute(n)&&i--),r.push(e),e=e.nextSibling}while(i>0)}else r.push(e);return h(r)}function L(e,t,n){return function(r,i,a,o,s){return i=B(i[0],t,n),e(r,i,a,o,s)}}function W(e,r,i,a,o,s,u,l,c){function te(e,t,n,r){e&&(n&&(e=L(e,n,r)),e.require=k.require,e.directiveName=A,(m===k||k.$$isolateScope)&&(e=le(e,{isolateScope:!0})),u.push(e)),t&&(n&&(t=L(t,n,r)),t.require=k.require,t.directiveName=A,(m===k||k.$$isolateScope)&&(t=le(t,{isolateScope:!0})),l.push(t))}function ie(e,t,n,r){var i;if(F(t)){var a=t.match(f),o=t.substring(a[0].length),s=a[1]||a[3],u="?"===a[2];if("^^"===s?n=n.parent():(i=r&&r[o],i=i&&i.instance),!i){var l="$"+o+"Controller";i=s?n.inheritedData(l):n.data(l)}if(!i&&!u)throw bn("ctreq","Controller '{0}', required by directive '{1}', can't be found!",o,e)}else if(H(t)){i=[];for(var c=0,h=t.length;h>c;c++)i[c]=ie(e,t[c],n,r)}return i||null}function ae(e,t,n,r,i,a){var o=ze();for(var s in r){var u=r[s],l={$scope:u===m||u.$$isolateScope?i:a,$element:e,$attrs:t,$transclude:n},f=u.controller;"@"==f&&(f=t[u.name]);var c=g(f,l,!0,u.controllerAs);o[u.name]=c,S||e.data("$"+u.name+"Controller",c.instance)}return o}function oe(e,t,a,o,s,f){function P(e,t,r){var i;return J(e)||(r=t,t=e,e=n),S&&(i=w),r||(r=S?C.parent():C),s(e,t,i,r,j)}var c,p,d,g,b,w,x,C,A;if(r===a?(A=i,C=i.$$element):(C=h(a),A=new E(C,i)),m&&(b=t.$new(!0)),s&&(x=P,x.$$boundTransclude=s),v&&(w=ae(C,A,x,v,b,t)),m&&(N.$$addScopeInfo(C,b,!0,!(y&&(y===m||y===m.$$originalDirective))),N.$$addScopeClass(C,!0),b.$$isolateBindings=m.$$isolateBindings,he(t,A,b,b.$$isolateBindings,m,b)),w){var M,T,O=m||$;O&&w[O.name]&&(M=O.$$bindings.bindToController,g=w[O.name],g&&g.identifier&&M&&(T=g,f.$$destroyBindings=he(t,A,g.instance,M,O)));for(c in w){g=w[c];var V=g();V!==g.instance&&(g.instance=V,C.data("$"+k.name+"Controller",V),g===T&&(f.$$destroyBindings(),f.$$destroyBindings=he(t,A,V,M,O)))}}for(c=0,p=u.length;p>c;c++)d=u[c],fe(d,d.isolateScope?b:t,C,A,d.require&&ie(d.directiveName,d.require,C,w),x);var j=t;for(m&&(m.template||null===m.templateUrl)&&(j=b),e&&e(j,a.childNodes,n,s),c=l.length-1;c>=0;c--)d=l[c],fe(d,d.isolateScope?b:t,C,A,d.require&&ie(d.directiveName,d.require,C,w),x)}c=c||{};for(var $,k,A,O,j,P,p=-Number.MAX_VALUE,v=c.controllerDirectives,m=c.newIsolateScopeDirective,y=c.templateDirective,b=c.nonTlbTranscludeDirective,w=!1,x=!1,S=c.hasElementTranscludeDirective,C=i.$$element=h(r),T=s,V=a,I=0,D=e.length;D>I;I++){k=e[I];var R=k.$$start,_=k.$$end;if(R&&(C=B(r,R,_)),O=n,p>k.priority)break;if((P=k.scope)&&(k.templateUrl||(q(P)?(ee("new/isolated scope",m||$,k,C),m=k):ee("new/isolated scope",m,k,C)),$=$||k),A=k.name,!k.templateUrl&&k.controller&&(P=k.controller,v=v||ze(),ee("'"+A+"' controller",v[A],k,C),v[A]=k),(P=k.transclude)&&(w=!0,k.$$tlb||(ee("transclusion",b,k,C),b=k),"element"==P?(S=!0,p=k.priority,O=C,C=i.$$element=h(t.createComment(" "+A+": "+i[A]+" ")),r=C[0],se(o,$e(O),r),V=N(O,a,p,T&&T.name,{nonTlbTranscludeDirective:b})):(O=h(St(r)).contents(),C.empty(),V=N(O,a))),k.template)if(x=!0,ee("template",y,k,C),y=k,P=z(k.template)?k.template(C,i):k.template,P=M(P),k.replace){if(T=k,O=gt(P)?[]:An(re(k.templateNamespace,ne(P))),r=O[0],1!=O.length||r.nodeType!==We)throw bn("tplrt","Template for directive '{0}' must have exactly one root element. {1}",A,"");se(o,C,r);var W={$attr:{}},Y=U(r,[],W),Z=e.splice(I+1,e.length-(I+1));m&&G(Y),e=e.concat(Y).concat(Z),K(i,W),D=e.length}else C.html(P);if(k.templateUrl)x=!0,ee("template",y,k,C),y=k,k.replace&&(T=k),oe=X(e.splice(I,e.length-I),C,i,o,w&&V,u,l,{controllerDirectives:v,newIsolateScopeDirective:m,templateDirective:y,nonTlbTranscludeDirective:b}),D=e.length;else if(k.compile)try{j=k.compile(C,i,V),z(j)?te(null,j,R,_):j&&te(j.pre,j.post,R,_)}catch(Q){d(Q,Se(C))}k.terminal&&(oe.terminal=!0,p=Math.max(p,k.priority))}return oe.scope=$&&$.scope===!0,oe.transcludeOnThisElement=w,oe.elementTranscludeOnThisElement=S,oe.templateOnThisElement=x,oe.transclude=V,c.hasElementTranscludeDirective=S,oe}function G(e){for(var t=0,n=e.length;n>t;t++)e[t]=j(e[t],{$$isolateScope:!0})}function Y(t,r,o,s,u,l,f){if(r===u)return null;var c=null;if(i.hasOwnProperty(r))for(var h,p=e.get(r+a),$=0,v=p.length;v>$;$++)try{h=p[$],(s===n||s>h.priority)&&-1!=h.restrict.indexOf(o)&&(l&&(h=j(h,{$$start:l,$$end:f})),t.push(h),c=h)}catch(m){d(m)}return c}function Z(t){if(i.hasOwnProperty(t))for(var n,r=e.get(t+a),o=0,s=r.length;s>o;o++)if(n=r[o],n.multiElement)return!0;return!1}function K(e,t){var n=t.$attr,r=e.$attr,i=e.$$element;C(e,function(r,i){"$"!=i.charAt(0)&&(t[i]&&t[i]!==r&&(r+=("style"===i?";":" ")+t[i]),e.$set(i,r,!0,n[i]))}),C(t,function(t,a){"class"==a?(k(i,t),e["class"]=(e["class"]?e["class"]+" ":"")+t):"style"==a?(i.attr("style",i.attr("style")+";"+t),e.style=(e.style?e.style+";":"")+t):"$"==a.charAt(0)||e.hasOwnProperty(a)||(e[a]=t,r[a]=n[a])})}function X(e,t,n,r,i,a,o,s){var l,f,u=[],c=t[0],p=e.shift(),d=j(p,{templateUrl:null,transclude:null,replace:null,$$originalDirective:p}),v=z(p.templateUrl)?p.templateUrl(t,n):p.templateUrl,m=p.templateNamespace;return t.empty(),$(w.getTrustedResourceUrl(v)).then(function($){var g,y,b,w;if($=M($),p.replace){if(b=gt($)?[]:An(re(m,ne($))),g=b[0],1!=b.length||g.nodeType!==We)throw bn("tplrt","Template for directive '{0}' must have exactly one root element. {1}",p.name,v);y={$attr:{}},se(r,t,g);var x=U(g,[],y);q(p.scope)&&G(x),e=x.concat(e),K(n,y)}else g=c,t.html($);for(e.unshift(d),l=W(e,g,n,i,t,p,a,o,s),C(r,function(e,n){e==g&&(r[n]=t[0])}),f=R(t[0].childNodes,i);u.length;){var S=u.shift(),E=u.shift(),A=u.shift(),O=u.shift(),T=t[0];if(!S.$$destroyed){if(E!==c){var V=E.className;s.hasElementTranscludeDirective&&p.replace||(T=St(g)),se(A,h(E),T),k(h(T),V)}w=l.transcludeOnThisElement?_(S,l.transclude,O):O,l(f,S,T,r,w,l)}}u=null}),function(e,t,n,r,i){var a=i;t.$$destroyed||(u?u.push(t,n,r,a):(l.transcludeOnThisElement&&(a=_(t,l.transclude,i)),l(f,t,n,r,a,l)))}}function Q(e,t){var n=t.priority-e.priority;return 0!==n?n:e.name!==t.name?e.name<t.name?-1:1:e.index-t.index}function ee(e,t,n,r){if(t)throw bn("multidir","Multiple directives [{0}, {1}] asking for {2} on: {3}",t.name,n.name,e,Se(r))}function te(e,t){var n=r(t,!0);n&&e.push({priority:0,compile:function(e){var t=e.parent(),r=!!t.length;return r&&N.$$addBindingClass(t),function i(e,t){var i=t.parent();r||N.$$addBindingClass(i),N.$$addBindingInfo(i,n.expressions),e.$watch(n,function(e){t[0].nodeValue=e})}}})}function re(e,n){switch(e=o(e||"html")){case"svg":case"math":var r=t.createElement("div");return r.innerHTML="<"+e+">"+n+"</"+e+">",r.childNodes[0].childNodes;default:return n}}function ie(e,t){if("srcdoc"==t)return w.HTML;var n=oe(e);return"xlinkHref"==t||"form"==n&&"action"==t||"img"!=n&&("src"==t||"ngSrc"==t)?w.RESOURCE_URL:void 0}function ae(e,t,n,i,a){var o=ie(e,i);a=l[i]||a;var s=r(n,!0,o,a);if(s){if("multiple"===i&&"select"===oe(e))throw bn("selmulti","Binding to the 'multiple' attribute is not supported. Element: {0}",Se(e));t.push({priority:100,compile:function(){return{pre:function(t,u,l){var f=l.$$observers||(l.$$observers={});if(c.test(i))throw bn("nodomevents","Interpolations for HTML DOM event attributes are disallowed.  Please use the ng- versions (such as ng-click instead of onclick) instead.");var h=l[i];h!==n&&(s=h&&r(h,!0,o,a),n=h),s&&(l[i]=s(t),(f[i]||(f[i]=[])).$$inter=!0,(l.$$observers&&l.$$observers[i].$$scope||t).$watch(s,function(e,t){"class"===i&&e!=t?l.$updateClass(e,t):l.$set(i,e)}))}}}})}}function se(e,n,r){var s,u,i=n[0],a=n.length,o=i.parentNode;if(e)for(s=0,u=e.length;u>s;s++)if(e[s]==i){e[s++]=r;for(var l=s,f=l+a-1,c=e.length;c>l;l++,f++)c>f?e[l]=e[f]:delete e[l];e.length-=a-1,e.context===i&&(e.context=r);break}o&&o.replaceChild(r,i);var d=t.createDocumentFragment();d.appendChild(i),h(r).data(h(i).data()),p?(_e=!0,p.cleanData([i])):delete h.cache[i[h.expando]];for(var $=1,v=n.length;v>$;$++){var m=n[$];h(m).remove(),d.appendChild(m),delete n[$]}n[0]=r,n.length=1}function le(e,t){return T(function(){return e.apply(null,arguments)},e,t)}function fe(e,t,n,r,i,a){try{e(t,n,r,i,a)}catch(o){d(o,Se(n))}}function he(e,t,n,i,a,o){var s;C(i,function(i,o){var c,h,p,d,u=i.attrName,l=i.optional,f=i.mode;switch(f){case"@":t.$observe(u,function(e){n[o]=e}),t.$$observers[u].$$scope=e,t[u]&&(n[o]=r(t[u])(e));break;case"=":if(l&&!t[u])return;h=v(t[u]),d=h.literal?ce:function(e,t){return e===t||e!==e&&t!==t},p=h.assign||function(){throw c=n[o]=h(e),bn("nonassign","Expression '{0}' used with directive '{1}' is non-assignable!",t[u],a.name)},c=n[o]=h(e);var $=function(t){return d(t,n[o])||(d(t,c)?p(e,t=n[o]):n[o]=t),c=t};$.$stateful=!0;var m;m=i.collection?e.$watchCollection(t[u],$):e.$watch(v(t[u],$),null,h.literal),s=s||[],s.push(m);break;case"&":if(!t.hasOwnProperty(u)&&l)break;if(h=v(t[u]),h===P&&l)break;n[o]=function(t){return h(e,t)}}});var u=s?function(){for(var e=0,t=s.length;t>e;++e)s[e]()}:P;return o&&u!==P?(o.$on("$destroy",u),P):u}var E=function(e,t){if(t){var r,i,a,n=Object.keys(t);for(r=0,i=n.length;i>r;r++)a=n[r],this[a]=t[a]}else this.$attr={};this.$$element=e};E.prototype={$normalize:Sn,$addClass:function(e){e&&e.length>0&&x.addClass(this.$$element,e)},$removeClass:function(e){e&&e.length>0&&x.removeClass(this.$$element,e)},$updateClass:function(e,t){var n=kn(e,t);n&&n.length&&x.addClass(this.$$element,n);var r=kn(t,e);r&&r.length&&x.removeClass(this.$$element,r)},$set:function(e,t,r,i){var l,a=this.$$element[0],o=Bt(a,e),s=Lt(a,e),u=e;if(o?(this.$$element.prop(e,t),i=o):s&&(this[s]=t,u=s),this[e]=t,i?this.$attr[e]=i:(i=this.$attr[e],i||(this.$attr[e]=i=De(e,"-"))),l=oe(this.$$element),"a"===l&&"href"===e||"img"===l&&"src"===e)this[e]=t=S(t,"src"===e);else if("img"===l&&"srcset"===e){for(var f="",c=ne(t),h=/(\s+\d+x\s*,|\s+\d+w\s*,|\s+,|,\s+)/,p=/\s/.test(c)?h:/(,)/,$=c.split(p),v=Math.floor($.length/2),m=0;v>m;m++){var g=2*m;f+=S(ne($[g]),!0),f+=" "+ne($[g+1])}var y=ne($[2*m]).split(/\s/);f+=S(ne(y[0]),!0),2===y.length&&(f+=" "+ne(y[1])),this[e]=t=f}r!==!1&&(null===t||t===n?this.$$element.removeAttr(i):this.$$element.attr(i,t));var b=this.$$observers;b&&C(b[u],function(e){try{e(t)}catch(n){d(n)}})},$observe:function(e,t){var n=this,r=n.$$observers||(n.$$observers=ze()),i=r[e]||(r[e]=[]);return i.push(t),y.$evalAsync(function(){!i.$$inter&&n.hasOwnProperty(e)&&t(n[e])}),function(){ue(i,t)}}};var A=r.startSymbol(),O=r.endSymbol(),M="{{"==A||"}}"==O?I:function(e){return e.replace(/\{\{/g,A).replace(/}}/g,O)},V=/^ngAttr[A-Z]/;return N.$$addBindingInfo=m?function(e,t){var n=e.data("$binding")||[];H(t)?n=n.concat(t):n.push(t),e.data("$binding",n)}:P,N.$$addBindingClass=m?function(e){k(e,"ng-binding")}:P,N.$$addScopeInfo=m?function(e,t,n,r){var i=n?r?"$isolateScopeNoTemplate":"$isolateScope":"$scope";e.data(i,t)}:P,N.$$addScopeClass=m?function(e,t){k(e,t?"ng-isolate-scope":"ng-scope")}:P,N}]}function Sn(e){return ht(e.replace(xn,""))}function kn(e,t){var n="",r=e.split(/\s+/),i=t.split(/\s+/);e:for(var a=0;a<r.length;a++){for(var o=r[a],s=0;s<i.length;s++)if(o==i[s])continue e;n+=(n.length>0?" ":"")+o}return n}function An(e){e=h(e);var t=e.length;if(1>=t)return e;for(;t--;){var n=e[t];n.nodeType===Ye&&$.call(e,t,1)}return e}function Tn(e,t){if(t&&F(t))return t;if(F(e)){var n=Mn.exec(e);if(n)return n[3]}}function Vn(){var e={},t=!1;this.register=function(t,n){Be(t,"controller"),q(t)?T(e,t):e[t]=n},this.allowGlobals=function(){t=!0},this.$get=["$injector","$window",function(i,a){function o(e,t,n,i){if(!e||!q(e.$scope))throw r("$controller")("noscp","Cannot export controller '{0}' as '{1}'! No $scope object provided via `locals`.",i,t);e.$scope[t]=n}return function(r,s,u,l){var f,c,h,p;if(u=u===!0,l&&F(l)&&(p=l),F(r)){if(c=r.match(Mn),!c)throw On("ctrlfmt","Badly formed controller string '{0}'. Must match `__name__ as __id__` or `__name__`.",r);h=c[1],p=p||c[3],r=e.hasOwnProperty(h)?e[h]:Le(s.$scope,h,!0)||(t?Le(a,h,!0):n),Fe(r,h,!0)}if(u){var d=(H(r)?r[r.length-1]:r).prototype;f=Object.create(d||null),p&&o(s,p,f,h||r.name);var $;return $=T(function(){var e=i.invoke(r,f,s,h);return e!==f&&(q(e)||z(e))&&(f=e,p&&o(s,p,f,h||r.name)),f},{instance:f,identifier:p})}return f=i.instantiate(r,s,h),p&&o(s,p,f,h||r.name),f}}]}function Nn(){this.$get=["$window",function(e){return h(e.document)}]}function jn(){this.$get=["$log",function(e){return function(t,n){e.error.apply(e,arguments)}}]}function qn(e){return q(e)?L(e)?e.toISOString():ge(e):e}function Un(){this.$get=function(){return function(t){if(!t)return"";var n=[];return E(t,function(e,t){null===e||R(e)||(H(e)?C(e,function(e,r){n.push(Oe(t)+"="+Oe(qn(e)))}):n.push(Oe(t)+"="+Oe(qn(e))))}),n.join("&")}}}function Fn(){this.$get=function(){return function(t){function r(e,t,i){null===e||R(e)||(H(e)?C(e,function(e){r(e,t+"[]")}):q(e)&&!L(e)?E(e,function(e,n){r(e,t+(i?"":"[")+n+(i?"":"]"))}):n.push(Oe(t)+"="+Oe(qn(e))))}if(!t)return"";var n=[];return r(t,"",!0),n.join("&")}}}function Bn(e,t){if(F(e)){var n=e.replace(_n,"").trim();if(n){var r=t("Content-Type");(r&&0===r.indexOf(Pn)||Ln(n))&&(e=ye(n))}}return e}function Ln(e){var t=e.match(Dn);return t&&Rn[t[0]].test(e)}function Hn(e){function r(e,n){e&&(t[e]=t[e]?t[e]+", "+n:n)}var n,t=ze();return F(e)?C(e.split("\n"),function(e){n=e.indexOf(":"),r(o(ne(e.substr(0,n))),ne(e.substr(n+1)))}):q(e)&&C(e,function(e,t){r(o(t),ne(e))}),t}function zn(e){var t;return function(n){if(t||(t=Hn(e)),n){var r=t[o(n)];return void 0===r&&(r=null),r}return t}}function Wn(e,t,n,r){return z(r)?r(e,t,n):(C(r,function(r){e=r(e,t,n)}),e)}function Gn(e){return e>=200&&300>e}function Jn(){var e=this.defaults={transformResponse:[Bn],transformRequest:[function(e){return!q(e)||Y(e)||K(e)||Z(e)?e:ge(e)}],headers:{common:{Accept:"application/json, text/plain, */*"},post:fe(In),put:fe(In),patch:fe(In)},xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",paramSerializer:"$httpParamSerializer"},t=!1;this.useApplyAsync=function(e){return _(e)?(t=!!e,this):t};var i=this.interceptors=[];this.$get=["$httpBackend","$$cookieReader","$cacheFactory","$rootScope","$q","$injector",function(a,s,l,f,c,h){function $(t){function $(e){var t=T({},e);return t.data=e.data?Wn(e.data,e.headers,e.status,i.transformResponse):e.data,Gn(e.status)?t:c.reject(t)}function v(e,t){var n,r={};return C(e,function(e,i){z(e)?(n=e(t),null!=n&&(r[i]=n)):r[i]=e}),r}function m(t){var i,a,s,n=e.headers,r=T({},t.headers);n=T({},n.common,n[o(t.method)]);e:for(i in n){a=o(i);for(s in r)if(o(s)===a)continue e;r[i]=n[i]}return v(r,fe(t))}if(!b.isObject(t))throw r("$http")("badreq","Http request configuration must be an object.  Received: {0}",t);var i=T({method:"get",transformRequest:e.transformRequest,transformResponse:e.transformResponse,paramSerializer:e.paramSerializer},t);i.headers=m(t),i.method=u(i.method),i.paramSerializer=F(i.paramSerializer)?h.get(i.paramSerializer):i.paramSerializer;var a=function(t){var r=t.headers,i=Wn(t.data,zn(r),n,t.transformRequest);return R(i)&&C(r,function(e,t){"content-type"===o(t)&&delete r[t]}),R(t.withCredentials)&&!R(e.withCredentials)&&(t.withCredentials=e.withCredentials),g(t,i).then($,$)},s=[a,n],l=c.when(i);for(C(d,function(e){(e.request||e.requestError)&&s.unshift(e.request,e.requestError),(e.response||e.responseError)&&s.push(e.response,e.responseError)});s.length;){var f=s.shift(),p=s.shift();l=l.then(f,p)}return l.success=function(e){return Fe(e,"fn"),l.then(function(t){e(t.data,t.status,t.headers,i)}),l},l.error=function(e){return Fe(e,"fn"),l.then(null,function(t){e(t.data,t.status,t.headers,i)}),l},l}function v(e){C(arguments,function(e){$[e]=function(t,n){return $(T({},n||{},{method:e,url:t}))}})}function m(e){C(arguments,function(e){$[e]=function(t,n,r){return $(T({},r||{},{method:e,url:t,data:n}))}})}function g(r,i){function g(e,n,r,i){function a(){b(n,e,r,i)}l&&(Gn(e)?l.put(v,[e,n,Hn(r),i]):l.remove(v)),t?f.$applyAsync(a):(a(),f.$$phase||f.$apply())}function b(e,t,n,i){t=Math.max(t,0),(Gn(t)?o.resolve:o.reject)({data:e,status:t,headers:zn(n),config:r,statusText:i})}function w(e){b(e.data,e.status,fe(e.headers()),e.statusText)}function x(){var e=$.pendingRequests.indexOf(r);-1!==e&&$.pendingRequests.splice(e,1)}var l,h,o=c.defer(),u=o.promise,d=r.headers,v=y(r.url,r.paramSerializer(r.params));

if($.pendingRequests.push(r),u.then(x,x),!r.cache&&!e.cache||r.cache===!1||"GET"!==r.method&&"JSONP"!==r.method||(l=q(r.cache)?r.cache:q(e.cache)?e.cache:p),l&&(h=l.get(v),_(h)?Q(h)?h.then(w,w):H(h)?b(h[1],h[0],fe(h[2]),h[3]):b(h,200,{},"OK"):l.put(v,u)),R(h)){var m=vi(r.url)?s()[r.xsrfCookieName||e.xsrfCookieName]:n;m&&(d[r.xsrfHeaderName||e.xsrfHeaderName]=m),a(r.method,v,i,g,d,r.timeout,r.withCredentials,r.responseType)}return u}function y(e,t){return t.length>0&&(e+=(-1==e.indexOf("?")?"?":"&")+t),e}var p=l("$http");e.paramSerializer=F(e.paramSerializer)?h.get(e.paramSerializer):e.paramSerializer;var d=[];return C(i,function(e){d.unshift(F(e)?h.get(e):h.invoke(e))}),$.pendingRequests=[],v("get","delete","head","jsonp"),m("post","put","patch"),$.defaults=e,$}]}function Yn(){return new e.XMLHttpRequest}function Zn(){this.$get=["$browser","$window","$document",function(e,t,n){return Kn(e,Yn,e.defer,t.angular.callbacks,n[0])}]}function Kn(e,t,r,i,a){function s(e,t,n){var r=a.createElement("script"),o=null;return r.type="text/javascript",r.src=e,r.async=!0,o=function(e){ot(r,"load",o),ot(r,"error",o),a.body.removeChild(r),r=null;var s=-1,u="unknown";e&&("load"!==e.type||i[t].called||(e={type:"error"}),u=e.type,s="error"===e.type?404:200),n&&n(s,u)},at(r,"load",o),at(r,"error",o),a.body.appendChild(r),o}return function(a,u,l,f,c,h,p,d){function w(){v&&v(),m&&m.abort()}function x(t,i,a,o,s){b!==n&&r.cancel(b),v=m=null,t(i,a,o,s),e.$$completeOutstandingRequest(P)}if(e.$$incOutstandingRequestCount(),u=u||e.url(),"jsonp"==o(a)){var $="_"+(i.counter++).toString(36);i[$]=function(e){i[$].data=e,i[$].called=!0};var v=s(u.replace("JSON_CALLBACK","angular.callbacks."+$),$,function(e,t){x(f,e,i[$].data,"",t),i[$]=P})}else{var m=t();m.open(a,u,!0),C(c,function(e,t){_(e)&&m.setRequestHeader(t,e)}),m.onload=function(){var e=m.statusText||"",t="response"in m?m.response:m.responseText,n=1223===m.status?204:m.status;0===n&&(n=t?200:"file"==$i(u).protocol?404:0),x(f,n,t,m.getAllResponseHeaders(),e)};var g=function(){x(f,-1,null,null,"")};if(m.onerror=g,m.onabort=g,p&&(m.withCredentials=!0),d)try{m.responseType=d}catch(y){if("json"!==d)throw y}m.send(l)}if(h>0)var b=r(w,h);else Q(h)&&h.then(w)}}function Qn(){var e="{{",t="}}";this.startSymbol=function(t){return t?(e=t,this):e},this.endSymbol=function(e){return e?(t=e,this):t},this.$get=["$parse","$exceptionHandler","$sce",function(n,r,i){function l(e){return"\\\\\\"+e}function f(n){return n.replace(s,e).replace(u,t)}function c(e){if(null==e)return"";switch(typeof e){case"string":break;case"number":e=""+e;break;default:e=ge(e)}return e}function h(s,u,l,h){function C(e){try{return e=S(e),h&&!_(e)?e:c(e)}catch(t){r(Xn.interr(s,t))}}h=!!h;for(var p,d,y,$=0,v=[],m=[],g=s.length,b=[],w=[];g>$;){if(-1==(p=s.indexOf(e,$))||-1==(d=s.indexOf(t,p+a))){$!==g&&b.push(f(s.substring($)));break}$!==p&&b.push(f(s.substring($,p))),y=s.substring(p+a,d),v.push(y),m.push(n(y,C)),$=d+o,w.push(b.length),b.push("")}if(l&&b.length>1&&Xn.throwNoconcat(s),!u||v.length){var x=function(e){for(var t=0,n=v.length;n>t;t++){if(h&&R(e[t]))return;b[w[t]]=e[t]}return b.join("")},S=function(e){return l?i.getTrusted(l,e):i.valueOf(e)};return T(function(e){var t=0,n=v.length,i=new Array(n);try{for(;n>t;t++)i[t]=m[t](e);return x(i)}catch(a){r(Xn.interr(s,a))}},{exp:s,expressions:v,$$watchDelegate:function(e,t){var n;return e.$watchGroup(m,function(i,a){var o=x(i);z(t)&&t.call(this,o,i!==a?n:o,e),n=o})}})}}var a=e.length,o=t.length,s=new RegExp(e.replace(/./g,l),"g"),u=new RegExp(t.replace(/./g,l),"g");return h.startSymbol=function(){return e},h.endSymbol=function(){return t},h}]}function er(){this.$get=["$rootScope","$window","$q","$$q",function(e,t,n,r){function a(a,o,s,u){var l=arguments.length>4,f=l?$e(arguments,4):[],c=t.setInterval,h=t.clearInterval,p=0,d=_(u)&&!u,$=(d?r:n).defer(),v=$.promise;return s=_(s)?s:0,v.then(null,null,l?function(){a.apply(null,f)}:a),v.$$intervalId=c(function(){$.notify(p++),s>0&&p>=s&&($.resolve(p),h(v.$$intervalId),delete i[v.$$intervalId]),d||e.$apply()},o),i[v.$$intervalId]=$,v}var i={};return a.cancel=function(e){return e&&e.$$intervalId in i?(i[e.$$intervalId].reject("canceled"),t.clearInterval(e.$$intervalId),delete i[e.$$intervalId],!0):!1},a}]}function tr(){this.$get=function(){return{id:"en-us",NUMBER_FORMATS:{DECIMAL_SEP:".",GROUP_SEP:",",PATTERNS:[{minInt:1,minFrac:0,maxFrac:3,posPre:"",posSuf:"",negPre:"-",negSuf:"",gSize:3,lgSize:3},{minInt:1,minFrac:2,maxFrac:2,posPre:"¤",posSuf:"",negPre:"(¤",negSuf:")",gSize:3,lgSize:3}],CURRENCY_SYM:"$"},DATETIME_FORMATS:{MONTH:"January,February,March,April,May,June,July,August,September,October,November,December".split(","),SHORTMONTH:"Jan,Feb,Mar,Apr,May,Jun,Jul,Aug,Sep,Oct,Nov,Dec".split(","),DAY:"Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday".split(","),SHORTDAY:"Sun,Mon,Tue,Wed,Thu,Fri,Sat".split(","),AMPMS:["AM","PM"],medium:"MMM d, y h:mm:ss a","short":"M/d/yy h:mm a",fullDate:"EEEE, MMMM d, y",longDate:"MMMM d, y",mediumDate:"MMM d, y",shortDate:"M/d/yy",mediumTime:"h:mm:ss a",shortTime:"h:mm a",ERANAMES:["Before Christ","Anno Domini"],ERAS:["BC","AD"]},pluralCat:function(e){return 1===e?"one":"other"}}}}function ar(e){for(var t=e.split("/"),n=t.length;n--;)t[n]=Ae(t[n]);return t.join("/")}function or(e,t){var n=$i(e);t.$$protocol=n.protocol,t.$$host=n.hostname,t.$$port=N(n.port)||rr[n.protocol]||null}function sr(e,t){var n="/"!==e.charAt(0);n&&(e="/"+e);var r=$i(e);t.$$path=decodeURIComponent(n&&"/"===r.pathname.charAt(0)?r.pathname.substring(1):r.pathname),t.$$search=Ee(r.search),t.$$hash=decodeURIComponent(r.hash),t.$$path&&"/"!=t.$$path.charAt(0)&&(t.$$path="/"+t.$$path)}function ur(e,t){return 0===t.indexOf(e)?t.substr(e.length):void 0}function lr(e){var t=e.indexOf("#");return-1==t?e:e.substr(0,t)}function fr(e){return e.replace(/(#.+)|#$/,"$1")}function cr(e){return e.substr(0,lr(e).lastIndexOf("/")+1)}function hr(e){return e.substring(0,e.indexOf("/",e.indexOf("//")+2))}function pr(e,t){this.$$html5=!0,t=t||"";var r=cr(e);or(e,this),this.$$parse=function(e){var t=ur(r,e);if(!F(t))throw ir("ipthprfx",'Invalid url "{0}", missing path prefix "{1}".',e,r);sr(t,this),this.$$path||(this.$$path="/"),this.$$compose()},this.$$compose=function(){var e=ke(this.$$search),t=this.$$hash?"#"+Ae(this.$$hash):"";this.$$url=ar(this.$$path)+(e?"?"+e:"")+t,this.$$absUrl=r+this.$$url.substr(1)},this.$$parseLinkUrl=function(i,a){if(a&&"#"===a[0])return this.hash(a.slice(1)),!0;var o,s,u;return(o=ur(e,i))!==n?(s=o,u=(o=ur(t,o))!==n?r+(ur("/",o)||o):e+s):(o=ur(r,i))!==n?u=r+o:r==i+"/"&&(u=r),u&&this.$$parse(u),!!u}}function dr(e,t){var n=cr(e);or(e,this),this.$$parse=function(r){function o(e,t,n){var i,r=/^\/[A-Z]:(\/.*)/;return 0===t.indexOf(n)&&(t=t.replace(n,"")),r.exec(t)?e:(i=r.exec(e),i?i[1]:e)}var a,i=ur(e,r)||ur(n,r);"#"===i.charAt(0)?(a=ur(t,i),R(a)&&(a=i)):a=this.$$html5?i:"",sr(a,this),this.$$path=o(this.$$path,a,e),this.$$compose()},this.$$compose=function(){var n=ke(this.$$search),r=this.$$hash?"#"+Ae(this.$$hash):"";this.$$url=ar(this.$$path)+(n?"?"+n:"")+r,this.$$absUrl=e+(this.$$url?t+this.$$url:"")},this.$$parseLinkUrl=function(t,n){return lr(e)==lr(t)?(this.$$parse(t),!0):!1}}function $r(e,t){this.$$html5=!0,dr.apply(this,arguments);var n=cr(e);this.$$parseLinkUrl=function(r,i){if(i&&"#"===i[0])return this.hash(i.slice(1)),!0;var a,o;return e==lr(r)?a=r:(o=ur(n,r))?a=e+t+o:n===r+"/"&&(a=n),a&&this.$$parse(a),!!a},this.$$compose=function(){var n=ke(this.$$search),r=this.$$hash?"#"+Ae(this.$$hash):"";this.$$url=ar(this.$$path)+(n?"?"+n:"")+r,this.$$absUrl=e+t+this.$$url}}function mr(e){return function(){return this[e]}}function gr(e,t){return function(n){return R(n)?this[e]:(this[e]=t(n),this.$$compose(),this)}}function yr(){var e="",t={enabled:!1,requireBase:!0,rewriteLinks:!0};this.hashPrefix=function(t){return _(t)?(e=t,this):e},this.html5Mode=function(e){return X(e)?(t.enabled=e,this):q(e)?(X(e.enabled)&&(t.enabled=e.enabled),X(e.requireBase)&&(t.requireBase=e.requireBase),X(e.rewriteLinks)&&(t.rewriteLinks=e.rewriteLinks),this):t},this.$get=["$rootScope","$browser","$sniffer","$rootElement","$window",function(n,r,i,a,o){function d(e,t,n){var i=s.url(),a=s.$$state;try{r.url(e,t,n),s.$$state=r.state()}catch(o){throw s.url(i),s.$$state=a,o}}function v(e,t){n.$broadcast("$locationChangeSuccess",s.absUrl(),e,s.$$state,t)}var s,u,c,l=r.baseHref(),f=r.url();if(t.enabled){if(!l&&t.requireBase)throw ir("nobase","$location in HTML5 mode requires a <base> tag to be present!");c=hr(f)+(l||"/"),u=i.history?pr:$r}else c=lr(f),u=dr;s=new u(c,"#"+e),s.$$parseLinkUrl(f,f),s.$$state=r.state();var p=/^\s*(javascript|mailto):/i;a.on("click",function(e){if(t.rewriteLinks&&!e.ctrlKey&&!e.metaKey&&!e.shiftKey&&2!=e.which&&2!=e.button){for(var i=h(e.target);"a"!==oe(i[0]);)if(i[0]===a[0]||!(i=i.parent())[0])return;var u=i.prop("href"),l=i.attr("href")||i.attr("xlink:href");q(u)&&"[object SVGAnimatedString]"===u.toString()&&(u=$i(u.animVal).href),p.test(u)||!u||i.attr("target")||e.isDefaultPrevented()||s.$$parseLinkUrl(u,l)&&(e.preventDefault(),s.absUrl()!=r.url()&&(n.$apply(),o.angular["ff-684208-preventDefault"]=!0))}}),fr(s.absUrl())!=fr(f)&&r.url(s.absUrl(),!0);var $=!0;return r.onUrlChange(function(e,t){n.$evalAsync(function(){var a,r=s.absUrl(),i=s.$$state;s.$$parse(e),s.$$state=t,a=n.$broadcast("$locationChangeStart",e,r,t,i).defaultPrevented,s.absUrl()===e&&(a?(s.$$parse(r),s.$$state=i,d(r,!1,i)):($=!1,v(r,i)))}),n.$$phase||n.$digest()}),n.$watch(function(){var e=fr(r.url()),t=fr(s.absUrl()),a=r.state(),o=s.$$replace,u=e!==t||s.$$html5&&i.history&&a!==s.$$state;($||u)&&($=!1,n.$evalAsync(function(){var t=s.absUrl(),r=n.$broadcast("$locationChangeStart",t,e,s.$$state,a).defaultPrevented;s.absUrl()===t&&(r?(s.$$parse(e),s.$$state=a):(u&&d(t,o,a===s.$$state?null:s.$$state),v(e,a)))})),s.$$replace=!1}),s}]}function br(){var e=!0,t=this;this.debugEnabled=function(t){return _(t)?(e=t,this):e},this.$get=["$window",function(n){function r(e){return e instanceof Error&&(e.stack?e=e.message&&-1===e.stack.indexOf(e.message)?"Error: "+e.message+"\n"+e.stack:e.stack:e.sourceURL&&(e=e.message+"\n"+e.sourceURL+":"+e.line)),e}function i(e){var t=n.console||{},i=t[e]||t.log||P,a=!1;try{a=!!i.apply}catch(o){}return a?function(){var e=[];return C(arguments,function(t){e.push(r(t))}),i.apply(t,e)}:function(e,t){i(e,null==t?"":t)}}return{log:i("log"),info:i("info"),warn:i("warn"),error:i("error"),debug:function(){var n=i("debug");return function(){e&&n.apply(t,arguments)}}()}}]}function xr(e,t){if("__defineGetter__"===e||"__defineSetter__"===e||"__lookupGetter__"===e||"__lookupSetter__"===e||"__proto__"===e)throw wr("isecfld","Attempting to access a disallowed field in Angular expressions! Expression: {0}",t);return e}function Sr(e,t){if(e){if(e.constructor===e)throw wr("isecfn","Referencing Function in Angular expressions is disallowed! Expression: {0}",t);if(e.window===e)throw wr("isecwindow","Referencing the Window in Angular expressions is disallowed! Expression: {0}",t);if(e.children&&(e.nodeName||e.prop&&e.attr&&e.find))throw wr("isecdom","Referencing DOM nodes in Angular expressions is disallowed! Expression: {0}",t);if(e===Object)throw wr("isecobj","Referencing Object in Angular expressions is disallowed! Expression: {0}",t)}return e}function Ar(e,t){if(e){if(e.constructor===e)throw wr("isecfn","Referencing Function in Angular expressions is disallowed! Expression: {0}",t);if(e===Cr||e===Er||e===kr)throw wr("isecff","Referencing call, apply or bind in Angular expressions is disallowed! Expression: {0}",t)}}function Nr(e,t){return"undefined"!=typeof e?e:t}function jr(e,t){return"undefined"==typeof e?t:"undefined"==typeof t?e:e+t}function Pr(e,t){var n=e(t);return!n.$stateful}function Ir(e,t){var n,r;switch(e.type){case Vr.Program:n=!0,C(e.body,function(e){Ir(e.expression,t),n=n&&e.expression.constant}),e.constant=n;break;case Vr.Literal:e.constant=!0,e.toWatch=[];break;case Vr.UnaryExpression:Ir(e.argument,t),e.constant=e.argument.constant,e.toWatch=e.argument.toWatch;break;case Vr.BinaryExpression:Ir(e.left,t),Ir(e.right,t),e.constant=e.left.constant&&e.right.constant,e.toWatch=e.left.toWatch.concat(e.right.toWatch);break;case Vr.LogicalExpression:Ir(e.left,t),Ir(e.right,t),e.constant=e.left.constant&&e.right.constant,e.toWatch=e.constant?[]:[e];break;case Vr.ConditionalExpression:Ir(e.test,t),Ir(e.alternate,t),Ir(e.consequent,t),e.constant=e.test.constant&&e.alternate.constant&&e.consequent.constant,e.toWatch=e.constant?[]:[e];break;case Vr.Identifier:e.constant=!1,e.toWatch=[e];break;case Vr.MemberExpression:Ir(e.object,t),e.computed&&Ir(e.property,t),e.constant=e.object.constant&&(!e.computed||e.property.constant),e.toWatch=[e];break;case Vr.CallExpression:n=e.filter?Pr(t,e.callee.name):!1,r=[],C(e.arguments,function(e){Ir(e,t),n=n&&e.constant,e.constant||r.push.apply(r,e.toWatch)}),e.constant=n,e.toWatch=e.filter&&Pr(t,e.callee.name)?r:[e];break;case Vr.AssignmentExpression:Ir(e.left,t),Ir(e.right,t),e.constant=e.left.constant&&e.right.constant,e.toWatch=[e];break;case Vr.ArrayExpression:n=!0,r=[],C(e.elements,function(e){Ir(e,t),n=n&&e.constant,e.constant||r.push.apply(r,e.toWatch)}),e.constant=n,e.toWatch=r;break;case Vr.ObjectExpression:n=!0,r=[],C(e.properties,function(e){Ir(e.value,t),n=n&&e.value.constant,e.value.constant||r.push.apply(r,e.value.toWatch)}),e.constant=n,e.toWatch=r;break;case Vr.ThisExpression:e.constant=!1,e.toWatch=[]}}function Dr(e){if(1==e.length){var t=e[0].expression,r=t.toWatch;return 1!==r.length?r:r[0]!==t?r:n}}function Rr(e){return e.type===Vr.Identifier||e.type===Vr.MemberExpression}function _r(e){return 1===e.body.length&&Rr(e.body[0].expression)?{type:Vr.AssignmentExpression,left:e.body[0].expression,right:{type:Vr.NGValueParameter},operator:"="}:void 0}function qr(e){return 0===e.body.length||1===e.body.length&&(e.body[0].expression.type===Vr.Literal||e.body[0].expression.type===Vr.ArrayExpression||e.body[0].expression.type===Vr.ObjectExpression)}function Ur(e){return e.constant}function Fr(e,t){this.astBuilder=e,this.$filter=t}function Br(e,t){this.astBuilder=e,this.$filter=t}function Hr(e,t,n,r){Sr(e,r);for(var a,i=t.split("."),o=0;i.length>1;o++){a=xr(i.shift(),r);var s=Sr(e[a],r);s||(s={},e[a]=s),e=s}return a=xr(i.shift(),r),Sr(e[a],r),e[a]=n,n}function Gr(e){return"constructor"==e}function Yr(e){return z(e.valueOf)?e.valueOf():Jr.call(e)}function Zr(){var e=ze(),t=ze();this.$get=["$filter","$sniffer",function(r,i){function s(e,t){return null==e||null==t?e===t:"object"==typeof e&&(e=Yr(e),"object"==typeof e)?!1:e===t||e!==e&&t!==t}function u(e,t,r,i,a){var u,o=i.inputs;if(1===o.length){var l=s;return o=o[0],e.$watch(function(e){var t=o(e);return s(t,l)||(u=i(e,n,n,[t]),l=t&&Yr(t)),u},t,r,a)}for(var f=[],c=[],h=0,p=o.length;p>h;h++)f[h]=s,c[h]=null;return e.$watch(function(e){for(var t=!1,r=0,a=o.length;a>r;r++){var l=o[r](e);(t||(t=!s(l,f[r])))&&(c[r]=l,f[r]=l&&Yr(l))}return t&&(u=i(e,n,n,c)),u},t,r,a)}function l(e,t,n,r){var i,a;return i=e.$watch(function(e){return r(e)},function(e,n,r){a=e,z(t)&&t.apply(this,arguments),_(e)&&r.$$postDigest(function(){_(a)&&i()})},n)}function f(e,t,n,r){function o(e){var t=!0;return C(e,function(e){_(e)||(t=!1)}),t}var i,a;return i=e.$watch(function(e){return r(e)},function(e,n,r){a=e,z(t)&&t.call(this,e,n,r),o(e)&&r.$$postDigest(function(){o(a)&&i()})},n)}function c(e,t,n,r){var i;return i=e.$watch(function(e){return r(e)},function(e,n,r){z(t)&&t.apply(this,arguments),i()},n)}function h(e,t){if(!t)return e;var n=e.$$watchDelegate,r=n!==f&&n!==l,i=r?function(n,r,i,o){var s=e(n,r,i,o);return t(s,n,r)}:function o(n,r,i,a){var o=e(n,r,i,a),s=t(o,n,r);return _(o)?s:o};return e.$$watchDelegate&&e.$$watchDelegate!==u?i.$$watchDelegate=e.$$watchDelegate:t.$stateful||(i.$$watchDelegate=u,i.inputs=e.inputs?e.inputs:[e]),i}var a={csp:i.csp,expensiveChecks:!1},o={csp:i.csp,expensiveChecks:!0};return function p(n,i,s){var p,d,$;switch(typeof n){case"string":n=n.trim(),$=n;var v=s?t:e;if(p=v[$],!p){":"===n.charAt(0)&&":"===n.charAt(1)&&(d=!0,n=n.substring(2));var m=s?o:a,g=new Tr(m),y=new Lr(g,r,m);p=y.parse(n),p.constant?p.$$watchDelegate=c:d?p.$$watchDelegate=p.literal?f:l:p.inputs&&(p.$$watchDelegate=u),v[$]=p}return h(p,i);case"function":return h(n,i);default:return P}}}]}function Kr(){this.$get=["$rootScope","$exceptionHandler",function(e,t){return Qr(function(t){e.$evalAsync(t)},t)}]}function Xr(){this.$get=["$browser","$exceptionHandler",function(e,t){return Qr(function(t){e.defer(t)},t)}]}function Qr(e,t){function a(e,t,n){function i(t){return function(n){r||(r=!0,t.call(e,n))}}var r=!1;return[i(t),i(n)]}function s(){this.$$state={status:0}}function u(e,t){return function(n){t.call(e,n)}}function l(e){var r,i,a;a=e.pending,e.processScheduled=!1,e.pending=n;for(var o=0,s=a.length;s>o;++o){i=a[o][0],r=a[o][e.status];try{z(r)?i.resolve(r(e.value)):1===e.status?i.resolve(e.value):i.reject(e.value)}catch(u){i.reject(u),t(u)}}}function f(t){!t.processScheduled&&t.pending&&(t.processScheduled=!0,e(function(){l(t)}))}function c(){this.promise=new s,this.resolve=u(this,this.resolve),this.reject=u(this,this.reject),this.notify=u(this,this.notify)}function v(e){var t=new c,n=0,r=H(e)?[]:{};return C(e,function(e,i){n++,$(e).then(function(e){r.hasOwnProperty(i)||(r[i]=e,--n||t.resolve(r))},function(e){r.hasOwnProperty(i)||t.reject(e)})}),0===n&&t.resolve(r),t.promise}var i=r("$q",TypeError),o=function(){return new c};s.prototype={then:function(e,t,n){var r=new c;return this.$$state.pending=this.$$state.pending||[],this.$$state.pending.push([r,e,t,n]),this.$$state.status>0&&f(this.$$state),r.promise},"catch":function(e){return this.then(null,e)},"finally":function(e,t){return this.then(function(t){return d(t,!0,e)},function(t){return d(t,!1,e)},t)}},c.prototype={resolve:function(e){this.promise.$$state.status||(e===this.promise?this.$$reject(i("qcycle","Expected promise to be resolved with value other than itself '{0}'",e)):this.$$resolve(e))},$$resolve:function(e){var n,r;r=a(this,this.$$resolve,this.$$reject);try{(q(e)||z(e))&&(n=e&&e.then),z(n)?(this.promise.$$state.status=-1,n.call(e,r[0],r[1],this.notify)):(this.promise.$$state.value=e,this.promise.$$state.status=1,f(this.promise.$$state))}catch(i){r[1](i),t(i)}},reject:function(e){this.promise.$$state.status||this.$$reject(e)},$$reject:function(e){this.promise.$$state.value=e,this.promise.$$state.status=2,f(this.promise.$$state)},notify:function(n){var r=this.promise.$$state.pending;this.promise.$$state.status<=0&&r&&r.length&&e(function(){for(var e,i,a=0,o=r.length;o>a;a++){i=r[a][0],e=r[a][3];try{i.notify(z(e)?e(n):n)}catch(s){t(s)}}})}};var h=function(e){var t=new c;return t.reject(e),t.promise},p=function(e,t){var n=new c;return t?n.resolve(e):n.reject(e),n.promise},d=function(e,t,n){var r=null;try{z(n)&&(r=n())}catch(i){return p(i,!1)}return Q(r)?r.then(function(){return p(e,t)},function(e){return p(e,!1)}):p(e,t)},$=function(e,t,n,r){var i=new c;return i.resolve(e),i.promise.then(t,n,r)},m=function b(e){function n(e){t.resolve(e)}function r(e){t.reject(e)}if(!z(e))throw i("norslvr","Expected resolverFn, got '{0}'",e);if(!(this instanceof b))return new b(e);var t=new c;return e(n,r),t.promise};return m.defer=o,m.reject=h,m.when=$,m.all=v,m}function ei(){this.$get=["$window","$timeout",function(e,t){function l(){for(var e=0;e<u.length;e++){var t=u[e];t&&(u[e]=null,t())}s=u.length=0}function f(e){var t=u.length;return s++,u.push(e),0===t&&(o=a(l)),function(){t>=0&&(u[t]=null,t=null,0===--s&&o&&(o(),o=null,u.length=0))}}var n=e.requestAnimationFrame||e.webkitRequestAnimationFrame,r=e.cancelAnimationFrame||e.webkitCancelAnimationFrame||e.webkitCancelRequestAnimationFrame,i=!!n,a=i?function(e){var t=n(e);return function(){r(t)}}:function(e){var n=t(e,16.66,!1);return function(){t.cancel(n)}};f.supported=i;var o,s=0,u=[];return f}]}function ti(){function a(e){function t(){this.$$watchers=this.$$nextSibling=this.$$childHead=this.$$childTail=null,this.$$listeners={},this.$$listenerCount={},this.$$watchersCount=0,this.$id=A(),this.$$ChildScope=null}return t.prototype=e,t}var e=10,t=r("$rootScope"),n=null,i=null;this.digestTtl=function(t){return arguments.length&&(e=t),e},this.$get=["$injector","$exceptionHandler","$parse","$browser",function(r,o,u,l){function f(e){e.currentScope.$$destroyed=!0}function c(){this.$id=A(),this.$$phase=this.$parent=this.$$watchers=this.$$nextSibling=this.$$prevSibling=this.$$childHead=this.$$childTail=null,this.$root=this,this.$$destroyed=!1,this.$$listeners={},this.$$listenerCount={},this.$$watchersCount=0,this.$$isolateBindings=null}function v(e){if(h.$$phase)throw t("inprog","{0} already in progress",h.$$phase);h.$$phase=e}function m(){h.$$phase=null}function g(e,t){do e.$$watchersCount+=t;while(e=e.$parent)}function y(e,t,n){do e.$$listenerCount[n]-=t,0===e.$$listenerCount[n]&&delete e.$$listenerCount[n];while(e=e.$parent)}function b(){}function w(){for(;$.length;)try{$.shift()()}catch(e){o(e)}i=null}function x(){null===i&&(i=l.defer(function(){h.$apply(w)}))}c.prototype={constructor:c,$new:function(e,t){var n;return t=t||this,e?(n=new c,n.$root=this.$root):(this.$$ChildScope||(this.$$ChildScope=a(this)),n=new this.$$ChildScope),n.$parent=t,n.$$prevSibling=t.$$childTail,t.$$childHead?(t.$$childTail.$$nextSibling=n,t.$$childTail=n):t.$$childHead=t.$$childTail=n,(e||t!=this)&&n.$on("$destroy",f),n},$watch:function(e,t,r,i){var a=u(e);if(a.$$watchDelegate)return a.$$watchDelegate(this,t,r,a,e);var o=this,s=o.$$watchers,l={fn:t,last:b,get:a,exp:i||e,eq:!!r};return n=null,z(t)||(l.fn=P),s||(s=o.$$watchers=[]),s.unshift(l),g(this,1),function(){ue(s,l)>=0&&g(o,-1),n=null}},$watchGroup:function(e,t){function l(){o=!1,s?(s=!1,t(r,r,a)):t(r,n,a)}var n=new Array(e.length),r=new Array(e.length),i=[],a=this,o=!1,s=!0;if(!e.length){var u=!0;return a.$evalAsync(function(){u&&t(r,r,a)}),function(){u=!1}}return 1===e.length?this.$watch(e[0],function(e,i,a){r[0]=e,n[0]=i,t(r,e===i?r:n,a)}):(C(e,function(e,t){var s=a.$watch(e,function(e,i){r[t]=e,n[t]=i,o||(o=!0,a.$evalAsync(l))});i.push(s)}),function(){for(;i.length;)i.shift()()})},$watchCollection:function(e,t){function $(e){r=e;var t,n,a,o,s;if(!R(r)){if(q(r))if(S(r)){i!==c&&(i=c,d=i.length=0,l++),t=r.length,d!==t&&(l++,i.length=d=t);for(var u=0;t>u;u++)s=i[u],o=r[u],a=s!==s&&o!==o,a||s===o||(l++,i[u]=o)}else{i!==h&&(i=h={},d=0,l++),t=0;for(n in r)r.hasOwnProperty(n)&&(t++,o=r[n],s=i[n],n in i?(a=s!==s&&o!==o,a||s===o||(l++,i[n]=o)):(d++,i[n]=o,l++));if(d>t){l++;for(n in i)r.hasOwnProperty(n)||(d--,delete i[n])}}else i!==r&&(i=r,l++);return l}}function v(){if(p?(p=!1,t(r,r,n)):t(r,a,n),o)if(q(r))if(S(r)){a=new Array(r.length);for(var e=0;e<r.length;e++)a[e]=r[e]}else{a={};for(var i in r)s.call(r,i)&&(a[i]=r[i])}else a=r}$.$stateful=!0;var r,i,a,n=this,o=t.length>1,l=0,f=u(e,$),c=[],h={},p=!0,d=0;return this.$watch(f,v)},$digest:function(){var r,a,s,u,f,c,g,y,C,k,$=e,x=this,S=[];v("$digest"),l.$$checkUrlChange(),this===h&&null!==i&&(l.defer.cancel(i),w()),n=null;do{for(c=!1,y=x;p.length;){try{k=p.shift(),k.scope.$eval(k.expression,k.locals)}catch(A){o(A)}n=null}e:do{if(u=y.$$watchers)for(f=u.length;f--;)try{if(r=u[f])if((a=r.get(y))===(s=r.last)||(r.eq?ce(a,s):"number"==typeof a&&"number"==typeof s&&isNaN(a)&&isNaN(s))){if(r===n){c=!1;break e}}else c=!0,n=r,r.last=r.eq?le(a,null):a,r.fn(a,s===b?a:s,y),5>$&&(C=4-$,S[C]||(S[C]=[]),S[C].push({msg:z(r.exp)?"fn: "+(r.exp.name||r.exp.toString()):r.exp,newVal:a,oldVal:s}))}catch(A){o(A)}if(!(g=y.$$watchersCount&&y.$$childHead||y!==x&&y.$$nextSibling))for(;y!==x&&!(g=y.$$nextSibling);)y=y.$parent}while(y=g);if((c||p.length)&&!$--)throw m(),t("infdig","{0} $digest() iterations reached. Aborting!\nWatchers fired in the last 5 iterations: {1}",e,S)}while(c||p.length);for(m();d.length;)try{d.shift()()}catch(A){o(A)}},$destroy:function(){if(!this.$$destroyed){var e=this.$parent;this.$broadcast("$destroy"),this.$$destroyed=!0,this===h&&l.$$applicationDestroyed(),g(this,-this.$$watchersCount);for(var t in this.$$listenerCount)y(this,this.$$listenerCount[t],t);e&&e.$$childHead==this&&(e.$$childHead=this.$$nextSibling),e&&e.$$childTail==this&&(e.$$childTail=this.$$prevSibling),this.$$prevSibling&&(this.$$prevSibling.$$nextSibling=this.$$nextSibling),this.$$nextSibling&&(this.$$nextSibling.$$prevSibling=this.$$prevSibling),this.$destroy=this.$digest=this.$apply=this.$evalAsync=this.$applyAsync=P,this.$on=this.$watch=this.$watchGroup=function(){return P},this.$$listeners={},this.$parent=this.$$nextSibling=this.$$prevSibling=this.$$childHead=this.$$childTail=this.$root=this.$$watchers=null}},$eval:function(e,t){return u(e)(this,t)},$evalAsync:function(e,t){h.$$phase||p.length||l.defer(function(){p.length&&h.$digest()}),p.push({scope:this,expression:e,locals:t})},$$postDigest:function(e){d.push(e)},$apply:function(e){try{return v("$apply"),this.$eval(e)}catch(t){o(t)}finally{m();try{h.$digest()}catch(t){throw o(t),t}}},$applyAsync:function(e){function n(){t.$eval(e)}var t=this;e&&$.push(n),x()},$on:function(e,t){var n=this.$$listeners[e];n||(this.$$listeners[e]=n=[]),n.push(t);var r=this;do r.$$listenerCount[e]||(r.$$listenerCount[e]=0),r.$$listenerCount[e]++;while(r=r.$parent);var i=this;return function(){var r=n.indexOf(t);-1!==r&&(n[r]=null,y(i,1,e))}},$emit:function(e,t){var r,l,f,n=[],i=this,a=!1,s={name:e,targetScope:i,stopPropagation:function(){a=!0},preventDefault:function(){s.defaultPrevented=!0},defaultPrevented:!1},u=de([s],arguments,1);do{for(r=i.$$listeners[e]||n,s.currentScope=i,l=0,f=r.length;f>l;l++)if(r[l])try{r[l].apply(null,u)}catch(c){o(c)}else r.splice(l,1),l--,f--;if(a)return s.currentScope=null,s;i=i.$parent}while(i);return s.currentScope=null,s},$broadcast:function(e,t){var n=this,r=n,i=n,a={name:e,targetScope:n,preventDefault:function(){a.defaultPrevented=!0},defaultPrevented:!1};if(!n.$$listenerCount[e])return a;for(var u,l,f,s=de([a],arguments,1);r=i;){for(a.currentScope=r,u=r.$$listeners[e]||[],l=0,f=u.length;f>l;l++)if(u[l])try{u[l].apply(null,s)}catch(c){o(c)}else u.splice(l,1),l--,f--;if(!(i=r.$$listenerCount[e]&&r.$$childHead||r!==n&&r.$$nextSibling))for(;r!==n&&!(i=r.$$nextSibling);)r=r.$parent}return a.currentScope=null,a}};var h=new c,p=h.$$asyncQueue=[],d=h.$$postDigestQueue=[],$=h.$$applyAsyncQueue=[];return h}]}function ni(){var e=/^\s*(https?|ftp|mailto|tel|file):/,t=/^\s*((https?|ftp|file|blob):|data:image\/)/;this.aHrefSanitizationWhitelist=function(t){return _(t)?(e=t,this):e},this.imgSrcSanitizationWhitelist=function(e){return _(e)?(t=e,this):t},this.$get=function(){return function(r,i){var o,a=i?t:e;return o=$i(r).href,""===o||o.match(a)?r:"unsafe:"+o}}}function ai(e){if("self"===e)return e;if(F(e)){if(e.indexOf("***")>-1)throw ri("iwcard","Illegal sequence *** in string matcher.  String: {0}",e);return e=re(e).replace("\\*\\*",".*").replace("\\*","[^:/.?&;]*"),new RegExp("^"+e+"$")}if(W(e))return new RegExp("^"+e.source+"$");throw ri("imatcher",'Matchers may only be "self", string patterns or RegExp objects')}function oi(e){var t=[];return _(e)&&C(e,function(e){t.push(ai(e))}),t}function si(){this.SCE_CONTEXTS=ii;var e=["self"],t=[];this.resourceUrlWhitelist=function(t){return arguments.length&&(e=oi(t)),e},this.resourceUrlBlacklist=function(e){return arguments.length&&(t=oi(e)),t},this.$get=["$injector",function(r){function a(e,t){return"self"===e?vi(t):!!e.exec(t.href)}function o(n){var i,o,r=$i(n.toString()),s=!1;for(i=0,o=e.length;o>i;i++)if(a(e[i],r)){s=!0;break}if(s)for(i=0,o=t.length;o>i;i++)if(a(t[i],r)){s=!1;break}return s}function s(e){var t=function(e){this.$$unwrapTrustedValue=function(){return e}};return e&&(t.prototype=new e),t.prototype.valueOf=function(){return this.$$unwrapTrustedValue()},t.prototype.toString=function(){return this.$$unwrapTrustedValue().toString()},t}function f(e,t){var r=l.hasOwnProperty(e)?l[e]:null;if(!r)throw ri("icontext","Attempted to trust a value in invalid context. Context: {0}; Value: {1}",e,t);if(null===t||t===n||""===t)return t;if("string"!=typeof t)throw ri("itype","Attempted to trust a non-string value in a content requiring a string: Context: {0}",e);return new r(t)}function c(e){return e instanceof u?e.$$unwrapTrustedValue():e}function h(e,t){if(null===t||t===n||""===t)return t;var r=l.hasOwnProperty(e)?l[e]:null;if(r&&t instanceof r)return t.$$unwrapTrustedValue();if(e===ii.RESOURCE_URL){if(o(t))return t;throw ri("insecurl","Blocked loading resource from url not allowed by $sceDelegate policy.  URL: {0}",t.toString())}if(e===ii.HTML)return i(t);throw ri("unsafe","Attempting to use an unsafe value in a safe context.")}var i=function(e){throw ri("unsafe","Attempting to use an unsafe value in a safe context.")};r.has("$sanitize")&&(i=r.get("$sanitize"));var u=s(),l={};return l[ii.HTML]=s(u),l[ii.CSS]=s(u),l[ii.URL]=s(u),l[ii.JS]=s(u),l[ii.RESOURCE_URL]=s(l[ii.URL]),{trustAs:f,getTrusted:h,valueOf:c}}]}function ui(){var e=!0;this.enabled=function(t){return arguments.length&&(e=!!t),e},this.$get=["$parse","$sceDelegate",function(t,n){if(e&&8>c)throw ri("iequirks","Strict Contextual Escaping does not support Internet Explorer version < 11 in quirks mode.  You can fix this by adding the text <!doctype html> to the top of your HTML document.  See http://docs.angularjs.org/api/ng.$sce for more information.");var r=fe(ii);r.isEnabled=function(){return e},r.trustAs=n.trustAs,r.getTrusted=n.getTrusted,r.valueOf=n.valueOf,e||(r.trustAs=r.getTrusted=function(e,t){return t},r.valueOf=I),r.parseAs=function(e,n){var i=t(n);return i.literal&&i.constant?i:t(n,function(t){return r.getTrusted(e,t)})};var i=r.parseAs,a=r.getTrusted,s=r.trustAs;return C(ii,function(e,t){var n=o(t);r[ht("parse_as_"+n)]=function(t){return i(e,t)},r[ht("get_trusted_"+n)]=function(t){return a(e,t)},r[ht("trust_as_"+n)]=function(t){return s(e,t)}}),r}]}function li(){this.$get=["$window","$document",function(e,t){var s,p,n={},r=N((/android (\d+)/.exec(o((e.navigator||{}).userAgent))||[])[1]),i=/Boxee/i.test((e.navigator||{}).userAgent),a=t[0]||{},u=/^(Moz|webkit|ms)(?=[A-Z])/,l=a.body&&a.body.style,f=!1,h=!1;if(l){for(var d in l)if(p=u.exec(d)){s=p[0],s=s.substr(0,1).toUpperCase()+s.substr(1);break}s||(s="WebkitOpacity"in l&&"webkit"),f=!!("transition"in l||s+"Transition"in l),h=!!("animation"in l||s+"Animation"in l),!r||f&&h||(f=F(l.webkitTransition),h=F(l.webkitAnimation))}return{history:!(!e.history||!e.history.pushState||4>r||i),hasEvent:function(e){if("input"===e&&11>=c)return!1;if(R(n[e])){var t=a.createElement("div");n[e]="on"+e in t}return n[e]},csp:he(),vendorPrefix:s,transitions:f,animations:h,android:r}}]}function fi(){this.$get=["$templateCache","$http","$q",function(e,t,n){function r(i,a){function u(e){if(!a)throw bn("tpload","Failed to load template: {0} (HTTP status: {1} {2})",i,e.status,e.statusText);return n.reject(e)}r.totalPendingRequests++;var o=t.defaults&&t.defaults.transformResponse;H(o)?o=o.filter(function(e){return e!==Bn}):o===Bn&&(o=null);var s={cache:e,transformResponse:o};return t.get(i,s)["finally"](function(){r.totalPendingRequests--}).then(function(t){return e.put(i,t.data),t.data},u)}return r.totalPendingRequests=0,r}]}function ci(){this.$get=["$rootScope","$browser","$location",function(e,t,n){var r={};return r.findBindings=function(e,t,n){var r=e.getElementsByClassName("ng-binding"),i=[];return C(r,function(e){var r=b.element(e).data("$binding");r&&C(r,function(r){if(n){var a=new RegExp("(^|\\s)"+re(t)+"(\\s|\\||$)");a.test(r)&&i.push(e)}else-1!=r.indexOf(t)&&i.push(e)})}),i},r.findModels=function(e,t,n){for(var r=["ng-","data-ng-","ng\\:"],i=0;i<r.length;++i){var a=n?"=":"*=",o="["+r[i]+"model"+a+'"'+t+'"]',s=e.querySelectorAll(o);if(s.length)return s}},r.getLocation=function(){return n.url()},r.setLocation=function(t){t!==n.url()&&(n.url(t),e.$digest())},r.whenStable=function(e){t.notifyWhenNoOutstandingRequests(e)},r}]}function hi(){this.$get=["$rootScope","$browser","$q","$$q","$exceptionHandler",function(e,t,n,r,i){
function o(o,s,u){z(o)||(u=s,s=o,o=P);var p,l=$e(arguments,3),f=_(u)&&!u,c=(f?r:n).defer(),h=c.promise;return p=t.defer(function(){try{c.resolve(o.apply(null,l))}catch(t){c.reject(t),i(t)}finally{delete a[h.$$timeoutId]}f||e.$apply()},s),h.$$timeoutId=p,a[p]=c,h}var a={};return o.cancel=function(e){return e&&e.$$timeoutId in a?(a[e.$$timeoutId].reject("canceled"),delete a[e.$$timeoutId],t.defer.cancel(e.$$timeoutId)):!1},o}]}function $i(e){var t=e;return c&&(pi.setAttribute("href",t),t=pi.href),pi.setAttribute("href",t),{href:pi.href,protocol:pi.protocol?pi.protocol.replace(/:$/,""):"",host:pi.host,search:pi.search?pi.search.replace(/^\?/,""):"",hash:pi.hash?pi.hash.replace(/^#/,""):"",hostname:pi.hostname,port:pi.port,pathname:"/"===pi.pathname.charAt(0)?pi.pathname:"/"+pi.pathname}}function vi(e){var t=F(e)?$i(e):e;return t.protocol===di.protocol&&t.host===di.host}function mi(){this.$get=D(e)}function gi(e){function a(e){try{return decodeURIComponent(e)}catch(t){return e}}var t=e[0]||{},r={},i="";return function(){var e,o,s,u,l,f=t.cookie||"";if(f!==i)for(i=f,e=i.split("; "),r={},s=0;s<e.length;s++)o=e[s],u=o.indexOf("="),u>0&&(l=a(o.substring(0,u)),r[l]===n&&(r[l]=a(o.substring(u+1))));return r}}function yi(){this.$get=gi}function bi(e){function n(r,i){if(q(r)){var a={};return C(r,function(e,t){a[t]=n(t,e)}),a}return e.factory(r+t,i)}var t="Filter";this.register=n,this.$get=["$injector",function(e){return function(n){return e.get(n+t)}}],n("currency",ki),n("date",Li),n("filter",wi),n("json",Hi),n("limitTo",Gi),n("lowercase",zi),n("number",Ai),n("orderBy",Ji),n("uppercase",Wi)}function wi(){return function(e,t,n){if(!S(e)){if(null==e)return e;throw r("filter")("notarray","Expected array but received: {0}",e)}var a,o,i=Ei(t);switch(i){case"function":a=t;break;case"boolean":case"null":case"number":case"string":o=!0;case"object":a=Si(t,n,o);break;default:return e}return Array.prototype.filter.call(e,a)}}function xi(e){return z(e.toString)&&e.toString!==Object.prototype.toString}function Si(e,t,n){var i,r=q(e)&&"$"in e;return t===!0?t=ce:z(t)||(t=function(e,t){return R(e)?!1:null===e||null===t?e===t:q(t)||q(e)&&!xi(e)?!1:(e=o(""+e),t=o(""+t),-1!==e.indexOf(t))}),i=function(i){return r&&!q(i)?Ci(i,e.$,t,!1):Ci(i,e,t,n)}}function Ci(e,t,n,r,i){var a=Ei(e),o=Ei(t);if("string"===o&&"!"===t.charAt(0))return!Ci(e,t.substring(1),n,r);if(H(e))return e.some(function(e){return Ci(e,t,n,r)});switch(a){case"object":var s;if(r){for(s in e)if("$"!==s.charAt(0)&&Ci(e[s],t,n,!0))return!0;return i?!1:Ci(e,t,n,!1)}if("object"===o){for(s in t){var u=t[s];if(!z(u)&&!R(u)){var l="$"===s,f=l?e:e[s];if(!Ci(f,u,n,l,l))return!1}}return!0}return n(e,t);case"function":return!1;default:return n(e,t)}}function Ei(e){return null===e?"null":typeof e}function ki(e){var t=e.NUMBER_FORMATS;return function(e,n,r){return R(n)&&(n=t.CURRENCY_SYM),R(r)&&(r=t.PATTERNS[1].maxFrac),null==e?e:Mi(e,t.PATTERNS[1],t.GROUP_SEP,t.DECIMAL_SEP,r).replace(/\u00A4/g,n)}}function Ai(e){var t=e.NUMBER_FORMATS;return function(e,n){return null==e?e:Mi(e,t.PATTERNS[0],t.GROUP_SEP,t.DECIMAL_SEP,n)}}function Mi(e,t,n,r,i){if(q(e))return"";var a=0>e;e=Math.abs(e);var o=e===1/0;if(!o&&!isFinite(e))return"";var s=e+"",u="",l=!1,f=[];if(o&&(u="∞"),!o&&-1!==s.indexOf("e")){var c=s.match(/([\d\.]+)e(-?)(\d+)/);c&&"-"==c[2]&&c[3]>i+1?e=0:(u=s,l=!0)}if(o||l)i>0&&1>e&&(u=e.toFixed(i),e=parseFloat(u));else{var h=(s.split(Oi)[1]||"").length;R(i)&&(i=Math.min(Math.max(t.minFrac,h),t.maxFrac)),e=+(Math.round(+(e.toString()+"e"+i)).toString()+"e"+-i);var p=(""+e).split(Oi),d=p[0];p=p[1]||"";var $,v=0,m=t.lgSize,g=t.gSize;if(d.length>=m+g)for(v=d.length-m,$=0;v>$;$++)(v-$)%g===0&&0!==$&&(u+=n),u+=d.charAt($);for($=v;$<d.length;$++)(d.length-$)%m===0&&0!==$&&(u+=n),u+=d.charAt($);for(;p.length<i;)p+="0";i&&"0"!==i&&(u+=r+p.substr(0,i))}return 0===e&&(a=!1),f.push(a?t.negPre:t.posPre,u,a?t.negSuf:t.posSuf),f.join("")}function Ti(e,t,n){var r="";for(0>e&&(r="-",e=-e),e=""+e;e.length<t;)e="0"+e;return n&&(e=e.substr(e.length-t)),r+e}function Vi(e,t,n,r){return n=n||0,function(i){var a=i["get"+e]();return(n>0||a>-n)&&(a+=n),0===a&&-12==n&&(a=12),Ti(a,t,r)}}function Ni(e,t){return function(n,r){var i=n["get"+e](),a=u(t?"SHORT"+e:e);return r[a][i]}}function ji(e,t,n){var r=-1*n,i=r>=0?"+":"";return i+=Ti(Math[r>0?"floor":"ceil"](r/60),2)+Ti(Math.abs(r%60),2)}function Pi(e){var t=new Date(e,0,1).getDay();return new Date(e,0,(4>=t?5:12)-t)}function Ii(e){return new Date(e.getFullYear(),e.getMonth(),e.getDate()+(4-e.getDay()))}function Di(e){return function(t){var n=Pi(t.getFullYear()),r=Ii(t),i=+r-+n,a=1+Math.round(i/6048e5);return Ti(a,e)}}function Ri(e,t){return e.getHours()<12?t.AMPMS[0]:t.AMPMS[1]}function _i(e,t){return e.getFullYear()<=0?t.ERAS[0]:t.ERAS[1]}function qi(e,t){return e.getFullYear()<=0?t.ERANAMES[0]:t.ERANAMES[1]}function Li(e){function n(e){var n;if(n=e.match(t)){var r=new Date(0),i=0,a=0,o=n[8]?r.setUTCFullYear:r.setFullYear,s=n[8]?r.setUTCHours:r.setHours;n[9]&&(i=N(n[9]+n[10]),a=N(n[9]+n[11])),o.call(r,N(n[1]),N(n[2])-1,N(n[3]));var u=N(n[4]||0)-i,l=N(n[5]||0)-a,f=N(n[6]||0),c=Math.round(1e3*parseFloat("0."+(n[7]||0)));return s.call(r,u,l,f,c),r}return e}var t=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/;return function(t,r,i){var s,u,a="",o=[];if(r=r||"mediumDate",r=e.DATETIME_FORMATS[r]||r,F(t)&&(t=Bi.test(t)?N(t):n(t)),B(t)&&(t=new Date(t)),!L(t)||!isFinite(t.getTime()))return t;for(;r;)u=Fi.exec(r),u?(o=de(o,u,1),r=o.pop()):(o.push(r),r=null);var l=t.getTimezoneOffset();return i&&(l=be(i,t.getTimezoneOffset()),t=xe(t,i,!0)),C(o,function(n){s=Ui[n],a+=s?s(t,e.DATETIME_FORMATS,l):n.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),a}}function Hi(){return function(e,t){return R(t)&&(t=2),ge(e,t)}}function Gi(){return function(e,t,n){return t=Math.abs(Number(t))===1/0?Number(t):N(t),isNaN(t)?e:(B(e)&&(e=e.toString()),H(e)||F(e)?(n=!n||isNaN(n)?0:N(n),n=0>n&&n>=-e.length?e.length+n:n,t>=0?e.slice(n,n+t):0===n?e.slice(t,e.length):e.slice(Math.max(0,n+t),n)):e)}}function Ji(e){return function(t,n,r){function i(e,t){for(var r=0;r<n.length;r++){var i=n[r](e,t);if(0!==i)return i}return 0}function a(e,t){return t?function(t,n){return e(n,t)}:e}function o(e){switch(typeof e){case"number":case"boolean":case"string":return!0;default:return!1}}function s(e){return null===e?"null":"function"==typeof e.valueOf&&(e=e.valueOf(),o(e))?e:"function"==typeof e.toString&&(e=e.toString(),o(e))?e:""}function u(e,t){var n=typeof e,r=typeof t;return n===r&&"object"===n&&(e=s(e),t=s(t)),n===r?("string"===n&&(e=e.toLowerCase(),t=t.toLowerCase()),e===t?0:t>e?-1:1):r>n?-1:1}return S(t)?(n=H(n)?n:[n],0===n.length&&(n=["+"]),n=n.map(function(t){var n=!1,r=t||I;if(F(t)){if(("+"==t.charAt(0)||"-"==t.charAt(0))&&(n="-"==t.charAt(0),t=t.substring(1)),""===t)return a(u,n);if(r=e(t),r.constant){var i=r();return a(function(e,t){return u(e[i],t[i])},n)}}return a(function(e,t){return u(r(e),r(t))},n)}),d.call(t).sort(a(i,r))):t}}function Yi(e){return z(e)&&(e={link:e}),e.restrict=e.restrict||"AC",D(e)}function ea(e,t){e.$name=t}function ta(e,t,r,i,a){var o=this,s=[],u=o.$$parentForm=e.parent().controller("form")||Xi;o.$error={},o.$$success={},o.$pending=n,o.$name=a(t.name||t.ngForm||"")(r),o.$dirty=!1,o.$pristine=!0,o.$valid=!0,o.$invalid=!1,o.$submitted=!1,u.$addControl(o),o.$rollbackViewValue=function(){C(s,function(e){e.$rollbackViewValue()})},o.$commitViewValue=function(){C(s,function(e){e.$commitViewValue()})},o.$addControl=function(e){Be(e.$name,"input"),s.push(e),e.$name&&(o[e.$name]=e)},o.$$renameControl=function(e,t){var n=e.$name;o[n]===e&&delete o[n],o[t]=e,e.$name=t},o.$removeControl=function(e){e.$name&&o[e.$name]===e&&delete o[e.$name],C(o.$pending,function(t,n){o.$setValidity(n,null,e)}),C(o.$error,function(t,n){o.$setValidity(n,null,e)}),C(o.$$success,function(t,n){o.$setValidity(n,null,e)}),ue(s,e)},oo({ctrl:this,$element:e,set:function(e,t,n){var r=e[t];if(r){var i=r.indexOf(n);-1===i&&r.push(n)}else e[t]=[n]},unset:function(e,t,n){var r=e[t];r&&(ue(r,n),0===r.length&&delete e[t])},parentForm:u,$animate:i}),o.$setDirty=function(){i.removeClass(e,Za),i.addClass(e,Ka),o.$dirty=!0,o.$pristine=!1,u.$setDirty()},o.$setPristine=function(){i.setClass(e,Za,Ka+" "+Qi),o.$dirty=!1,o.$pristine=!0,o.$submitted=!1,C(s,function(e){e.$setPristine()})},o.$setUntouched=function(){C(s,function(e){e.$setUntouched()})},o.$setSubmitted=function(){i.addClass(e,Qi),o.$submitted=!0,u.$setSubmitted()}}function $a(e){e.$formatters.push(function(t){return e.$isEmpty(t)?t:t.toString()})}function va(e,t,n,r,i,a){ma(e,t,n,r,i,a),$a(r)}function ma(e,t,n,r,i,a){var s=o(t[0].type);if(!i.android){var u=!1;t.on("compositionstart",function(e){u=!0}),t.on("compositionend",function(){u=!1,l()})}var l=function(e){if(f&&(a.defer.cancel(f),f=null),!u){var i=t.val(),o=e&&e.type;"password"===s||n.ngTrim&&"false"===n.ngTrim||(i=ne(i)),(r.$viewValue!==i||""===i&&r.$$hasNativeValidators)&&r.$setViewValue(i,o)}};if(i.hasEvent("input"))t.on("input",l);else{var f,c=function(e,t,n){f||(f=a.defer(function(){f=null,t&&t.value===n||l(e)}))};t.on("keydown",function(e){var t=e.keyCode;91===t||t>15&&19>t||t>=37&&40>=t||c(e,this,this.value)}),i.hasEvent("paste")&&t.on("paste cut",c)}t.on("change",l),r.$render=function(){t.val(r.$isEmpty(r.$viewValue)?"":r.$viewValue)}}function ga(e,t){if(L(e))return e;if(F(e)){ca.lastIndex=0;var n=ca.exec(e);if(n){var r=+n[1],i=+n[2],a=0,o=0,s=0,u=0,l=Pi(r),f=7*(i-1);return t&&(a=t.getHours(),o=t.getMinutes(),s=t.getSeconds(),u=t.getMilliseconds()),new Date(r,0,l.getDate()+f,a,o,s,u)}}return 0/0}function ya(e,t){return function(n,r){var i,a;if(L(n))return n;if(F(n)){if('"'==n.charAt(0)&&'"'==n.charAt(n.length-1)&&(n=n.substring(1,n.length-1)),aa.test(n))return new Date(n);if(e.lastIndex=0,i=e.exec(n))return i.shift(),a=r?{yyyy:r.getFullYear(),MM:r.getMonth()+1,dd:r.getDate(),HH:r.getHours(),mm:r.getMinutes(),ss:r.getSeconds(),sss:r.getMilliseconds()/1e3}:{yyyy:1970,MM:1,dd:1,HH:0,mm:0,ss:0,sss:0},C(i,function(e,n){n<t.length&&(a[t[n]]=+e)}),new Date(a.yyyy,a.MM-1,a.dd,a.HH,a.mm,a.ss||0,1e3*a.sss||0)}return 0/0}}function ba(e,t,r,i){return function(o,s,u,l,f,c,h){function m(e){return e&&!(e.getTime&&e.getTime()!==e.getTime())}function g(e){return _(e)?L(e)?e:r(e):n}wa(o,s,u,l),ma(o,s,u,l,f,c);var d,p=l&&l.$options&&l.$options.timezone;if(l.$$parserName=e,l.$parsers.push(function(e){if(l.$isEmpty(e))return null;if(t.test(e)){var i=r(e,d);return p&&(i=xe(i,p)),i}return n}),l.$formatters.push(function(e){if(e&&!L(e))throw to("datefmt","Expected `{0}` to be a date",e);return m(e)?(d=e,d&&p&&(d=xe(d,p,!0)),h("date")(e,i,p)):(d=null,"")}),_(u.min)||u.ngMin){var $;l.$validators.min=function(e){return!m(e)||R($)||r(e)>=$},u.$observe("min",function(e){$=g(e),l.$validate()})}if(_(u.max)||u.ngMax){var v;l.$validators.max=function(e){return!m(e)||R(v)||r(e)<=v},u.$observe("max",function(e){v=g(e),l.$validate()})}}}function wa(e,t,r,i){var o=t[0],s=i.$$hasNativeValidators=q(o.validity);s&&i.$parsers.push(function(e){var r=t.prop(a)||{};return r.badInput&&!r.typeMismatch?n:e})}function xa(e,t,r,i,a,o){if(wa(e,t,r,i),ma(e,t,r,i,a,o),i.$$parserName="number",i.$parsers.push(function(e){return i.$isEmpty(e)?null:ua.test(e)?parseFloat(e):n}),i.$formatters.push(function(e){if(!i.$isEmpty(e)){if(!B(e))throw to("numfmt","Expected `{0}` to be a number",e);e=e.toString()}return e}),_(r.min)||r.ngMin){var s;i.$validators.min=function(e){return i.$isEmpty(e)||R(s)||e>=s},r.$observe("min",function(e){_(e)&&!B(e)&&(e=parseFloat(e,10)),s=B(e)&&!isNaN(e)?e:n,i.$validate()})}if(_(r.max)||r.ngMax){var u;i.$validators.max=function(e){return i.$isEmpty(e)||R(u)||u>=e},r.$observe("max",function(e){_(e)&&!B(e)&&(e=parseFloat(e,10)),u=B(e)&&!isNaN(e)?e:n,i.$validate()})}}function Sa(e,t,n,r,i,a){ma(e,t,n,r,i,a),$a(r),r.$$parserName="url",r.$validators.url=function(e,t){var n=e||t;return r.$isEmpty(n)||oa.test(n)}}function Ca(e,t,n,r,i,a){ma(e,t,n,r,i,a),$a(r),r.$$parserName="email",r.$validators.email=function(e,t){var n=e||t;return r.$isEmpty(n)||sa.test(n)}}function Ea(e,t,n,r){R(n.name)&&t.attr("name",A());var i=function(e){t[0].checked&&r.$setViewValue(n.value,e&&e.type)};t.on("click",i),r.$render=function(){var e=n.value;t[0].checked=e==r.$viewValue},n.$observe("value",r.$render)}function ka(e,t,n,i,a){var o;if(_(i)){if(o=e(i),!o.constant)throw r("ngModel")("constexpr","Expected constant expression for `{0}`, but saw `{1}`.",n,i);return o(t)}return a}function Aa(e,t,n,r,i,a,o,s){var u=ka(s,e,"ngTrueValue",n.ngTrueValue,!0),l=ka(s,e,"ngFalseValue",n.ngFalseValue,!1),f=function(e){r.$setViewValue(t[0].checked,e&&e.type)};t.on("click",f),r.$render=function(){t[0].checked=r.$viewValue},r.$isEmpty=function(e){return e===!1},r.$formatters.push(function(e){return ce(e,u)}),r.$parsers.push(function(e){return e?u:l})}function Ia(e,t){return e="ngClass"+e,["$animate",function(n){function r(e,t){var n=[];e:for(var r=0;r<e.length;r++){for(var i=e[r],a=0;a<t.length;a++)if(i==t[a])continue e;n.push(i)}return n}function i(e){var t=[];return H(e)?(C(e,function(e){t=t.concat(i(e))}),t):F(e)?e.split(" "):q(e)?(C(e,function(e,n){e&&(t=t.concat(n.split(" ")))}),t):e}return{restrict:"AC",link:function(a,o,s){function l(e){var t=c(e,1);s.$addClass(t)}function f(e){var t=c(e,-1);s.$removeClass(t)}function c(e,t){var n=o.data("$classCounts")||ze(),r=[];return C(e,function(e){(t>0||n[e])&&(n[e]=(n[e]||0)+t,n[e]===+(t>0)&&r.push(e))}),o.data("$classCounts",n),r.join(" ")}function h(e,t){var i=r(t,e),a=r(e,t);i=c(i,1),a=c(a,-1),i&&i.length&&n.addClass(o,i),a&&a.length&&n.removeClass(o,a)}function p(e){if(t===!0||a.$index%2===t){var n=i(e||[]);if(u){if(!ce(e,u)){var r=i(u);h(r,n)}}else l(n)}u=fe(e)}var u;a.$watch(s[e],p,!0),s.$observe("class",function(t){p(a.$eval(s[e]))}),"ngClass"!==e&&a.$watch("$index",function(n,r){var o=1&n;if(o!==(1&r)){var u=i(a.$eval(s[e]));o===t?l(u):f(u)}})}}}]}function oo(e){function l(e,r,i){r===n?f("$pending",e,i):c("$pending",e,i),X(r)?r?(o(t.$error,e,i),a(t.$$success,e,i)):(a(t.$error,e,i),o(t.$$success,e,i)):(o(t.$error,e,i),o(t.$$success,e,i)),t.$pending?(h(eo,!0),t.$valid=t.$invalid=n,p("",null)):(h(eo,!1),t.$valid=so(t.$error),t.$invalid=!t.$valid,p("",t.$valid));var u;u=t.$pending&&t.$pending[e]?n:t.$error[e]?!1:t.$$success[e]?!0:null,p(e,u),s.$setValidity(e,u,t)}function f(e,n,r){t[e]||(t[e]={}),a(t[e],n,r)}function c(e,r,i){t[e]&&o(t[e],r,i),so(t[e])&&(t[e]=n)}function h(e,t){t&&!i[e]?(u.addClass(r,e),i[e]=!0):!t&&i[e]&&(u.removeClass(r,e),i[e]=!1)}function p(e,t){e=e?"-"+De(e,"-"):"",h(Ja+e,t===!0),h(Ya+e,t===!1)}var t=e.ctrl,r=e.$element,i={},a=e.set,o=e.unset,s=e.parentForm,u=e.$animate;i[Ya]=!(i[Ja]=r.hasClass(Ja)),t.$setValidity=l}function so(e){if(e)for(var t in e)return!1;return!0}var i=/^\/(.+)\/([a-z]*)$/,a="validity",o=function(e){return F(e)?e.toLowerCase():e},s=Object.prototype.hasOwnProperty,u=function(e){return F(e)?e.toUpperCase():e},l=function(e){return F(e)?e.replace(/[A-Z]/g,function(e){return String.fromCharCode(32|e.charCodeAt(0))}):e},f=function(e){return F(e)?e.replace(/[a-z]/g,function(e){return String.fromCharCode(-33&e.charCodeAt(0))}):e};"i"!=="I".toLowerCase()&&(o=l,u=f);var c,h,p,w,d=[].slice,$=[].splice,v=[].push,m=Object.prototype.toString,g=Object.getPrototypeOf,y=r("ng"),b=e.angular||(e.angular={}),x=0;c=t.documentMode,P.$inject=[],I.$inject=[];var _e,H=Array.isArray,ee=/^\[object (Uint8(Clamped)?)|(Uint16)|(Uint32)|(Int8)|(Int16)|(Int32)|(Float(32)|(64))Array\]$/,ne=function(e){return F(e)?e.trim():e},re=function(e){return e.replace(/([-()\[\]{}+?*.$\^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08")},he=function(){if(_(he.isActive_))return he.isActive_;var e=!(!t.querySelector("[ng-csp]")&&!t.querySelector("[data-ng-csp]"));if(!e)try{new Function("")}catch(n){e=!0}return he.isActive_=e},pe=function(){if(_(pe.name_))return pe.name_;var e,n,i,a,r=Me.length;for(n=0;r>n;++n)if(i=Me[n],e=t.querySelector("["+i.replace(":","\\:")+"jq]")){a=e.getAttribute(i+"jq");break}return pe.name_=a},Me=["ng-","data-ng-","ng:","x-ng-"],Ie=/[A-Z]/g,Re=!1,We=1,Ge=2,Je=3,Ye=8,Ze=9,Ke=11,tt={full:"1.4.0",major:1,minor:4,dot:0,codeName:"jaracimrman-existence"};xt.expando="ng339";var rt=xt.cache={},it=1,at=function(e,t,n){e.addEventListener(t,n,!1)},ot=function(e,t,n){e.removeEventListener(t,n,!1)};xt._data=function(e){return this.cache[e[this.expando]]||{}};var ut=/([\:\-\_]+(.))/g,lt=/^moz([A-Z])/,ft={mouseleave:"mouseout",mouseenter:"mouseover"},ct=r("jqLite"),pt=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,dt=/<|&#?\w+;/,$t=/<([\w:]+)/,vt=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,mt={option:[1,'<select multiple="multiple">',"</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};mt.optgroup=mt.option,mt.tbody=mt.tfoot=mt.colgroup=mt.caption=mt.thead,mt.th=mt.td;var _t=xt.prototype={ready:function(n){function i(){r||(r=!0,n())}var r=!1;"complete"===t.readyState?setTimeout(i):(this.on("DOMContentLoaded",i),xt(e).on("load",i))},toString:function(){var e=[];return C(this,function(t){e.push(""+t)}),"["+e.join(", ")+"]"},eq:function(e){return h(e>=0?this[e]:this[this.length+e])},length:0,push:v,sort:[].sort,splice:[].splice},qt={};C("multiple,selected,checked,disabled,readOnly,required,open".split(","),function(e){qt[o(e)]=e});var Ut={};C("input,select,option,textarea,button,form,details".split(","),function(e){Ut[e]=!0});var Ft={ngMinlength:"minlength",ngMaxlength:"maxlength",ngMin:"min",ngMax:"max",ngPattern:"pattern"};C({data:Ot,removeData:kt},function(e,t){xt[t]=e}),C({data:Ot,inheritedData:Pt,scope:function(e){return h.data(e,"$scope")||Pt(e.parentNode||e,["$isolateScope","$scope"])},isolateScope:function(e){return h.data(e,"$isolateScope")||h.data(e,"$isolateScopeNoTemplate")},controller:jt,injector:function(e){return Pt(e,"$injector")},removeAttr:function(e,t){e.removeAttribute(t)},hasClass:Mt,css:function(e,t,n){return t=ht(t),_(n)?void(e.style[t]=n):e.style[t]},attr:function(e,t,r){var i=e.nodeType;if(i!==Je&&i!==Ge&&i!==Ye){var a=o(t);if(qt[a]){if(!_(r))return e[t]||(e.attributes.getNamedItem(t)||P).specified?a:n;r?(e[t]=!0,e.setAttribute(t,a)):(e[t]=!1,e.removeAttribute(a))}else if(_(r))e.setAttribute(t,r);else if(e.getAttribute){var s=e.getAttribute(t,2);return null===s?n:s}}},prop:function(e,t,n){return _(n)?void(e[t]=n):e[t]},text:function(){function e(e,t){if(R(t)){var n=e.nodeType;return n===We||n===Je?e.textContent:""}e.textContent=t}return e.$dv="",e}(),val:function(e,t){if(R(t)){if(e.multiple&&"select"===oe(e)){var n=[];return C(e.options,function(e){e.selected&&n.push(e.value||e.text)}),0===n.length?null:n}return e.value}e.value=t},html:function(e,t){return R(t)?e.innerHTML:(Ct(e,!0),void(e.innerHTML=t))},empty:It},function(e,t){xt.prototype[t]=function(t,r){var i,a,o=this.length;if(e!==It&&(2==e.length&&e!==Mt&&e!==jt?t:r)===n){if(q(t)){for(i=0;o>i;i++)if(e===Ot)e(this[i],t);else for(a in t)e(this[i],a,t[a]);return this}for(var s=e.$dv,u=s===n?Math.min(o,1):o,l=0;u>l;l++){var f=e(this[l],t,r);s=s?s+f:f}return s}for(i=0;o>i;i++)e(this[i],t,r);return this}}),C({removeData:kt,on:function Po(e,t,n,r){if(_(r))throw ct("onargs","jqLite#on() does not support the `selector` or `eventData` parameters");if(yt(e)){var i=At(e,!0),a=i.events,o=i.handle;o||(o=i.handle=Ht(e,a));for(var s=t.indexOf(" ")>=0?t.split(" "):[t],u=s.length;u--;){t=s[u];var l=a[t];l||(a[t]=[],"mouseenter"===t||"mouseleave"===t?Po(e,ft[t],function(e){var n=this,r=e.relatedTarget;(!r||r!==n&&!n.contains(r))&&o(e,t)}):"$destroy"!==t&&at(e,t,o),l=a[t]),l.push(n)}}},off:Et,one:function(e,t,n){e=h(e),e.on(t,function r(){e.off(t,n),e.off(t,r)}),e.on(t,n)},replaceWith:function(e,t){var n,r=e.parentNode;Ct(e),C(new xt(t),function(t){n?r.insertBefore(t,n.nextSibling):r.replaceChild(t,e),n=t})},children:function(e){var t=[];return C(e.childNodes,function(e){e.nodeType===We&&t.push(e)}),t},contents:function(e){return e.contentDocument||e.childNodes||[]},append:function(e,t){var n=e.nodeType;if(n===We||n===Ke){t=new xt(t);for(var r=0,i=t.length;i>r;r++){var a=t[r];e.appendChild(a)}}},prepend:function(e,t){if(e.nodeType===We){var n=e.firstChild;C(new xt(t),function(t){e.insertBefore(t,n)})}},wrap:function(e,t){t=h(t).eq(0).clone()[0];var n=e.parentNode;n&&n.replaceChild(t,e),t.appendChild(e)},remove:Dt,detach:function(e){Dt(e,!0)},after:function(e,t){var n=e,r=e.parentNode;t=new xt(t);for(var i=0,a=t.length;a>i;i++){var o=t[i];r.insertBefore(o,n.nextSibling),n=o}},addClass:Vt,removeClass:Tt,toggleClass:function(e,t,n){t&&C(t.split(" "),function(t){var r=n;R(r)&&(r=!Mt(e,t)),(r?Vt:Tt)(e,t)})},parent:function(e){var t=e.parentNode;return t&&t.nodeType!==Ke?t:null},next:function(e){return e.nextElementSibling},find:function(e,t){return e.getElementsByTagName?e.getElementsByTagName(t):[]},clone:St,triggerHandler:function(e,t,n){var r,i,a,o=t.type||t,s=At(e),u=s&&s.events,l=u&&u[o];l&&(r={preventDefault:function(){this.defaultPrevented=!0},isDefaultPrevented:function(){return this.defaultPrevented===!0},stopImmediatePropagation:function(){this.immediatePropagationStopped=!0},isImmediatePropagationStopped:function(){return this.immediatePropagationStopped===!0},stopPropagation:P,type:o,target:e},t.type&&(r=T(r,t)),i=fe(l),a=n?[r].concat(n):[r],C(i,function(t){r.isImmediatePropagationStopped()||t.apply(e,a)}))}},function(e,t){xt.prototype[t]=function(t,n,r){for(var i,a=0,o=this.length;o>a;a++)R(i)?(i=e(this[a],t,n,r),_(i)&&(i=h(i))):Nt(i,e(this[a],t,n,r));return _(i)?i:this},xt.prototype.bind=xt.prototype.on,xt.prototype.unbind=xt.prototype.off}),Gt.prototype={put:function(e,t){this[Wt(e,this.nextUid)]=t},get:function(e){return this[Wt(e,this.nextUid)]},remove:function(e){var t=this[e=Wt(e,this.nextUid)];return delete this[e],t}};var Jt=[function(){this.$get=[function(){return Gt}]}],Yt=/^function\s*[^\(]*\(\s*([^\)]*)\)/m,Zt=/,/,Kt=/^\s*(_?)(\S+?)\1\s*$/,Xt=/((\/\/.*$)|(\/\*[\s\S]*?\*\/))/gm,Qt=r("$injector");nn.$$annotate=tn;var an=r("$animate"),on=1,sn="ng-animate",hn=function(){this.$get=["$q","$$rAF",function(e,t){function n(){}return n.all=P,n.chain=P,n.prototype={end:P,cancel:P,resume:P,pause:P,complete:P,then:function(n,r){return e(function(e){t(function(){e()})}).then(n,r)}},n}]},pn=function(){var e=new Gt,t=[];this.$get=["$$AnimateRunner","$rootScope",function(n,r){function i(n,i,a){var o=e.get(n);o||(e.put(n,o={}),t.push(n)),i&&C(i.split(" "),function(e){e&&(o[e]=!0)}),a&&C(a.split(" "),function(e){e&&(o[e]=!1)}),t.length>1||r.$$postDigest(function(){C(t,function(t){var n=e.get(t);if(n){var r=fn(t.attr("class")),i="",a="";C(n,function(e,t){var n=!!r[t];e!==n&&(e?i+=(i.length?" ":"")+t:a+=(a.length?" ":"")+t)}),C(t,function(e){i&&Vt(e,i),a&&Tt(e,a)}),e.remove(t)}}),t.length=0})}return{enabled:P,on:P,off:P,pin:P,push:function(e,t,r,a){return a&&a(),r=r||{},r.from&&e.css(r.from),r.to&&e.css(r.to),(r.addClass||r.removeClass)&&i(e,r.addClass,r.removeClass),new n}}}]},dn=["$provide",function(e){var t=this;this.$$registeredAnimations=Object.create(null),this.register=function(n,r){if(n&&"."!==n.charAt(0))throw an("notcsel","Expecting class selector starting with '.' got '{0}'.",n);var i=n+"-animation";t.$$registeredAnimations[n.substr(1)]=i,e.factory(i,r)},this.classNameFilter=function(e){if(1===arguments.length&&(this.$$classNameFilter=e instanceof RegExp?e:null,this.$$classNameFilter)){var t=new RegExp("(\\s+|\\/)"+sn+"(\\s+|\\/)");if(t.test(this.$$classNameFilter.toString()))throw an("nongcls",'$animateProvider.classNameFilter(regex) prohibits accepting a regex value which matches/contains the "{0}" CSS class.',sn)}return this.$$classNameFilter},this.$get=["$$animateQueue",function(e){function t(e,t,n){if(n){var r=ln(n);!r||r.parentNode||r.previousElementSibling||(n=null)}n?n.after(e):t.prepend(e)}return{on:e.on,off:e.off,pin:e.pin,enabled:e.enabled,cancel:function(e){e.end&&e.end()},enter:function(n,r,i,a){return r=r&&h(r),i=i&&h(i),r=r||i.parent(),t(n,r,i),e.push(n,"enter",cn(a))},move:function(n,r,i,a){return r=r&&h(r),i=i&&h(i),r=r||i.parent(),t(n,r,i),e.push(n,"move",cn(a))},leave:function(t,n){return e.push(t,"leave",cn(n),function(){t.remove()})},addClass:function(t,n,r){return r=cn(r),r.addClass=un(r.addclass,n),e.push(t,"addClass",r)},removeClass:function(t,n,r){return r=cn(r),r.removeClass=un(r.removeClass,n),e.push(t,"removeClass",r)},setClass:function(t,n,r,i){return i=cn(i),i.addClass=un(i.addClass,n),i.removeClass=un(i.removeClass,r),e.push(t,"setClass",i)},animate:function(t,n,r,i,a){return a=cn(a),a.from=a.from?T(a.from,n):n,a.to=a.to?T(a.to,r):r,i=i||"ng-inline-animate",a.tempClasses=un(a.tempClasses,i),e.push(t,"animate",a)}}}]}],bn=r("$compile");wn.$inject=["$provide","$$sanitizeUriProvider"];var xn=/^((?:x|data)[\:\-_])/i,On=r("$controller"),Mn=/^(\S+)(\s+as\s+(\w+))?$/,Pn="application/json",In={"Content-Type":Pn+";charset=utf-8"},Dn=/^\[|^\{(?!\{)/,Rn={"[":/]$/,"{":/}$/},_n=/^\)\]\}',?\n/,Xn=b.$interpolateMinErr=r("$interpolate");Xn.throwNoconcat=function(e){throw Xn("noconcat","Error while interpolating: {0}\nStrict Contextual Escaping disallows interpolations that concatenate multiple expressions when a trusted value is required.  See http://docs.angularjs.org/api/ng.$sce",e)},Xn.interr=function(e,t){return Xn("interr","Can't interpolate: {0}\n{1}",e,t.toString())};var nr=/^([^\?#]*)(\?([^#]*))?(#(.*))?$/,rr={http:80,https:443,ftp:21},ir=r("$location"),vr={$$html5:!1,$$replace:!1,absUrl:mr("$$absUrl"),url:function(e){if(R(e))return this.$$url;var t=nr.exec(e);return(t[1]||""===e)&&this.path(decodeURIComponent(t[1])),(t[2]||t[1]||""===e)&&this.search(t[3]||""),this.hash(t[5]||""),this},protocol:mr("$$protocol"),host:mr("$$host"),port:mr("$$port"),path:gr("$$path",function(e){return e=null!==e?e.toString():"","/"==e.charAt(0)?e:"/"+e}),search:function(e,t){switch(arguments.length){case 0:return this.$$search;case 1:if(F(e)||B(e))e=e.toString(),this.$$search=Ee(e);else{if(!q(e))throw ir("isrcharg","The first argument of the `$location#search()` call must be a string or an object.");e=le(e,{}),C(e,function(t,n){null==t&&delete e[n]}),this.$$search=e}break;default:R(t)||null===t?delete this.$$search[e]:this.$$search[e]=t}return this.$$compose(),this},hash:gr("$$hash",function(e){return null!==e?e.toString():""}),replace:function(){return this.$$replace=!0,this}};C([$r,dr,pr],function(e){e.prototype=Object.create(vr),e.prototype.state=function(t){if(!arguments.length)return this.$$state;if(e!==pr||!this.$$html5)throw ir("nostate","History API state support is available only in HTML5 mode and only in browsers supporting HTML5 History API");return this.$$state=R(t)?null:t,this}});var wr=r("$parse"),Cr=Function.prototype.call,Er=Function.prototype.apply,kr=Function.prototype.bind,Or=ze();C("+ - * / % === !== == != < > <= >= && || ! = |".split(" "),function(e){Or[e]=!0});var Mr={n:"\n",f:"\f",r:"\r",t:"	",v:"","'":"'",'"':'"'},Tr=function(e){this.options=e};Tr.prototype={constructor:Tr,lex:function(e){for(this.text=e,this.index=0,this.tokens=[];this.index<this.text.length;){var t=this.text.charAt(this.index);if('"'===t||"'"===t)this.readString(t);else if(this.isNumber(t)||"."===t&&this.isNumber(this.peek()))this.readNumber();else if(this.isIdent(t))this.readIdent();else if(this.is(t,"(){}[].,;:?"))this.tokens.push({index:this.index,text:t}),this.index++;else if(this.isWhitespace(t))this.index++;else{var n=t+this.peek(),r=n+this.peek(2),i=Or[t],a=Or[n],o=Or[r];if(i||a||o){var s=o?r:a?n:t;this.tokens.push({index:this.index,text:s,operator:!0}),this.index+=s.length}else this.throwError("Unexpected next character ",this.index,this.index+1)}}return this.tokens},is:function(e,t){return-1!==t.indexOf(e)},peek:function(e){var t=e||1;return this.index+t<this.text.length?this.text.charAt(this.index+t):!1},isNumber:function(e){return e>="0"&&"9">=e&&"string"==typeof e},isWhitespace:function(e){return" "===e||"\r"===e||"	"===e||"\n"===e||""===e||" "===e},isIdent:function(e){return e>="a"&&"z">=e||e>="A"&&"Z">=e||"_"===e||"$"===e},isExpOperator:function(e){return"-"===e||"+"===e||this.isNumber(e)},throwError:function(e,t,n){n=n||this.index;var r=_(t)?"s "+t+"-"+this.index+" ["+this.text.substring(t,n)+"]":" "+n;throw wr("lexerr","Lexer Error: {0} at column{1} in expression [{2}].",e,r,this.text)},readNumber:function(){for(var e="",t=this.index;this.index<this.text.length;){var n=o(this.text.charAt(this.index));if("."==n||this.isNumber(n))e+=n;else{var r=this.peek();if("e"==n&&this.isExpOperator(r))e+=n;else if(this.isExpOperator(n)&&r&&this.isNumber(r)&&"e"==e.charAt(e.length-1))e+=n;else{if(!this.isExpOperator(n)||r&&this.isNumber(r)||"e"!=e.charAt(e.length-1))break;this.throwError("Invalid exponent")}}this.index++}this.tokens.push({index:t,text:e,constant:!0,value:Number(e)})},readIdent:function(){for(var e=this.index;this.index<this.text.length;){var t=this.text.charAt(this.index);if(!this.isIdent(t)&&!this.isNumber(t))break;this.index++}this.tokens.push({index:e,text:this.text.slice(e,this.index),identifier:!0})},readString:function(e){var t=this.index;this.index++;for(var n="",r=e,i=!1;this.index<this.text.length;){var a=this.text.charAt(this.index);if(r+=a,i){if("u"===a){var o=this.text.substring(this.index+1,this.index+5);o.match(/[\da-f]{4}/i)||this.throwError("Invalid unicode escape [\\u"+o+"]"),this.index+=4,n+=String.fromCharCode(parseInt(o,16))}else{var s=Mr[a];n+=s||a}i=!1}else if("\\"===a)i=!0;else{if(a===e)return this.index++,void this.tokens.push({index:t,text:r,constant:!0,value:n});n+=a}this.index++}this.throwError("Unterminated quote",t)}};var Vr=function(e,t){this.lexer=e,this.options=t};Vr.Program="Program",Vr.ExpressionStatement="ExpressionStatement",Vr.AssignmentExpression="AssignmentExpression",Vr.ConditionalExpression="ConditionalExpression",Vr.LogicalExpression="LogicalExpression",Vr.BinaryExpression="BinaryExpression",Vr.UnaryExpression="UnaryExpression",Vr.CallExpression="CallExpression",Vr.MemberExpression="MemberExpression",Vr.Identifier="Identifier",Vr.Literal="Literal",Vr.ArrayExpression="ArrayExpression",Vr.Property="Property",Vr.ObjectExpression="ObjectExpression",Vr.ThisExpression="ThisExpression",Vr.NGValueParameter="NGValueParameter",Vr.prototype={ast:function(e){this.text=e,this.tokens=this.lexer.lex(e);var t=this.program();return 0!==this.tokens.length&&this.throwError("is an unexpected token",this.tokens[0]),t},program:function(){for(var e=[];;)if(this.tokens.length>0&&!this.peek("}",")",";","]")&&e.push(this.expressionStatement()),!this.expect(";"))return{type:Vr.Program,body:e}},expressionStatement:function(){return{type:Vr.ExpressionStatement,expression:this.filterChain()}},filterChain:function(){for(var t,e=this.expression();t=this.expect("|");)e=this.filter(e);return e},expression:function(){return this.assignment()},assignment:function(){var e=this.ternary();return this.expect("=")&&(e={type:Vr.AssignmentExpression,left:e,right:this.assignment(),operator:"="}),e},ternary:function(){var t,n,e=this.logicalOR();return this.expect("?")&&(t=this.expression(),this.consume(":"))?(n=this.expression(),{type:Vr.ConditionalExpression,test:e,alternate:t,consequent:n}):e},logicalOR:function(){for(var e=this.logicalAND();this.expect("||");)e={type:Vr.LogicalExpression,operator:"||",left:e,right:this.logicalAND()};return e},logicalAND:function(){for(var e=this.equality();this.expect("&&");)e={type:Vr.LogicalExpression,operator:"&&",left:e,right:this.equality()};return e},equality:function(){for(var t,e=this.relational();t=this.expect("==","!=","===","!==");)e={type:Vr.BinaryExpression,operator:t.text,left:e,right:this.relational()};return e},relational:function(){for(var t,e=this.additive();t=this.expect("<",">","<=",">=");)e={type:Vr.BinaryExpression,operator:t.text,left:e,right:this.additive()};return e},additive:function(){for(var t,e=this.multiplicative();t=this.expect("+","-");)e={
type:Vr.BinaryExpression,operator:t.text,left:e,right:this.multiplicative()};return e},multiplicative:function(){for(var t,e=this.unary();t=this.expect("*","/","%");)e={type:Vr.BinaryExpression,operator:t.text,left:e,right:this.unary()};return e},unary:function(){var e;return(e=this.expect("+","-","!"))?{type:Vr.UnaryExpression,operator:e.text,prefix:!0,argument:this.unary()}:this.primary()},primary:function(){var e;this.expect("(")?(e=this.filterChain(),this.consume(")")):this.expect("[")?e=this.arrayDeclaration():this.expect("{")?e=this.object():this.constants.hasOwnProperty(this.peek().text)?e=le(this.constants[this.consume().text]):this.peek().identifier?e=this.identifier():this.peek().constant?e=this.constant():this.throwError("not a primary expression",this.peek());for(var t;t=this.expect("(","[",".");)"("===t.text?(e={type:Vr.CallExpression,callee:e,arguments:this.parseArguments()},this.consume(")")):"["===t.text?(e={type:Vr.MemberExpression,object:e,property:this.expression(),computed:!0},this.consume("]")):"."===t.text?e={type:Vr.MemberExpression,object:e,property:this.identifier(),computed:!1}:this.throwError("IMPOSSIBLE");return e},filter:function(e){for(var t=[e],n={type:Vr.CallExpression,callee:this.identifier(),arguments:t,filter:!0};this.expect(":");)t.push(this.expression());return n},parseArguments:function(){var e=[];if(")"!==this.peekToken().text)do e.push(this.expression());while(this.expect(","));return e},identifier:function(){var e=this.consume();return e.identifier||this.throwError("is not a valid identifier",e),{type:Vr.Identifier,name:e.text}},constant:function(){return{type:Vr.Literal,value:this.consume().value}},arrayDeclaration:function(){var e=[];if("]"!==this.peekToken().text)do{if(this.peek("]"))break;e.push(this.expression())}while(this.expect(","));return this.consume("]"),{type:Vr.ArrayExpression,elements:e}},object:function(){var t,e=[];if("}"!==this.peekToken().text)do{if(this.peek("}"))break;t={type:Vr.Property,kind:"init"},this.peek().constant?t.key=this.constant():this.peek().identifier?t.key=this.identifier():this.throwError("invalid key",this.peek()),this.consume(":"),t.value=this.expression(),e.push(t)}while(this.expect(","));return this.consume("}"),{type:Vr.ObjectExpression,properties:e}},throwError:function(e,t){throw wr("syntax","Syntax Error: Token '{0}' {1} at column {2} of the expression [{3}] starting at [{4}].",t.text,e,t.index+1,this.text,this.text.substring(t.index))},consume:function(e){if(0===this.tokens.length)throw wr("ueoe","Unexpected end of expression: {0}",this.text);var t=this.expect(e);return t||this.throwError("is unexpected, expecting ["+e+"]",this.peek()),t},peekToken:function(){if(0===this.tokens.length)throw wr("ueoe","Unexpected end of expression: {0}",this.text);return this.tokens[0]},peek:function(e,t,n,r){return this.peekAhead(0,e,t,n,r)},peekAhead:function(e,t,n,r,i){if(this.tokens.length>e){var a=this.tokens[e],o=a.text;if(o===t||o===n||o===r||o===i||!t&&!n&&!r&&!i)return a}return!1},expect:function(e,t,n,r){var i=this.peek(e,t,n,r);return i?(this.tokens.shift(),i):!1},constants:{"true":{type:Vr.Literal,value:!0},"false":{type:Vr.Literal,value:!1},"null":{type:Vr.Literal,value:null},undefined:{type:Vr.Literal,value:n},"this":{type:Vr.ThisExpression}}},Fr.prototype={compile:function(e,t){var r=this,i=this.astBuilder.ast(e);this.state={nextId:0,filters:{},expensiveChecks:t,fn:{vars:[],body:[],own:{}},assign:{vars:[],body:[],own:{}},inputs:[]},Ir(i,r.$filter);var o,a="";if(this.stage="assign",o=_r(i)){this.state.computing="assign";var s=this.nextId();this.recurse(o,s),a="fn.assign="+this.generateFunction("assign","s,v,l")}var u=Dr(i.body);r.stage="inputs",C(u,function(e,t){var n="fn"+t;r.state[n]={vars:[],body:[],own:{}},r.state.computing=n;var i=r.nextId();r.recurse(e,i),r.return_(i),r.state.inputs.push(n),e.watchId=t}),this.state.computing="fn",this.stage="main",this.recurse(i);var l='"'+this.USE+" "+this.STRICT+'";\n'+this.filterPrefix()+"var fn="+this.generateFunction("fn","s,l,a,i")+a+this.watchFns()+"return fn;",f=new Function("$filter","ensureSafeMemberName","ensureSafeObject","ensureSafeFunction","ifDefined","plus","text",l)(this.$filter,xr,Sr,Ar,Nr,jr,e);return this.state=this.stage=n,f.literal=qr(i),f.constant=Ur(i),f},USE:"use",STRICT:"strict",watchFns:function(){var e=[],t=this.state.inputs,n=this;return C(t,function(t){e.push("var "+t+"="+n.generateFunction(t,"s"))}),t.length&&e.push("fn.inputs=["+t.join(",")+"];"),e.join("")},generateFunction:function(e,t){return"function("+t+"){"+this.varsPrefix(e)+this.body(e)+"};"},filterPrefix:function(){var e=[],t=this;return C(this.state.filters,function(n,r){e.push(n+"=$filter("+t.escape(r)+")")}),e.length?"var "+e.join(",")+";":""},varsPrefix:function(e){return this.state[e].vars.length?"var "+this.state[e].vars.join(",")+";":""},body:function(e){return this.state[e].body.join("")},recurse:function(e,t,r,i,a,o){var s,u,f,c,l=this;if(i=i||P,!o&&_(e.watchId))return t=t||this.nextId(),void this.if_("i",this.lazyAssign(t,this.computedMember("i",e.watchId)),this.lazyRecurse(e,t,r,i,a,!0));switch(e.type){case Vr.Program:C(e.body,function(t,r){l.recurse(t.expression,n,n,function(e){u=e}),r!==e.body.length-1?l.current().body.push(u,";"):l.return_(u)});break;case Vr.Literal:c=this.escape(e.value),this.assign(t,c),i(c);break;case Vr.UnaryExpression:this.recurse(e.argument,n,n,function(e){u=e}),c=e.operator+"("+this.ifDefined(u,0)+")",this.assign(t,c),i(c);break;case Vr.BinaryExpression:this.recurse(e.left,n,n,function(e){s=e}),this.recurse(e.right,n,n,function(e){u=e}),c="+"===e.operator?this.plus(s,u):"-"===e.operator?this.ifDefined(s,0)+e.operator+this.ifDefined(u,0):"("+s+")"+e.operator+"("+u+")",this.assign(t,c),i(c);break;case Vr.LogicalExpression:t=t||this.nextId(),l.recurse(e.left,t),l.if_("&&"===e.operator?t:l.not(t),l.lazyRecurse(e.right,t)),i(t);break;case Vr.ConditionalExpression:t=t||this.nextId(),l.recurse(e.test,t),l.if_(t,l.lazyRecurse(e.alternate,t),l.lazyRecurse(e.consequent,t)),i(t);break;case Vr.Identifier:t=t||this.nextId(),r&&(r.context="inputs"===l.stage?"s":this.assign(this.nextId(),this.getHasOwnProperty("l",e.name)+"?l:s"),r.computed=!1,r.name=e.name),xr(e.name),l.if_("inputs"===l.stage||l.not(l.getHasOwnProperty("l",e.name)),function(){l.if_("inputs"===l.stage||"s",function(){a&&1!==a&&l.if_(l.not(l.nonComputedMember("s",e.name)),l.lazyAssign(l.nonComputedMember("s",e.name),"{}")),l.assign(t,l.nonComputedMember("s",e.name))})},t&&l.lazyAssign(t,l.nonComputedMember("l",e.name))),(l.state.expensiveChecks||Gr(e.name))&&l.addEnsureSafeObject(t),i(t);break;case Vr.MemberExpression:s=r&&(r.context=this.nextId())||this.nextId(),t=t||this.nextId(),l.recurse(e.object,s,n,function(){l.if_(l.notNull(s),function(){e.computed?(u=l.nextId(),l.recurse(e.property,u),l.addEnsureSafeMemberName(u),a&&1!==a&&l.if_(l.not(l.computedMember(s,u)),l.lazyAssign(l.computedMember(s,u),"{}")),c=l.ensureSafeObject(l.computedMember(s,u)),l.assign(t,c),r&&(r.computed=!0,r.name=u)):(xr(e.property.name),a&&1!==a&&l.if_(l.not(l.nonComputedMember(s,e.property.name)),l.lazyAssign(l.nonComputedMember(s,e.property.name),"{}")),c=l.nonComputedMember(s,e.property.name),(l.state.expensiveChecks||Gr(e.property.name))&&(c=l.ensureSafeObject(c)),l.assign(t,c),r&&(r.computed=!1,r.name=e.property.name)),i(t)})},!!a);break;case Vr.CallExpression:t=t||this.nextId(),e.filter?(u=l.filter(e.callee.name),f=[],C(e.arguments,function(e){var t=l.nextId();l.recurse(e,t),f.push(t)}),c=u+"("+f.join(",")+")",l.assign(t,c),i(t)):(u=l.nextId(),s={},f=[],l.recurse(e.callee,u,s,function(){l.if_(l.notNull(u),function(){l.addEnsureSafeFunction(u),C(e.arguments,function(e){l.recurse(e,l.nextId(),n,function(e){f.push(l.ensureSafeObject(e))})}),s.name?(l.state.expensiveChecks||l.addEnsureSafeObject(s.context),c=l.member(s.context,s.name,s.computed)+"("+f.join(",")+")"):c=u+"("+f.join(",")+")",c=l.ensureSafeObject(c),l.assign(t,c),i(t)})}));break;case Vr.AssignmentExpression:if(u=this.nextId(),s={},!Rr(e.left))throw wr("lval","Trying to assing a value to a non l-value");this.recurse(e.left,n,s,function(){l.if_(l.notNull(s.context),function(){l.recurse(e.right,u),l.addEnsureSafeObject(l.member(s.context,s.name,s.computed)),c=l.member(s.context,s.name,s.computed)+e.operator+u,l.assign(t,c),i(t||c)})},1);break;case Vr.ArrayExpression:f=[],C(e.elements,function(e){l.recurse(e,l.nextId(),n,function(e){f.push(e)})}),c="["+f.join(",")+"]",this.assign(t,c),i(c);break;case Vr.ObjectExpression:f=[],C(e.properties,function(e){l.recurse(e.value,l.nextId(),n,function(t){f.push(l.escape(e.key.type===Vr.Identifier?e.key.name:""+e.key.value)+":"+t)})}),c="{"+f.join(",")+"}",this.assign(t,c),i(c);break;case Vr.ThisExpression:this.assign(t,"s"),i("s");break;case Vr.NGValueParameter:this.assign(t,"v"),i("v")}},getHasOwnProperty:function(e,t){var n=e+"."+t,r=this.current().own;return r.hasOwnProperty(n)||(r[n]=this.nextId(!1,e+"&&("+this.escape(t)+" in "+e+")")),r[n]},assign:function(e,t){return e?(this.current().body.push(e,"=",t,";"),e):void 0},filter:function(e){return this.state.filters.hasOwnProperty(e)||(this.state.filters[e]=this.nextId(!0)),this.state.filters[e]},ifDefined:function(e,t){return"ifDefined("+e+","+this.escape(t)+")"},plus:function(e,t){return"plus("+e+","+t+")"},return_:function(e){this.current().body.push("return ",e,";")},if_:function(e,t,n){if(e===!0)t();else{var r=this.current().body;r.push("if(",e,"){"),t(),r.push("}"),n&&(r.push("else{"),n(),r.push("}"))}},not:function(e){return"!("+e+")"},notNull:function(e){return e+"!=null"},nonComputedMember:function(e,t){return e+"."+t},computedMember:function(e,t){return e+"["+t+"]"},member:function(e,t,n){return n?this.computedMember(e,t):this.nonComputedMember(e,t)},addEnsureSafeObject:function(e){this.current().body.push(this.ensureSafeObject(e),";")},addEnsureSafeMemberName:function(e){this.current().body.push(this.ensureSafeMemberName(e),";")},addEnsureSafeFunction:function(e){this.current().body.push(this.ensureSafeFunction(e),";")},ensureSafeObject:function(e){return"ensureSafeObject("+e+",text)"},ensureSafeMemberName:function(e){return"ensureSafeMemberName("+e+",text)"},ensureSafeFunction:function(e){return"ensureSafeFunction("+e+",text)"},lazyRecurse:function(e,t,n,r,i,a){var o=this;return function(){o.recurse(e,t,n,r,i,a)}},lazyAssign:function(e,t){var n=this;return function(){n.assign(e,t)}},stringEscapeRegex:/[^ a-zA-Z0-9]/g,stringEscapeFn:function(e){return"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)},escape:function(e){if(F(e))return"'"+e.replace(this.stringEscapeRegex,this.stringEscapeFn)+"'";if(B(e))return e.toString();if(e===!0)return"true";if(e===!1)return"false";if(null===e)return"null";if("undefined"==typeof e)return"undefined";throw wr("esc","IMPOSSIBLE")},nextId:function(e,t){var n="v"+this.state.nextId++;return e||this.current().vars.push(n+(t?"="+t:"")),n},current:function(){return this.state[this.state.computing]}},Br.prototype={compile:function(e,t){var n=this,r=this.astBuilder.ast(e);this.expression=e,this.expensiveChecks=t,Ir(r,n.$filter);var i,a;(i=_r(r))&&(a=this.recurse(i));var s,o=Dr(r.body);o&&(s=[],C(o,function(e,t){var r=n.recurse(e);e.input=r,s.push(r),e.watchId=t}));var u=[];C(r.body,function(e){u.push(n.recurse(e.expression))});var l=0===r.body.length?function(){}:1===r.body.length?u[0]:function(e,t){var n;return C(u,function(r){n=r(e,t)}),n};return a&&(l.assign=function(e,t,n){return a(e,n,t)}),s&&(l.inputs=s),l.literal=qr(r),l.constant=Ur(r),l},recurse:function(e,t,r){var i,a,s,o=this;if(e.input)return this.inputs(e.input,e.watchId);switch(e.type){case Vr.Literal:return this.value(e.value,t);case Vr.UnaryExpression:return a=this.recurse(e.argument),this["unary"+e.operator](a,t);case Vr.BinaryExpression:return i=this.recurse(e.left),a=this.recurse(e.right),this["binary"+e.operator](i,a,t);case Vr.LogicalExpression:return i=this.recurse(e.left),a=this.recurse(e.right),this["binary"+e.operator](i,a,t);case Vr.ConditionalExpression:return this["ternary?:"](this.recurse(e.test),this.recurse(e.alternate),this.recurse(e.consequent),t);case Vr.Identifier:return xr(e.name,o.expression),o.identifier(e.name,o.expensiveChecks||Gr(e.name),t,r,o.expression);case Vr.MemberExpression:return i=this.recurse(e.object,!1,!!r),e.computed||(xr(e.property.name,o.expression),a=e.property.name),e.computed&&(a=this.recurse(e.property)),e.computed?this.computedMember(i,a,t,r,o.expression):this.nonComputedMember(i,a,o.expensiveChecks,t,r,o.expression);case Vr.CallExpression:return s=[],C(e.arguments,function(e){s.push(o.recurse(e))}),e.filter&&(a=this.$filter(e.callee.name)),e.filter||(a=this.recurse(e.callee,!0)),e.filter?function(e,r,i,o){for(var u=[],l=0;l<s.length;++l)u.push(s[l](e,r,i,o));var f=a.apply(n,u,o);return t?{context:n,name:n,value:f}:f}:function(e,n,r,i){var l,u=a(e,n,r,i);if(null!=u.value){Sr(u.context,o.expression),Ar(u.value,o.expression);for(var f=[],c=0;c<s.length;++c)f.push(Sr(s[c](e,n,r,i),o.expression));l=Sr(u.value.apply(u.context,f),o.expression)}return t?{value:l}:l};case Vr.AssignmentExpression:return i=this.recurse(e.left,!0,1),a=this.recurse(e.right),function(e,n,r,s){var u=i(e,n,r,s),l=a(e,n,r,s);return Sr(u.value,o.expression),u.context[u.name]=l,t?{value:l}:l};case Vr.ArrayExpression:return s=[],C(e.elements,function(e){s.push(o.recurse(e))}),function(e,n,r,i){for(var a=[],o=0;o<s.length;++o)a.push(s[o](e,n,r,i));return t?{value:a}:a};case Vr.ObjectExpression:return s=[],C(e.properties,function(e){s.push({key:e.key.type===Vr.Identifier?e.key.name:""+e.key.value,value:o.recurse(e.value)})}),function(e,n,r,i){for(var a={},o=0;o<s.length;++o)a[s[o].key]=s[o].value(e,n,r,i);return t?{value:a}:a};case Vr.ThisExpression:return function(e){return t?{value:e}:e};case Vr.NGValueParameter:return function(e,n,r,i){return t?{value:r}:r}}},"unary+":function(e,t){return function(n,r,i,a){var o=e(n,r,i,a);return o=_(o)?+o:0,t?{value:o}:o}},"unary-":function(e,t){return function(n,r,i,a){var o=e(n,r,i,a);return o=_(o)?-o:0,t?{value:o}:o}},"unary!":function(e,t){return function(n,r,i,a){var o=!e(n,r,i,a);return t?{value:o}:o}},"binary+":function(e,t,n){return function(r,i,a,o){var s=e(r,i,a,o),u=t(r,i,a,o),l=jr(s,u);return n?{value:l}:l}},"binary-":function(e,t,n){return function(r,i,a,o){var s=e(r,i,a,o),u=t(r,i,a,o),l=(_(s)?s:0)-(_(u)?u:0);return n?{value:l}:l}},"binary*":function(e,t,n){return function(r,i,a,o){var s=e(r,i,a,o)*t(r,i,a,o);return n?{value:s}:s}},"binary/":function(e,t,n){return function(r,i,a,o){var s=e(r,i,a,o)/t(r,i,a,o);return n?{value:s}:s}},"binary%":function(e,t,n){return function(r,i,a,o){var s=e(r,i,a,o)%t(r,i,a,o);return n?{value:s}:s}},"binary===":function(e,t,n){return function(r,i,a,o){var s=e(r,i,a,o)===t(r,i,a,o);return n?{value:s}:s}},"binary!==":function(e,t,n){return function(r,i,a,o){var s=e(r,i,a,o)!==t(r,i,a,o);return n?{value:s}:s}},"binary==":function(e,t,n){return function(r,i,a,o){var s=e(r,i,a,o)==t(r,i,a,o);return n?{value:s}:s}},"binary!=":function(e,t,n){return function(r,i,a,o){var s=e(r,i,a,o)!=t(r,i,a,o);return n?{value:s}:s}},"binary<":function(e,t,n){return function(r,i,a,o){var s=e(r,i,a,o)<t(r,i,a,o);return n?{value:s}:s}},"binary>":function(e,t,n){return function(r,i,a,o){var s=e(r,i,a,o)>t(r,i,a,o);return n?{value:s}:s}},"binary<=":function(e,t,n){return function(r,i,a,o){var s=e(r,i,a,o)<=t(r,i,a,o);return n?{value:s}:s}},"binary>=":function(e,t,n){return function(r,i,a,o){var s=e(r,i,a,o)>=t(r,i,a,o);return n?{value:s}:s}},"binary&&":function(e,t,n){return function(r,i,a,o){var s=e(r,i,a,o)&&t(r,i,a,o);return n?{value:s}:s}},"binary||":function(e,t,n){return function(r,i,a,o){var s=e(r,i,a,o)||t(r,i,a,o);return n?{value:s}:s}},"ternary?:":function(e,t,n,r){return function(i,a,o,s){var u=e(i,a,o,s)?t(i,a,o,s):n(i,a,o,s);return r?{value:u}:u}},value:function(e,t){return function(){return t?{context:n,name:n,value:e}:e}},identifier:function(e,t,r,i,a){return function(o,s,u,l){var f=s&&e in s?s:o;i&&1!==i&&f&&!f[e]&&(f[e]={});var c=f?f[e]:n;return t&&Sr(c,a),r?{context:f,name:e,value:c}:c}},computedMember:function(e,t,n,r,i){return function(a,o,s,u){var f,c,l=e(a,o,s,u);return null!=l&&(f=t(a,o,s,u),xr(f,i),r&&1!==r&&l&&!l[f]&&(l[f]={}),c=l[f],Sr(c,i)),n?{context:l,name:f,value:c}:c}},nonComputedMember:function(e,t,r,i,a,o){return function(s,u,l,f){var c=e(s,u,l,f);a&&1!==a&&c&&!c[t]&&(c[t]={});var h=null!=c?c[t]:n;return(r||Gr(t))&&Sr(h,o),i?{context:c,name:t,value:h}:h}},inputs:function(e,t){return function(n,r,i,a){return a?a[t]:e(n,r,i)}}};var Lr=function(e,t,n){this.lexer=e,this.$filter=t,this.options=n,this.ast=new Vr(this.lexer),this.astCompiler=n.csp?new Br(this.ast,t):new Fr(this.ast,t)};Lr.prototype={constructor:Lr,parse:function(e){return this.astCompiler.compile(e,this.options.expensiveChecks)}};var Jr=(ze(),ze(),Object.prototype.valueOf),ri=r("$sce"),ii={HTML:"html",CSS:"css",URL:"url",RESOURCE_URL:"resourceUrl",JS:"js"},bn=r("$compile"),pi=t.createElement("a"),di=$i(e.location.href);gi.$inject=["$document"],bi.$inject=["$provide"],ki.$inject=["$locale"],Ai.$inject=["$locale"];var Oi=".",Ui={yyyy:Vi("FullYear",4),yy:Vi("FullYear",2,0,!0),y:Vi("FullYear",1),MMMM:Ni("Month"),MMM:Ni("Month",!0),MM:Vi("Month",2,1),M:Vi("Month",1,1),dd:Vi("Date",2),d:Vi("Date",1),HH:Vi("Hours",2),H:Vi("Hours",1),hh:Vi("Hours",2,-12),h:Vi("Hours",1,-12),mm:Vi("Minutes",2),m:Vi("Minutes",1),ss:Vi("Seconds",2),s:Vi("Seconds",1),sss:Vi("Milliseconds",3),EEEE:Ni("Day"),EEE:Ni("Day",!0),a:Ri,Z:ji,ww:Di(2),w:Di(1),G:_i,GG:_i,GGG:_i,GGGG:qi},Fi=/((?:[^yMdHhmsaZEwG']+)|(?:'(?:[^']|'')*')|(?:E+|y+|M+|d+|H+|h+|m+|s+|a|Z|G+|w+))(.*)/,Bi=/^\-?\d+$/;Li.$inject=["$locale"];var zi=D(o),Wi=D(u);Ji.$inject=["$parse"];var Zi=D({restrict:"E",compile:function(e,t){return t.href||t.xlinkHref?void 0:function(e,t){if("a"===t[0].nodeName.toLowerCase()){var n="[object SVGAnimatedString]"===m.call(t.prop("href"))?"xlink:href":"href";t.on("click",function(e){t.attr(n)||e.preventDefault()})}}}}),Ki={};C(qt,function(e,t){function n(e,n,i){e.$watch(i[r],function(e){i.$set(t,!!e)})}if("multiple"!=e){var r=Sn("ng-"+t),i=n;"checked"===e&&(i=function(e,t,i){i.ngModel!==i[r]&&n(e,t,i)}),Ki[r]=function(){return{restrict:"A",priority:100,link:i}}}}),C(Ft,function(e,t){Ki[t]=function(){return{priority:100,link:function(e,n,r){if("ngPattern"===t&&"/"==r.ngPattern.charAt(0)){var a=r.ngPattern.match(i);if(a)return void r.$set("ngPattern",new RegExp(a[1],a[2]))}e.$watch(r[t],function(e){r.$set(t,e)})}}}}),C(["src","srcset","href"],function(e){var t=Sn("ng-"+e);Ki[t]=function(){return{priority:99,link:function(n,r,i){var a=e,o=e;"href"===e&&"[object SVGAnimatedString]"===m.call(r.prop("href"))&&(o="xlinkHref",i.$attr[o]="xlink:href",a=null),i.$observe(t,function(t){return t?(i.$set(o,t),void(c&&a&&r.prop(a,i[o]))):void("href"===e&&i.$set(o,null))})}}}});var Xi={$addControl:P,$$renameControl:ea,$removeControl:P,$setValidity:P,$setDirty:P,$setPristine:P,$setSubmitted:P},Qi="ng-submitted";ta.$inject=["$element","$attrs","$scope","$animate","$interpolate"];var na=function(e){return["$timeout",function(t){var r={name:"form",restrict:e?"EAC":"E",controller:ta,compile:function(r,a){r.addClass(Za).addClass(Ja);var o=a.name?"name":e&&a.ngForm?"ngForm":!1;return{pre:function s(e,r,i,a){if(!("action"in i)){var s=function(t){e.$apply(function(){a.$commitViewValue(),a.$setSubmitted()}),t.preventDefault()};at(r[0],"submit",s),r.on("$destroy",function(){t(function(){ot(r[0],"submit",s)},0,!1)})}var u=a.$$parentForm;o&&(Hr(e,a.$name,a,a.$name),i.$observe(o,function(t){a.$name!==t&&(Hr(e,a.$name,n,a.$name),u.$$renameControl(a,t),Hr(e,a.$name,a,a.$name))})),r.on("$destroy",function(){u.$removeControl(a),o&&Hr(e,i[o],n,a.$name),T(a,Xi)})}}}};return r}]},ra=na(),ia=na(!0),aa=/\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z)/,oa=/^(ftp|http|https):\/\/(\w+:{0,1}\w*@)?(\S+)(:[0-9]+)?(\/|\/([\w#!:.?+=&%@!\-\/]))?$/,sa=/^[a-z0-9!#$%&'*+\/=?^_`{|}~.-]+@[a-z0-9]([a-z0-9-]*[a-z0-9])?(\.[a-z0-9]([a-z0-9-]*[a-z0-9])?)*$/i,ua=/^\s*(\-|\+)?(\d+|(\d*(\.\d*)))\s*$/,la=/^(\d{4})-(\d{2})-(\d{2})$/,fa=/^(\d{4})-(\d\d)-(\d\d)T(\d\d):(\d\d)(?::(\d\d)(\.\d{1,3})?)?$/,ca=/^(\d{4})-W(\d\d)$/,ha=/^(\d{4})-(\d\d)$/,pa=/^(\d\d):(\d\d)(?::(\d\d)(\.\d{1,3})?)?$/,da={text:va,date:ba("date",la,ya(la,["yyyy","MM","dd"]),"yyyy-MM-dd"),"datetime-local":ba("datetimelocal",fa,ya(fa,["yyyy","MM","dd","HH","mm","ss","sss"]),"yyyy-MM-ddTHH:mm:ss.sss"),time:ba("time",pa,ya(pa,["HH","mm","ss","sss"]),"HH:mm:ss.sss"),week:ba("week",ca,ga,"yyyy-Www"),month:ba("month",ha,ya(ha,["yyyy","MM"]),"yyyy-MM"),number:xa,url:Sa,email:Ca,radio:Ea,checkbox:Aa,hidden:P,button:P,submit:P,reset:P,file:P},Oa=["$browser","$sniffer","$filter","$parse",function(e,t,n,r){return{restrict:"E",require:["?ngModel"],link:{pre:function(i,a,s,u){u[0]&&(da[o(s.type)]||da.text)(i,a,s,u[0],t,e,n,r)}}}}],Ma=/^(true|false|\d+)$/,Ta=function(){return{restrict:"A",priority:100,compile:function(e,t){return Ma.test(t.ngValue)?function(e,t,r){r.$set("value",e.$eval(r.ngValue))}:function(e,t,n){e.$watch(n.ngValue,function(e){n.$set("value",e)})}}}},Va=["$compile",function(e){return{restrict:"AC",compile:function(r){return e.$$addBindingClass(r),function(t,r,a){e.$$addBindingInfo(r,a.ngBind),r=r[0],t.$watch(a.ngBind,function(e){r.textContent=e===n?"":e})}}}}],Na=["$interpolate","$compile",function(e,t){return{compile:function(i){return t.$$addBindingClass(i),function(r,i,o){var s=e(i.attr(o.$attr.ngBindTemplate));t.$$addBindingInfo(i,s.expressions),i=i[0],o.$observe("ngBindTemplate",function(e){i.textContent=e===n?"":e})}}}}],ja=["$sce","$parse","$compile",function(e,t,n){return{restrict:"A",compile:function(i,a){var o=t(a.ngBindHtml),s=t(a.ngBindHtml,function(e){return(e||"").toString()});return n.$$addBindingClass(i),function(t,r,i){n.$$addBindingInfo(r,i.ngBindHtml),t.$watch(s,function(){r.html(e.getTrustedHtml(o(t))||"")})}}}}],Pa=D({restrict:"A",require:"ngModel",link:function(e,t,n,r){r.$viewChangeListeners.push(function(){e.$eval(n.ngChange)})}}),Da=Ia("",!0),Ra=Ia("Odd",0),_a=Ia("Even",1),qa=Yi({compile:function(e,t){t.$set("ngCloak",n),e.removeClass("ng-cloak")}}),Ua=[function(){return{restrict:"A",scope:!0,controller:"@",priority:500}}],Fa={},Ba={blur:!0,focus:!0};C("click dblclick mousedown mouseup mouseover mouseout mousemove mouseenter mouseleave keydown keyup keypress submit focus blur copy cut paste".split(" "),function(e){var t=Sn("ng-"+e);Fa[t]=["$parse","$rootScope",function(n,r){return{restrict:"A",compile:function(i,a){var o=n(a[t],null,!0);return function(t,n){n.on(e,function(n){var i=function(){o(t,{$event:n})};Ba[e]&&r.$$phase?t.$evalAsync(i):t.$apply(i)})}}}}]});var La=["$animate",function(e){return{multiElement:!0,transclude:"element",priority:600,terminal:!0,restrict:"A",$$tlb:!0,link:function(n,r,i,a,o){var s,u,l;n.$watch(i.ngIf,function(n){n?u||o(function(n,a){u=a,n[n.length++]=t.createComment(" end ngIf: "+i.ngIf+" "),s={clone:n},e.enter(n,r.parent(),r)}):(l&&(l.remove(),l=null),u&&(u.$destroy(),u=null),s&&(l=He(s.clone),e.leave(l).then(function(){l=null}),s=null))})}}}],Ha=["$templateRequest","$anchorScroll","$animate","$sce",function(e,t,n,r){return{restrict:"ECA",priority:400,terminal:!0,transclude:"element",controller:b.noop,compile:function(i,a){var o=a.ngInclude||a.src,s=a.onload||"",u=a.autoscroll;return function(i,a,l,f,c){var p,d,$,h=0,v=function(){d&&(d.remove(),d=null),p&&(p.$destroy(),p=null),$&&(n.leave($).then(function(){d=null}),d=$,$=null)};i.$watch(r.parseAsResourceUrl(o),function(r){var o=function(){!_(u)||u&&!i.$eval(u)||t()},l=++h;r?(e(r,!0).then(function(e){if(l===h){var t=i.$new();f.template=e;var u=c(t,function(e){v(),n.enter(e,null,a).then(o)});p=t,$=u,p.$emit("$includeContentLoaded",r),i.$eval(s)}},function(){l===h&&(v(),i.$emit("$includeContentError",r))}),i.$emit("$includeContentRequested",r)):(v(),f.template=null)})}}}}],za=["$compile",function(e){return{restrict:"ECA",priority:-400,require:"ngInclude",link:function(n,r,i,a){return/SVG/.test(r[0].toString())?(r.empty(),void e(bt(a.template,t).childNodes)(n,function(e){r.append(e)},{futureParentElement:r})):(r.html(a.template),void e(r.contents())(n))}}}],Wa=Yi({priority:450,compile:function(){return{pre:function(e,t,n){e.$eval(n.ngInit)}}}}),Ga=function(){return{restrict:"A",priority:100,require:"ngModel",link:function(e,t,r,i){var a=t.attr(r.$attr.ngList)||", ",o="false"!==r.ngTrim,s=o?ne(a):a,u=function(e){if(!R(e)){var t=[];return e&&C(e.split(s),function(e){e&&t.push(o?ne(e):e)}),t}};i.$parsers.push(u),i.$formatters.push(function(e){return H(e)?e.join(a):n}),i.$isEmpty=function(e){return!e||!e.length}}}},Ja="ng-valid",Ya="ng-invalid",Za="ng-pristine",Ka="ng-dirty",Xa="ng-untouched",Qa="ng-touched",eo="ng-pending",to=new r("ngModel"),no=["$scope","$exceptionHandler","$attrs","$element","$parse","$animate","$timeout","$rootScope","$q","$interpolate",function(e,t,r,i,a,o,s,u,l,f){this.$viewValue=Number.NaN,this.$modelValue=Number.NaN,this.$$rawModelValue=n,this.$validators={},this.$asyncValidators={},this.$parsers=[],this.$formatters=[],this.$viewChangeListeners=[],this.$untouched=!0,this.$touched=!1,this.$pristine=!0,this.$dirty=!1,this.$valid=!0,this.$invalid=!1,this.$error={},this.$$success={},this.$pending=n,this.$name=f(r.name||"",!1)(e);var v,c=a(r.ngModel),h=c.assign,p=c,d=h,$=null,m=this;this.$$setOptions=function(e){if(m.$options=e,e&&e.getterSetter){var t=a(r.ngModel+"()"),n=a(r.ngModel+"($$$p)");p=function(e){var n=c(e);return z(n)&&(n=t(e)),n},d=function(e,t){z(c(e))?n(e,{$$$p:m.$modelValue}):h(e,m.$modelValue)}}else if(!c.assign)throw to("nonassign","Expression '{0}' is non-assignable. Element: {1}",r.ngModel,Se(i))},this.$render=P,this.$isEmpty=function(e){return R(e)||""===e||null===e||e!==e};var g=i.inheritedData("$formController")||Xi,y=0;oo({ctrl:this,$element:i,set:function(e,t){e[t]=!0},unset:function(e,t){delete e[t]},parentForm:g,$animate:o}),this.$setPristine=function(){m.$dirty=!1,m.$pristine=!0,o.removeClass(i,Ka),o.addClass(i,Za)},this.$setDirty=function(){m.$dirty=!0,m.$pristine=!1,o.removeClass(i,Za),o.addClass(i,Ka),g.$setDirty()},this.$setUntouched=function(){m.$touched=!1,m.$untouched=!0,o.setClass(i,Xa,Qa)},this.$setTouched=function(){m.$touched=!0,m.$untouched=!1,o.setClass(i,Qa,Xa)},this.$rollbackViewValue=function(){s.cancel($),m.$viewValue=m.$$lastCommittedViewValue,m.$render()},this.$validate=function(){if(!B(m.$modelValue)||!isNaN(m.$modelValue)){var e=m.$$lastCommittedViewValue,t=m.$$rawModelValue,r=m.$valid,i=m.$modelValue,a=m.$options&&m.$options.allowInvalid;m.$$runValidators(t,e,function(e){a||r===e||(m.$modelValue=e?t:n,m.$modelValue!==i&&m.$$writeModelToScope())})}},this.$$runValidators=function(e,t,r){function a(){var e=m.$$parserName||"parse";return v!==n?(v||(C(m.$validators,function(e,t){u(t,null)}),C(m.$asyncValidators,function(e,t){u(t,null)})),u(e,v),v):(u(e,null),!0)}function o(){var n=!0;return C(m.$validators,function(r,i){var a=r(e,t);n=n&&a,u(i,a)}),n?!0:(C(m.$asyncValidators,function(e,t){u(t,null)}),!1)}function s(){var r=[],i=!0;C(m.$asyncValidators,function(a,o){var s=a(e,t);if(!Q(s))throw to("$asyncValidators","Expected asynchronous validator to return a promise but got '{0}' instead.",s);u(o,n),r.push(s.then(function(){u(o,!0)},function(e){i=!1,u(o,!1)}))}),r.length?l.all(r).then(function(){f(i)},P):f(!0)}function u(e,t){i===y&&m.$setValidity(e,t)}function f(e){i===y&&r(e)}y++;var i=y;return a()&&o()?void s():void f(!1)},this.$commitViewValue=function(){var e=m.$viewValue;s.cancel($),(m.$$lastCommittedViewValue!==e||""===e&&m.$$hasNativeValidators)&&(m.$$lastCommittedViewValue=e,m.$pristine&&this.$setDirty(),this.$$parseAndValidate())},this.$$parseAndValidate=function(){function s(){m.$modelValue!==a&&m.$$writeModelToScope()}var t=m.$$lastCommittedViewValue,r=t;if(v=R(r)?n:!0)for(var i=0;i<m.$parsers.length;i++)if(r=m.$parsers[i](r),R(r)){v=!1;break}B(m.$modelValue)&&isNaN(m.$modelValue)&&(m.$modelValue=p(e));var a=m.$modelValue,o=m.$options&&m.$options.allowInvalid;m.$$rawModelValue=r,o&&(m.$modelValue=r,s()),m.$$runValidators(r,m.$$lastCommittedViewValue,function(e){o||(m.$modelValue=e?r:n,s())})},this.$$writeModelToScope=function(){d(e,m.$modelValue),C(m.$viewChangeListeners,function(e){try{e()}catch(n){t(n)}})},this.$setViewValue=function(e,t){m.$viewValue=e,(!m.$options||m.$options.updateOnDefault)&&m.$$debounceViewValueCommit(t)},this.$$debounceViewValueCommit=function(t){var i,n=0,r=m.$options;r&&_(r.debounce)&&(i=r.debounce,B(i)?n=i:B(i[t])?n=i[t]:B(i["default"])&&(n=i["default"])),s.cancel($),n?$=s(function(){m.$commitViewValue()},n):u.$$phase?m.$commitViewValue():e.$apply(function(){m.$commitViewValue()})},e.$watch(function(){var t=p(e);if(t!==m.$modelValue&&(m.$modelValue===m.$modelValue||t===t)){m.$modelValue=m.$$rawModelValue=t,v=n;for(var r=m.$formatters,i=r.length,a=t;i--;)a=r[i](a);m.$viewValue!==a&&(m.$viewValue=m.$$lastCommittedViewValue=a,m.$render(),m.$$runValidators(t,a,P))}return t})}],ro=["$rootScope",function(e){return{restrict:"A",require:["ngModel","^?form","^?ngModelOptions"],controller:no,priority:1,compile:function(n){return n.addClass(Za).addClass(Xa).addClass(Ja),{pre:function(e,t,n,i){var a=i[0],o=i[1]||Xi;a.$$setOptions(i[2]&&i[2].$options),o.$addControl(a),n.$observe("name",function(e){a.$name!==e&&o.$$renameControl(a,e)}),e.$on("$destroy",function(){o.$removeControl(a)})},post:function(t,n,r,a){var o=a[0];o.$options&&o.$options.updateOn&&n.on(o.$options.updateOn,function(e){o.$$debounceViewValueCommit(e&&e.type)}),n.on("blur",function(n){o.$touched||(e.$$phase?t.$evalAsync(o.$setTouched):t.$apply(o.$setTouched))})}}}}}],io=/(\s+|^)default(\s+|$)/,ao=function(){return{restrict:"A",controller:["$scope","$attrs",function(e,t){var r=this;this.$options=le(e.$eval(t.ngModelOptions)),this.$options.updateOn!==n?(this.$options.updateOnDefault=!1,this.$options.updateOn=ne(this.$options.updateOn.replace(io,function(){return r.$options.updateOnDefault=!0," "}))):this.$options.updateOnDefault=!0}]}},uo=Yi({terminal:!0,priority:1e3}),lo=r("ngOptions"),fo=/^\s*([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+group\s+by\s+([\s\S]+?))?(?:\s+disable\s+when\s+([\s\S]+?))?\s+for\s+(?:([\$\w][\$\w]*)|(?:\(\s*([\$\w][\$\w]*)\s*,\s*([\$\w][\$\w]*)\s*\)))\s+in\s+([\s\S]+?)(?:\s+track\s+by\s+([\s\S]+?))?$/,co=["$compile","$parse",function(e,n){function r(e,t,r){function x(e,t,n,r,i){this.selectValue=e,this.viewValue=t,this.label=n,this.group=r,this.disabled=i}var i=e.match(fo);if(!i)throw lo("iexp","Expected expression in form of '_select_ (as _label_)? for (_key_,)?_value_ in _collection_' but got '{0}'. Element: {1}",e,Se(t));var a=i[5]||i[7],o=i[6],s=/ as /.test(i[0])&&i[1],u=i[9],l=n(i[2]?i[1]:a),f=s&&n(s),c=f||l,h=u&&n(u),p=u?function(e,t){return h(r,t)}:function(e){return Wt(e)},d=function(e,t){return p(e,w(e,t))},$=n(i[2]||i[1]),v=n(i[3]||""),m=n(i[4]||""),g=n(i[8]),y={},w=o?function(e,t){return y[o]=t,y[a]=e,y}:function(e){return y[a]=e,y};return{trackBy:u,getTrackByValue:d,getWatchables:n(g,function(e){var t=[];return e=e||[],Object.keys(e).forEach(function(a){var o=w(e[a],a),s=p(e[a],o);if(t.push(s),i[2]||i[1]){var u=$(r,o);t.push(u)}if(i[4]){var l=m(r,o);t.push(l)}}),t}),getOptions:function(){var i,e=[],t={},n=g(r)||[];if(!o&&S(n))i=n;else{i=[];for(var a in n)n.hasOwnProperty(a)&&"$"!==a.charAt(0)&&i.push(a)}for(var s=i.length,l=0;s>l;l++){var f=n===i?l:i[l],h=n[f],y=w(h,f),C=c(r,y),E=p(C,y),k=$(r,y),A=v(r,y),O=m(r,y),M=new x(E,C,k,A,O);e.push(M),t[E]=M}return{items:e,selectValueMap:t,getOptionFromViewValue:function(e){return t[d(e)]},getViewValueFromOption:function(e){return u?b.copy(e.viewValue):e.viewValue}}}}}var i=t.createElement("option"),a=t.createElement("optgroup");return{restrict:"A",terminal:!0,require:["select","?ngModel"],link:function(t,n,s,u){function k(e,t){e.element=t,t.disabled=e.disabled,e.value!==t.value&&(t.value=e.selectValue),e.label!==t.label&&(t.label=e.label,t.textContent=e.label)}function A(e,t,n,r){
var i;return t&&o(t.nodeName)===n?i=t:(i=r.cloneNode(!1),t?e.insertBefore(i,t):e.appendChild(i)),i}function O(e){for(var t;e;)t=e.nextSibling,Dt(e),e=t}function M(e){var t=p&&p[0],n=g&&g[0];if(t||n)for(;e&&(e===t||e===n);)e=e.nextSibling;return e}function T(){var e=y&&f.readValue();y=b.getOptions();var t={},r=n[0].firstChild;if(m&&n.prepend(p),r=M(r),y.items.forEach(function s(e){var o,s,u;e.group?(o=t[e.group],o||(s=A(n[0],r,"optgroup",a),r=s.nextSibling,s.label=e.group,o=t[e.group]={groupElement:s,currentOptionElement:s.firstChild}),u=A(o.groupElement,o.currentOptionElement,"option",i),k(e,u),o.currentOptionElement=u.nextSibling):(u=A(n[0],r,"option",i),k(e,u),r=u.nextSibling)}),Object.keys(t).forEach(function(e){O(t[e].currentOptionElement)}),O(r),l.$render(),!l.$isEmpty(e)){var o=f.readValue();(b.trackBy&&!ce(e,o)||e!==o)&&(l.$setViewValue(o),l.$render())}}var l=u[1];if(l){for(var p,f=u[0],c=s.multiple,d=0,$=n.children(),v=$.length;v>d;d++)if(""===$[d].value){p=$.eq(d);break}var m=!!p,g=h(i.cloneNode(!1));g.val("?");var y,b=r(s.ngOptions,n,t),w=function(){m||n.prepend(p),n.val(""),p.prop("selected",!0),p.attr("selected",!0)},x=function(){m||p.remove()},S=function(){n.prepend(g),n.val("?"),g.prop("selected",!0),g.attr("selected",!0)},E=function(){g.remove()};c?(l.$isEmpty=function(e){return!e||0===e.length},f.writeValue=function(e){y.items.forEach(function(e){e.element.selected=!1}),e&&e.forEach(function(e){var t=y.getOptionFromViewValue(e);t&&!t.disabled&&(t.element.selected=!0)})},f.readValue=function(){var e=n.val()||[],t=[];return C(e,function(e){var n=y.selectValueMap[e];n.disabled||t.push(y.getViewValueFromOption(n))}),t},b.trackBy&&t.$watchCollection(function(){return H(l.$viewValue)?l.$viewValue.map(function(e){return b.getTrackByValue(e)}):void 0},function(){l.$render()})):(f.writeValue=function(e){var t=y.getOptionFromViewValue(e);t&&!t.disabled?n[0].value!==t.selectValue&&(E(),x(),n[0].value=t.selectValue,t.element.selected=!0,t.element.setAttribute("selected","selected")):null===e||m?(E(),w()):(x(),S())},f.readValue=function(){var e=y.selectValueMap[n.val()];return e&&!e.disabled?(x(),E(),y.getViewValueFromOption(e)):null},b.trackBy&&t.$watch(function(){return b.getTrackByValue(l.$viewValue)},function(){l.$render()})),m?(p.remove(),e(p)(t),p.removeClass("ng-scope")):p=h(i.cloneNode(!1)),T(),t.$watchCollection(b.getWatchables,T)}}}}],ho=["$locale","$interpolate","$log",function(e,t,n){var r=/{}/g,i=/^when(Minus)?(.+)$/;return{link:function(a,s,u){function y(e){s.text(e||"")}var g,l=u.count,f=u.$attr.when&&s.attr(u.$attr.when),c=u.offset||0,h=a.$eval(f)||{},p={},d=t.startSymbol(),$=t.endSymbol(),v=d+l+"-"+c+$,m=b.noop;C(u,function(e,t){var n=i.exec(t);if(n){var r=(n[1]?"-":"")+o(n[2]);h[r]=s.attr(u.$attr[t])}}),C(h,function(e,n){p[n]=t(e.replace(r,v))}),a.$watch(l,function(t){var r=parseFloat(t),i=isNaN(r);if(i||r in h||(r=e.pluralCat(r-c)),r!==g&&!(i&&B(g)&&isNaN(g))){m();var o=p[r];R(o)?(null!=t&&n.debug("ngPluralize: no rule defined for '"+r+"' in "+f),m=P,y()):m=a.$watch(o,y),g=r}})}}}],po=["$parse","$animate",function(e,i){var a="$$NG_REMOVED",o=r("ngRepeat"),s=function(e,t,n,r,i,a,o){e[n]=r,i&&(e[i]=a),e.$index=t,e.$first=0===t,e.$last=t===o-1,e.$middle=!(e.$first||e.$last),e.$odd=!(e.$even=0===(1&t))},u=function(e){return e.clone[0]},l=function(e){return e.clone[e.clone.length-1]};return{restrict:"A",multiElement:!0,transclude:"element",priority:1e3,terminal:!0,$$tlb:!0,compile:function(r,c){var p=c.ngRepeat,d=t.createComment(" end ngRepeat: "+p+" "),$=p.match(/^\s*([\s\S]+?)\s+in\s+([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+track\s+by\s+([\s\S]+?))?\s*$/);if(!$)throw o("iexp","Expected expression in form of '_item_ in _collection_[ track by _id_]' but got '{0}'.",p);var v=$[1],m=$[2],g=$[3],y=$[4];if($=v.match(/^(?:(\s*[\$\w]+)|\(\s*([\$\w]+)\s*,\s*([\$\w]+)\s*\))$/),!$)throw o("iidexp","'_item_' in '_item_ in _collection_' should be an identifier or '(_key_, _value_)' expression, but got '{0}'.",v);var b=$[3]||$[1],w=$[2];if(g&&(!/^[$a-zA-Z_][$a-zA-Z0-9_]*$/.test(g)||/^(null|undefined|this|\$index|\$first|\$middle|\$last|\$even|\$odd|\$parent|\$root|\$id)$/.test(g)))throw o("badident","alias '{0}' is invalid --- must be a valid JS identifier which is not a reserved name.",g);var x,E,k,A,O={$id:Wt};return y?x=e(y):(k=function(e,t){return Wt(t)},A=function(e){return e}),function(e,t,r,f,c){x&&(E=function(t,n,r){return w&&(O[w]=t),O[b]=n,O.$index=r,x(e,O)});var $=ze();e.$watchCollection(m,function v(r){var f,v,y,O,M,T,V,N,j,P,I,D,m=t[0],x=ze();if(g&&(e[g]=r),S(r))j=r,N=E||k;else{N=E||A,j=[];for(var R in r)r.hasOwnProperty(R)&&"$"!==R.charAt(0)&&j.push(R)}for(O=j.length,I=new Array(O),f=0;O>f;f++)if(M=r===j?f:j[f],T=r[M],V=N(M,T,f),$[V])P=$[V],delete $[V],x[V]=P,I[f]=P;else{if(x[V])throw C(I,function(e){e&&e.scope&&($[e.id]=e)}),o("dupes","Duplicates in a repeater are not allowed. Use 'track by' expression to specify unique keys. Repeater: {0}, Duplicate key: {1}, Duplicate value: {2}",p,V,T);I[f]={id:V,scope:n,clone:n},x[V]=!0}for(var _ in $){if(P=$[_],D=He(P.clone),i.leave(D),D[0].parentNode)for(f=0,v=D.length;v>f;f++)D[f][a]=!0;P.scope.$destroy()}for(f=0;O>f;f++)if(M=r===j?f:j[f],T=r[M],P=I[f],P.scope){y=m;do y=y.nextSibling;while(y&&y[a]);u(P)!=y&&i.move(He(P.clone),null,h(m)),m=l(P),s(P.scope,f,b,T,w,M,O)}else c(function(e,t){P.scope=t;var n=d.cloneNode(!1);e[e.length++]=n,i.enter(e,null,h(m)),m=n,P.clone=e,x[P.id]=P,s(P.scope,f,b,T,w,M,O)});$=x})}}}}],$o="ng-hide",vo="ng-hide-animate",mo=["$animate",function(e){return{restrict:"A",multiElement:!0,link:function(t,n,r){t.$watch(r.ngShow,function(t){e[t?"removeClass":"addClass"](n,$o,{tempClasses:vo})})}}}],go=["$animate",function(e){return{restrict:"A",multiElement:!0,link:function(t,n,r){t.$watch(r.ngHide,function(t){e[t?"addClass":"removeClass"](n,$o,{tempClasses:vo})})}}}],yo=Yi(function(e,t,n){e.$watch(n.ngStyle,function(e,n){n&&e!==n&&C(n,function(e,n){t.css(n,"")}),e&&t.css(e)},!0)}),bo=["$animate",function(e){return{require:"ngSwitch",controller:["$scope",function(){this.cases={}}],link:function(n,r,i,a){var o=i.ngSwitch||i.on,s=[],u=[],l=[],f=[],c=function(e,t){return function(){e.splice(t,1)}};n.$watch(o,function h(n){var r,i;for(r=0,i=l.length;i>r;++r)e.cancel(l[r]);for(l.length=0,r=0,i=f.length;i>r;++r){var o=He(u[r].clone);f[r].$destroy();var h=l[r]=e.leave(o);h.then(c(l,r))}u.length=0,f.length=0,(s=a.cases["!"+n]||a.cases["?"])&&C(s,function(n){n.transclude(function(r,i){f.push(i);var a=n.element;r[r.length++]=t.createComment(" end ngSwitchWhen: ");var o={clone:r};u.push(o),e.enter(r,a.parent(),a)})})})}}}],wo=Yi({transclude:"element",priority:1200,require:"^ngSwitch",multiElement:!0,link:function(e,t,n,r,i){r.cases["!"+n.ngSwitchWhen]=r.cases["!"+n.ngSwitchWhen]||[],r.cases["!"+n.ngSwitchWhen].push({transclude:i,element:t})}}),xo=Yi({transclude:"element",priority:1200,require:"^ngSwitch",multiElement:!0,link:function(e,t,n,r,i){r.cases["?"]=r.cases["?"]||[],r.cases["?"].push({transclude:i,element:t})}}),So=Yi({restrict:"EAC",link:function(e,t,n,i,a){if(!a)throw r("ngTransclude")("orphan","Illegal use of ngTransclude directive in the template! No parent directive that requires a transclusion found. Element: {0}",Se(t));a(function(e){t.empty(),t.append(e)})}}),Co=["$templateCache",function(e){return{restrict:"E",terminal:!0,compile:function(t,n){if("text/ng-template"==n.type){var r=n.id,i=t[0].text;e.put(r,i)}}}}],Eo={$setViewValue:P,$render:P},ko=["$element","$scope","$attrs",function(e,r,i){var a=this,o=new Gt;a.ngModelCtrl=Eo,a.unknownOption=h(t.createElement("option")),a.renderUnknownOption=function(t){var n="? "+Wt(t)+" ?";a.unknownOption.val(n),e.prepend(a.unknownOption),e.val(n)},r.$on("$destroy",function(){a.renderUnknownOption=P}),a.removeUnknownOption=function(){a.unknownOption.parent()&&a.unknownOption.remove()},a.readValue=function(){return a.removeUnknownOption(),e.val()},a.writeValue=function(t){a.hasOption(t)?(a.removeUnknownOption(),e.val(t),""===t&&a.emptyOption.prop("selected",!0)):null==t&&a.emptyOption?(a.removeUnknownOption(),e.val("")):a.renderUnknownOption(t)},a.addOption=function(e,t){Be(e,'"option value"'),""===e&&(a.emptyOption=t);var n=o.get(e)||0;o.put(e,n+1)},a.removeOption=function(e){var t=o.get(e);t&&(1===t?(o.remove(e),""===e&&(a.emptyOption=n)):o.put(e,t-1))},a.hasOption=function(e){return!!o.get(e)}}],Ao=function(){return{restrict:"E",require:["select","?ngModel"],controller:ko,link:function(e,t,n,r){var i=r[1];if(i){var a=r[0];if(a.ngModelCtrl=i,i.$render=function(){a.writeValue(i.$viewValue)},t.on("change",function(){e.$apply(function(){i.$setViewValue(a.readValue())})}),n.multiple){a.readValue=function(){var e=[];return C(t.find("option"),function(t){t.selected&&e.push(t.value)}),e},a.writeValue=function(e){var n=new Gt(e);C(t.find("option"),function(e){e.selected=_(n.get(e.value))})};var o,s=0/0;e.$watch(function(){s!==i.$viewValue||ce(o,i.$viewValue)||(o=fe(i.$viewValue),i.$render()),s=i.$viewValue}),i.$isEmpty=function(e){return!e||0===e.length}}}}}},Oo=["$interpolate",function(e){function t(e){e[0].hasAttribute("selected")&&(e[0].selected=!0)}return{restrict:"E",priority:100,compile:function(n,r){if(R(r.value)){var i=e(n.text(),!0);i||r.$set("value",n.text())}return function(e,n,r){var a="$selectController",o=n.parent(),s=o.data(a)||o.parent().data(a);s&&s.ngModelCtrl&&(i?e.$watch(i,function(e,i){r.$set("value",e),i!==e&&s.removeOption(i),s.addOption(e,n),s.ngModelCtrl.$render(),t(n)}):(s.addOption(r.value,n),s.ngModelCtrl.$render(),t(n)),n.on("$destroy",function(){s.removeOption(r.value),s.ngModelCtrl.$render()}))}}}}],Mo=D({restrict:"E",terminal:!1}),To=function(){return{restrict:"A",require:"?ngModel",link:function(e,t,n,r){r&&(n.required=!0,r.$validators.required=function(e,t){return!n.required||!r.$isEmpty(t)},n.$observe("required",function(){r.$validate()}))}}},Vo=function(){return{restrict:"A",require:"?ngModel",link:function(e,t,i,a){if(a){var o,s=i.ngPattern||i.pattern;i.$observe("pattern",function(e){if(F(e)&&e.length>0&&(e=new RegExp("^"+e+"$")),e&&!e.test)throw r("ngPattern")("noregexp","Expected {0} to be a RegExp but was {1}. Element: {2}",s,e,Se(t));o=e||n,a.$validate()}),a.$validators.pattern=function(e){return a.$isEmpty(e)||R(o)||o.test(e)}}}}},No=function(){return{restrict:"A",require:"?ngModel",link:function(e,t,n,r){if(r){var i=-1;n.$observe("maxlength",function(e){var t=N(e);i=isNaN(t)?-1:t,r.$validate()}),r.$validators.maxlength=function(e,t){return 0>i||r.$isEmpty(t)||t.length<=i}}}}},jo=function(){return{restrict:"A",require:"?ngModel",link:function(e,t,n,r){if(r){var i=0;n.$observe("minlength",function(e){i=N(e)||0,r.$validate()}),r.$validators.minlength=function(e,t){return r.$isEmpty(t)||t.length>=i}}}}};e.angular.bootstrap||(qe(),nt(b),h(t).ready(function(){Ve(t,Ne)}))}(window,document),!window.angular.$$csp()&&window.angular.element(document).find("head").prepend('<style type="text/css">@charset "UTF-8";[ng\\:cloak],[ng-cloak],[data-ng-cloak],[x-ng-cloak],.ng-cloak,.x-ng-cloak,.ng-hide:not(.ng-hide-animate){display:none !important;}ng\\:form{display:block;}.ng-animate-shim{visibility:hidden;}.ng-anchor{position:absolute;}</style>'),function(e,r,t){"use strict";function i(){function e(e,t){return r.extend(Object.create(e),t)}function n(e,r){var t=r.caseInsensitiveMatch,n={originalPath:e,regexp:e},a=n.keys=[];return e=e.replace(/([().])/g,"\\$1").replace(/(\/)?:(\w+)([\?\*])?/g,function(e,r,t,n){var i="?"===n?n:null,o="*"===n?n:null;return a.push({name:t,optional:!!i}),r=r||"",""+(i?"":r)+"(?:"+(i?r:"")+(o&&"(.+?)"||"([^/]+)")+(i||"")+")"+(i||"")}).replace(/([\/$\*])/g,"\\$1"),n.regexp=new RegExp("^"+e+"$",t?"i":""),n}var t={};this.when=function(e,a){var i=r.copy(a);if(r.isUndefined(i.reloadOnSearch)&&(i.reloadOnSearch=!0),r.isUndefined(i.caseInsensitiveMatch)&&(i.caseInsensitiveMatch=this.caseInsensitiveMatch),t[e]=r.extend(i,e&&n(e,i)),e){var o="/"==e[e.length-1]?e.substr(0,e.length-1):e+"/";t[o]=r.extend({redirectTo:e},n(o,i))}return this},this.caseInsensitiveMatch=!1,this.otherwise=function(e){return"string"==typeof e&&(e={redirectTo:e}),this.when(null,e),this},this.$get=["$rootScope","$location","$routeParams","$q","$injector","$templateRequest","$sce",function(n,i,o,c,u,l,s){function d(e,r){var t=r.keys,n={};if(!r.regexp)return null;var a=r.regexp.exec(e);if(!a)return null;for(var i=1,o=a.length;o>i;++i){var c=t[i-1],u=a[i];c&&u&&(n[c.name]=u)}return n}function v(e){var t=p.current;h=g(),$=h&&t&&h.$$route===t.$$route&&r.equals(h.pathParams,t.pathParams)&&!h.reloadOnSearch&&!f,$||!t&&!h||n.$broadcast("$routeChangeStart",h,t).defaultPrevented&&e&&e.preventDefault()}function m(){var e=p.current,t=h;$?(e.params=t.params,r.copy(e.params,o),n.$broadcast("$routeUpdate",e)):(t||e)&&(f=!1,p.current=t,t&&t.redirectTo&&(r.isString(t.redirectTo)?i.path(w(t.redirectTo,t.params)).search(t.params).replace():i.url(t.redirectTo(t.pathParams,i.path(),i.search())).replace()),c.when(t).then(function(){if(t){var n,a,e=r.extend({},t.resolve);return r.forEach(e,function(t,n){e[n]=r.isString(t)?u.get(t):u.invoke(t,null,null,n)}),r.isDefined(n=t.template)?r.isFunction(n)&&(n=n(t.params)):r.isDefined(a=t.templateUrl)&&(r.isFunction(a)&&(a=a(t.params)),a=s.getTrustedResourceUrl(a),r.isDefined(a)&&(t.loadedTemplateUrl=a,n=l(a))),r.isDefined(n)&&(e.$template=n),c.all(e)}}).then(function(a){t==p.current&&(t&&(t.locals=a,r.copy(t.params,o)),n.$broadcast("$routeChangeSuccess",t,e))},function(r){t==p.current&&n.$broadcast("$routeChangeError",t,e,r)}))}function g(){var n,a;return r.forEach(t,function(t,o){!a&&(n=d(i.path(),t))&&(a=e(t,{params:r.extend({},i.search(),n),pathParams:n}),a.$$route=t)}),a||t[null]&&e(t[null],{params:{},pathParams:{}})}function w(e,t){var n=[];return r.forEach((e||"").split(":"),function(e,r){if(0===r)n.push(e);else{var a=e.match(/(\w+)(?:[?*])?(.*)/),i=a[1];n.push(t[i]),n.push(a[2]||""),delete t[i]}}),n.join("")}var h,$,f=!1,p={routes:t,reload:function(){f=!0,n.$evalAsync(function(){v(),m()})},updateParams:function(e){if(!this.current||!this.current.$$route)throw a("norout","Tried updating route when with no current route");e=r.extend({},this.current.params,e),i.path(w(this.current.$$route.originalPath,e)),i.search(e)}};return n.$on("$locationChangeStart",v),n.$on("$locationChangeSuccess",m),p}]}function o(){this.$get=function(){return{}}}function c(e,t,n){return{restrict:"ECA",terminal:!0,priority:400,transclude:"element",link:function(a,i,o,c,u){function p(){f&&(n.cancel(f),f=null),l&&(l.$destroy(),l=null),s&&(f=n.leave(s),f.then(function(){f=null}),s=null)}function d(){var o=e.current&&e.current.locals,c=o&&o.$template;if(r.isDefined(c)){var f=a.$new(),d=e.current,v=u(f,function(e){n.enter(e,null,s||i).then(function(){!r.isDefined(h)||h&&!a.$eval(h)||t()}),p()});s=v,l=d.scope=f,l.$emit("$viewContentLoaded"),l.$eval($)}else p()}var l,s,f,h=o.autoscroll,$=o.onload||"";a.$on("$routeChangeSuccess",d),d()}}}function u(e,r,t){return{restrict:"ECA",priority:-400,link:function(n,a){var i=t.current,o=i.locals;a.html(o.$template);var c=e(a.contents());if(i.controller){o.$scope=n;var u=r(i.controller,o);i.controllerAs&&(n[i.controllerAs]=u),a.data("$ngControllerController",u),a.children().data("$ngControllerController",u)}c(n)}}}var n=r.module("ngRoute",["ng"]).provider("$route",i),a=r.$$minErr("ngRoute");n.provider("$routeParams",o),n.directive("ngView",c),n.directive("ngView",u),c.$inject=["$route","$anchorScroll","$animate"],u.$inject=["$compile","$controller","$route"]}(window,window.angular),function(e,n,t){"use strict";function a(e){return n.lowercase(e.nodeName||e[0]&&e[0].nodeName)}function o(e,t,a){r.directive(e,["$parse","$swipe",function(r,o){var c=75,i=.3,u=30;return function(s,f,l){function g(e){if(!h)return!1;var n=Math.abs(e.y-h.y),r=(e.x-h.x)*t;return d&&c>n&&r>0&&r>u&&i>n/r}var h,d,v=r(l[e]),p=["touch"];n.isDefined(l.ngSwipeDisableMouse)||p.push("mouse"),o.bind(f,{start:function(e,n){h=e,d=!0},cancel:function(e){d=!1},end:function(e,n){g(e)&&s.$apply(function(){f.triggerHandler(a),v(s,{$event:n})})}},p)}}])}var r=n.module("ngTouch",[]);r.factory("$swipe",[function(){function r(e){var n=e.originalEvent||e,t=n.touches&&n.touches.length?n.touches:[n],r=n.changedTouches&&n.changedTouches[0]||t[0];return{x:r.clientX,y:r.clientY}}function a(e,r){var a=[];return n.forEach(e,function(e){var n=t[e][r];n&&a.push(n)}),a.join(" ")}var e=10,t={mouse:{start:"mousedown",move:"mousemove",end:"mouseup"},touch:{start:"touchstart",move:"touchmove",end:"touchend",cancel:"touchcancel"}};return{bind:function(n,t,o){var c,i,u,s,f=!1;o=o||["mouse","touch"],n.on(a(o,"start"),function(e){u=r(e),f=!0,c=0,i=0,s=u,t.start&&t.start(u,e)});var l=a(o,"cancel");l&&n.on(l,function(e){f=!1,t.cancel&&t.cancel(e)}),n.on(a(o,"move"),function(n){if(f&&u){var a=r(n);if(c+=Math.abs(a.x-s.x),i+=Math.abs(a.y-s.y),s=a,!(e>c&&e>i))return i>c?(f=!1,void(t.cancel&&t.cancel(n))):(n.preventDefault(),void(t.move&&t.move(a,n)))}}),n.on(a(o,"end"),function(e){f&&(f=!1,t.end&&t.end(r(e),e))})}}}]),r.config(["$provide",function(e){e.decorator("ngClickDirective",["$delegate",function(e){return e.shift(),e}])}]),r.directive("ngClick",["$parse","$timeout","$rootElement",function(e,t,r){function h(e,n,t,r){return Math.abs(e-t)<u&&Math.abs(n-r)<u}function d(e,n,t){for(var r=0;r<e.length;r+=2)if(h(e[r],e[r+1],n,t))return e.splice(r,r+2),!0;return!1}function g(e){if(!(Date.now()-f>i)){var n=e.touches&&e.touches.length?e.touches:[e],t=n[0].clientX,r=n[0].clientY;1>t&&1>r||v&&v[0]===t&&v[1]===r||(v&&(v=null),"label"===a(e.target)&&(v=[t,r]),d(l,t,r)||(e.stopPropagation(),e.preventDefault(),e.target&&e.target.blur&&e.target.blur()))}}function p(e){var n=e.touches&&e.touches.length?e.touches:[e],r=n[0].clientX,a=n[0].clientY;l.push(r,a),t(function(){for(var e=0;e<l.length;e+=2)if(l[e]==r&&l[e+1]==a)return void l.splice(e,e+2)},i,!1)}function m(e,n){l||(r[0].addEventListener("click",g,!0),r[0].addEventListener("touchstart",p,!0),l=[]),f=Date.now(),d(l,e,n)}var f,l,v,o=750,c=12,i=2500,u=25,s="ng-click-active";return function(t,r,a){function d(){u=!1,r.removeClass(s)}var f,l,v,h,i=e(a.ngClick),u=!1;r.on("touchstart",function(e){u=!0,f=e.target?e.target:e.srcElement,3==f.nodeType&&(f=f.parentNode),r.addClass(s),l=Date.now();var n=e.originalEvent||e,t=n.touches&&n.touches.length?n.touches:[n],a=t[0];v=a.clientX,h=a.clientY}),r.on("touchcancel",function(e){d()}),r.on("touchend",function(e){var t=Date.now()-l,i=e.originalEvent||e,s=i.changedTouches&&i.changedTouches.length?i.changedTouches:i.touches&&i.touches.length?i.touches:[i],g=s[0],p=g.clientX,w=g.clientY,b=Math.sqrt(Math.pow(p-v,2)+Math.pow(w-h,2));u&&o>t&&c>b&&(m(p,w),f&&f.blur(),n.isDefined(a.disabled)&&a.disabled!==!1||r.triggerHandler("click",[e])),d()}),r.onclick=function(e){},r.on("click",function(e,n){t.$apply(function(){i(t,{$event:n||e})})}),r.on("mousedown",function(e){r.addClass(s)}),r.on("mousemove mouseup",function(e){r.removeClass(s)})}}]),o("ngSwipeLeft",-1,"swipeleft"),o("ngSwipeRight",1,"swiperight")}(window,window.angular),function(root,factory){var _=window._,$=window.$,angular=window.angular;factory.call(root,angular,_,$)}(this,function(angular,_,$){"use strict";function shapesController($scope,$routeParams,magaProvider,$window,$rootScope,magasProvider,$http,transformDataProvider){ldzx.ctrl.start();var maga=magasProvider.getNewMaga();return maga?($scope.current=0,$scope.shapes=$scope.shapes||[],$http({method:"get",url:"image/group/list.json"}).success(function(data){200===data.code&&($scope.shapeTypes=data.obj,$http({method:"get",url:$scope.shapeTypes[0].func}).success(function(data){200===data.code&&($scope.shapes=$scope.shapes||[],$scope.shapes.splice(0,0,data.obj))}))}),$scope.request=function(index){$scope.shapes[index]?$scope.current=index:($scope.current=index,$http({method:"get",url:$scope.shapeTypes[index].func}).success(function(data){200===data.code&&($scope.shapes=$scope.shapes||[],$scope.shapes[index]=data.obj,$scope.current=index)}))},$scope.toShape=function(index){ldzx.ctrl.stop(),maga.shapeUrl=$scope.shapes[$scope.current][index].url,window.location.hash="/shape"},void($scope.back=function(index){ldzx.ctrl.stop(),window.location.hash="/make"})):void(window.location.hash="/")}function shapeController($scope,$routeParams,magaProvider,$window,$rootScope,magasProvider,$http,transformDataProvider){ldzx.ctrl.stop();var maga=magasProvider.getNewMaga();return maga?($scope.url=maga.shapeUrl,$scope.addFloatage=function(url){"floatage"==maga.flOrBk?(magasProvider.addFloatage(null,url,"shape"),window.location.hash="/make"):"background"==maga.flOrBk&&(magasProvider.replaceBk(maga.pages[maga.active].uniqueId,url),window.location.hash="/make")},void($scope.shapes=function(){window.location.hash="/shapes"})):void(window.location.hash="/")}function wechatController($scope,$routeParams,magaProvider,$window,$rootScope,magasProvider,$http,transformDataProvider){function request(){maga.wx.con=$scope.con,maga.wx.title=$scope.title,maga.wx.con&&maga.wx.con&&maga.wx.img?$.ajax({url:"inner/magazine/publishImg.json",type:"post",dataType:"json",data:{params:JSON.stringify({zid:maga.id+"",biaoti:maga.wx.title,miaoshu:maga.wx.con,imgePic:maga.wx.img})},success:function(data){200==data.code&&(window.location.hash="draftBox")},error:function(){window.location.hash="wechatError"}}):alert("请输入微信标题、内容、分享图片")}ldzx.ctrl.stop();var maga=magasProvider.getNewMaga();if(!maga)return void(window.location.hash="/");maga.wx=maga.wx||{},$scope.con=maga.wx.con,$scope.title=maga.wx.title,$scope.img=maga.wx.img,$scope.$watch("con",function(oldV,newV,scope){maga.wx.con=$scope.con}),$scope.$watch("title",function(oldV,newV,scope){maga.wx.title=$scope.title});var req=_.debounce(request,1e3);$scope.rest=function(){req()},$scope.back=function(){window.location.hash="/make"},$scope.upload=function(){window.location.hash="/wechat/-shareImg_btn-/"+Math.random()}}function selectController($scope,$routeParams,magaProvider,$rootScope,magasProvider,$http){$http({method:"GET",url:"inner/magazine/getModel.json",url:"model/getModel.json"}).success(function(data){(data.code=200)&&($scope.elements=data.obj,data.obj.unshift({imagePic:"img/img-default.jpg",id:"0",varName:"自定义模板",order:0}))}),$scope.modelId=null,$scope.mubanId=null,$scope.controller=function(){return!1},$scope.back_btn=function(){var hash=window.location.hash;hash=hash.replace(/(\-[\w\d:]{0,100}\-)/g,""),hash+="-back_btn-",window.location.hash=hash},$scope.show=function(id,name,mubanId){$(".inputName").removeClass("hide").addClass("sZoom"),$scope.modelId=id,$scope.modelName=name,$scope.mubanId=mubanId},$scope.make=function(modelId,modelName,magazineName){var getBLen=function(str){return null==str?0:("string"!=typeof str&&(str+=""),str.replace(/[^x00-xff]/g,"01").length)};$scope.magazineName?getBLen($scope.magazineName)>24?$(".layer-text").val("").addClass("layer-error").attr("placeholder","大于24个字符，请重新输入"):$.ajax({url:"model/createMagazine.json",data:{params:JSON.stringify({name:$scope.magazineName,uid:window.ldzx.userId||"135600",classification:"10301"})},dataType:"json",type:"get",success:function(data){if(200==data.code){var newMaga=new magaProvider;newMaga.name=$scope.magazineName||"untitled",newMaga.id=data.obj,newMaga.modelUrl=modelId,newMaga.modelName=modelName,newMaga.mubanId=$scope.mubanId,magasProvider.addMaga(newMaga),window.location.hash="/make"}}}):$(".layer-text").addClass("layer-error").attr("placeholder","请输入杂志名称（小于24个字符）")}}function previewController($scope,$routeParams,magaProvider,$rootScope,magasProvider,$http,parseDataProvider,transformDataProvider){ldzx.ctrl.stop();var maga=magasProvider.getNewMaga();if(!maga)return void(window.location.hash="/");var newMaga=$.extend(!0,{},maga);newMaga.active=0,$scope.name="untitled"===newMaga.name?"未命名":newMaga.name,$scope.music=newMaga.music,$scope.pages=newMaga.pages,$scope.wgUser=newMaga.wgUser,$scope.state={},$scope.state.active=newMaga.active,$scope.rest=function(){var backMaga=transformDataProvider($scope);$.ajax({url:"http://172.16.168.251:8080/magazine_interface/inner/magazine/addOne.json",type:"POST",data:{params:JSON.stringify(backMaga)},success:function(data){}})},$scope.modelName=magaProvider.modelName,$scope.modelId=magaProvider.modelId,$scope.back=function(){window.location.hash="/make"},$scope.wechat=function(){window.location.hash="/wechat"}}function makeController($scope,$routeParams,magaProvider,$rootScope,magasProvider,$http,parseDataProvider,transformDataProvider){function request(){var backMaga=transformDataProvider(newMaga);$.ajax({url:"inner/magazine/addOne.json",type:"POST",data:{params:JSON.stringify(backMaga)},success:function(data){}})}ldzx.ctrl.stop();var newMaga=magasProvider.getNewMaga();if(!newMaga)return void(window.location.hash="/");0==newMaga.mubanId&&(newMaga.active=-1,newMaga.addPage(),newMaga.mubanId=1),window.$scope=$scope,$scope.name="untitled"===newMaga.name?"未命名":newMaga.name,$scope.music=newMaga.music=newMaga.music||{},$scope.id=newMaga.id,$scope.pages=newMaga.pages,$scope.state={},$scope.state.active=newMaga.active,window.magasProvider=window.magasProvider||magasProvider;var req=_.debounce(request,1e3,!0);$scope.rest=function(){req(),window.location.hash="/preview"},$scope.modelName=magaProvider.modelName,$scope.modelId=magaProvider.modelId,$scope.copyPage=function(){if(0!==$scope.pages.length){var copy=$scope.pages[$scope.state.active],newCopy=$.extend(!0,{},copy);_.each(newCopy.floatages,function(floatage,index){floatage.uniqueId=_.uniqueId("floatage_")}),newCopy.uniqueId=_.uniqueId("page_"),$scope.pages.splice($scope.state.active+1,0,newCopy),$scope.state.active++,newMaga.active++,window.location.hash="/make/"+Math.random()}},$scope.deletePage=function(){$scope.pages.splice($scope.state.active,1),$scope.state.active===$scope.pages.length&&($scope.state.active--,newMaga.active--)},$scope.addPage=function(){newMaga.addPage(),window.location.hash="/make/"+Math.random(),$scope.state.active=newMaga.active},$scope.bk_btn=function(){var hash=window.location.hash;hash=hash.replace(/(\?\-[\w\d:]{0,100}\-)/g,"").replace(/[\.\d]{1,}/,""),hash=hash+"?-bk_btn:"+newMaga.pages[newMaga.active].uniqueId+"-"+Math.random(),newMaga.flOrBk="background",window.location.hash=hash},$scope.img_btn=function(){var hash=window.location.hash;newMaga.flOrBk="floatage",hash=hash.replace(/(\?\-[\w\d:]{0,100}\-)/g,"").replace(/[\.\d]{1,}/,""),hash=hash+"?-img_btn:"+newMaga.pages[newMaga.active].uniqueId+"-"+Math.random(),window.location.hash=hash},newMaga.pages[0]||$http({method:"get",url:newMaga.modelUrl||"model/page/page.json"}).success(function(data){if(!newMaga.pages[0]){var maga=parseDataProvider(data),pages=maga.pages;$scope.pages=newMaga.pages=pages,$scope.music=newMaga.music=maga.music,$scope.id=maga.id=newMaga.id,$scope.wgUser=newMaga.wgUser=maga.wgUser,$scope.state.active=0,newMaga.active=0}}),$scope.swift=magaProvider.swift,$scope.control=function(){magaProvider.swift=!magaProvider.swift,$scope.swift=magaProvider.swift},$scope.back=function(){newMaga.activeText=0,window.location.hash="/"},$scope.text=function(){window.location.hash="/text"},$scope.lottery=function(){window.location.hash="/lottery"},$scope.audio=function(){window.location.hash="/music"},$scope.audio=function(){window.location.hash="/music"},$scope.hyperLink=function(){window.location.hash="/hyperLink"}}function musicController($scope,$routeParams,magaProvider,$window,$rootScope,magasProvider,$http){ldzx.ctrl.start();var newMaga=magasProvider.getNewMaga();return newMaga?($scope.pages=newMaga.pages,$scope.currentId=newMaga.music.musicId,$scope.tempMusic=null,$.ajax({url:"mp3/list.json",dataType:"json",type:"post",data:{type:"1"},success:function(data){var music=_.groupBy(data.obj,function(item,index){return item.type}),iDontWantRepeatButWhy=_.map(music,function(item,index){return{type:index,list:_.map(item,function(item,index){return{musicId:item.id,musicName:item.name,src:item.link,"switch":!1}})}});$scope.$apply(function(){$scope.musics=iDontWantRepeatButWhy})}}),$scope.back=function(){window.location.hash="/make"},$scope.fw=!1,$scope.setMusic=function(id,src){$scope.id=id,$scope.src=src},$scope.yes=function(){newMaga.music.musicId=$scope.id,newMaga.music.src=$scope.src},void($scope.addMusic=function(){})):void(window.location.hash="/")}function textController($scope,$routeParams,magaProvider,$window,$rootScope,$http,magasProvider){if(!magasProvider.getNewMaga())return void(window.location.hash="/");var maga=magasProvider.getNewMaga();maga.activeText&&($scope.value=maga.activeText.value.join("\n"),$scope.fontSize=maga.activeText.style.fontSize,$scope.fontcolor=maga.activeText.style.color,$scope.backcolor=maga.activeText.style.backgroundColor,$scope.thisAlign=maga.activeText.style.textAlign),$scope.success_text=function(){maga.activeText?(maga.activeText.value=$scope.value.split("\n"),maga.activeText.style.fontSize=$scope.fontSize,maga.activeText.style.color=$scope.fontcolor,maga.activeText.style.backgroundColor=$scope.backcolor,maga.activeText.style.textAlign=$scope.thisAlign):$scope.addFloatage(),maga.activeText=0},$scope.back=function(){window.location.hash="/make"},$scope.yes=function(){$scope.text&&magaProvider.texts.push($scope.text),$scope.value?($scope.success_text(),$scope.back()):alert("请输入您要编辑的内容")},$scope.aligns=[{name:"左对齐",val:"left"},{name:"中对齐",val:"center"},{name:"右对齐",val:"right"}],$scope.setAligh=function(index){$scope.thisAlign=$scope.aligns[index].val},$scope.colors=[{name:"",val:"#000000"},{name:"",val:"#ffffff"},{name:"",val:"#3c3c3c"},{name:"",val:"#5e5f8b"},{name:"",val:"#feff28"},{name:"",val:"#feb938"},{name:"",val:"#ff6e3f"},{name:"",val:"#e9402d"},{name:"",val:"#e83f56"},{name:"",val:"#fe6d96"},{name:"",val:"#fe9eff"},{name:"",val:"#d081fe"},{name:"",val:"#945afe"},{name:"",val:"#4b4efb"},{name:"",val:"#0078f1"},{name:"",val:"#0036c1"},{name:"",val:"#0078f1"},{name:"",val:"#00b3f3"},{name:"",val:"#00d37e"},{name:"",val:"#76e115"},{name:"",val:"#c3ff2e"}],$scope.backcolorFn=function(n){$scope.backcolor=$scope.colors[n].val},$scope.fontcolorFn=function(n){$scope.fontcolor=$scope.colors[n].val},$scope.addFloatage=function(){var maga=magasProvider.getNewMaga();maga.pages[maga.active].floatages.push({effects:[],style:{color:$scope.fontcolor,backgroundColor:$scope.backcolor,textAlign:$scope.thisAlign,width:"640px",height:"auto",top:"200px",left:0,fontSize:$scope.fontSize||"30px"},type:"text",value:$scope.value.split("##"),uniqueId:_.uniqueId("floatage_")})}}function lotteryController($scope,$routeParams,magaProvider,$window,$rootScope,magasProvider,$http){if(!magasProvider.getNewMaga())return void(window.location.hash="/");var data={imgs:[{src:"img/img05.jpg",name:"名字1"},{src:"img/img05.jpg",name:"名字2"},{src:"img/img05.jpg",name:"名字3"}],show:!1,column:["15%","30%","60%"]};$scope.lottery=data,$scope.lottery.this_effects=$scope.lottery.imgs[0].name,$scope.lottery.src=$scope.lottery.imgs[0].src,$scope.lottery.getthis=function(n){$scope.lottery.act=n},$scope.back=function(){window.location.hash="/make"},$scope.yes=function(){var maga=magasProvider.getNewMaga(),page=maga.pages[maga.active],value={name:$scope.lottery.this_effects,scale:parseInt($scope.lottery.column[$scope.lottery.act]),content:$scope.content,src:$scope.lottery.src},lottery=_.findWhere(page.effects,{type:"lottery"});lottery?(lottery.value=value,lottery.ended=!1):page.effects.push({type:"lottery",value:value,ended:!1})},$scope.choose=function(index){$scope.lottery.this_effects=$scope.lottery.imgs[index].name,$scope.lottery.src=$scope.lottery.imgs[index].src,$scope.lottery.show=!1}}function hyperLinkController($scope,$routeParams,magaProvider,$window,$rootScope,magasProvider,$http){return magasProvider.getNewMaga()?($scope.back=function(){window.location.hash="/make"},$scope.yes=function(){$scope.value?($scope.addFloatage(),$scope.back()):alert("请输入文字")},$scope.addFloatage=function(){var maga=magasProvider.getNewMaga(),href=$scope.href;href=href?href.replace("http://",""):"www.5.cn",
maga.pages[maga.active].floatages.push({effects:[],style:{color:$scope.fontcolor,backgroundColor:$scope.backcolor,fontSize:$scope.fontSize,borderRadius:$scope.radius,width:"auto",height:"auto",textAlign:"center",left:"0",top:"300px",padding:"20px",wordBreak:"break-all"},type:"btn",href:href,value:$scope.value,uniqueId:_.uniqueId("floatage_")})},$scope.colors=[{name:"",val:"#000000"},{name:"",val:"#ffffff"},{name:"",val:"#3c3c3c"},{name:"",val:"#5e5f8b"},{name:"",val:"#feff28"},{name:"",val:"#feb938"},{name:"",val:"#ff6e3f"},{name:"",val:"#e9402d"},{name:"",val:"#e83f56"},{name:"",val:"#fe6d96"},{name:"",val:"#fe9eff"},{name:"",val:"#d081fe"},{name:"",val:"#945afe"},{name:"",val:"#4b4efb"},{name:"",val:"#0078f1"},{name:"",val:"#0036c1"},{name:"",val:"#0078f1"},{name:"",val:"#00b3f3"},{name:"",val:"#00d37e"},{name:"",val:"#76e115"},{name:"",val:"#c3ff2e"}],$scope.backcolorFn=function(n){$scope.backcolor=$scope.colors[n].val||"#000"},void($scope.fontcolorFn=function(n){$scope.fontcolor=$scope.colors[n].val||"#000"})):void(window.location.hash="/")}var appControllers=angular.module("appControllers",[]);appControllers.controller("selectController",["$scope","$routeParams","magaProvider","$rootScope","magasProvider","$http",selectController]).controller("makeController",["$scope","$routeParams","magaProvider","$rootScope","magasProvider","$http","parseDataProvider","transformDataProvider",makeController]).controller("previewController",["$scope","$routeParams","magaProvider","$rootScope","magasProvider","$http","parseDataProvider","transformDataProvider",previewController]).controller("musicController",["$scope","$routeParams","magaProvider","$window","$rootScope","magasProvider","$http",musicController]).controller("textController",["$scope","$routeParams","magaProvider","$window","$rootScope","$http","magasProvider",textController]).controller("lotteryController",["$scope","$routeParams","magaProvider","$window","$rootScope","magasProvider","$http",lotteryController]).controller("wechatController",["$scope","$routeParams","magaProvider","$window","$rootScope","magasProvider","$http","transformDataProvider",wechatController]).controller("shapesController",["$scope","$routeParams","magaProvider","$window","$rootScope","magasProvider","$http","transformDataProvider",shapesController]).controller("shapeController",["$scope","$routeParams","magaProvider","$window","$rootScope","magasProvider","$http","transformDataProvider",shapeController]).controller("hyperLinkController",["$scope","$routeParams","magaProvider","$window","$rootScope","magasProvider","$http",hyperLinkController])}),function(root,factory){var angular=window.angular;factory.call(root,angular)}(this,function(angular){"use strict";function findActiveProvider(){return{$get:function(){return function(maga,id){var target;return _.find(maga.pages,function(page,index){return _.find(page.floatages,function(floatage,index){return floatage.uniqueId===id&&(target=floatage),floatage.uniqueId===id})}),target}}}}function parseDataProvider(){return{$get:function(){return function(data){var maga={};return data=data.obj,maga.id=data.id,maga.wgUser=data.wgUser,maga.music={src:data.sound,musicId:"2"},maga.pages=_.map(data.pageslist,function(item,index){var page={uniqueId:_.uniqueId("page_"),order:item.pageNum,effects:[],background:{style:{backgroundColor:item.backgroundImage.fillcolor,backgroundImage:item.backgroundImage.image&&"url("+item.backgroundImage.image.url+")",backgroundRepeat:"no-repeat",backgroundSize:"cover"},effects:_.map(item.backgroundImage.styles,function(item,index){return item.key})},floatages:_.map(item.elementsList,function(item,index){var element;switch(item.elementType){case"img":element={type:"image",style:{left:item.positionX,top:item.positionY,width:item.elementChild.width,height:item.elementChild.height,position:"absolute",opacity:item.opacityOpacity},src:item.elementChild.image.url,effects:_.map(item.styles,function(item,index){return item.key})};break;case"shape":element={type:"shape",style:{left:item.positionX,top:item.positionY,width:item.elementChild.width,height:item.elementChild.height,backgroundColor:item.elementChild.fillColor,opacity:item.opacityOpacity,shadow:item.shadow||""},effects:_.map(item.styles,function(item,index){return item.key})};break;case"btn":element={type:"btn",style:{left:item.positionX,top:item.positionY,width:item.elementChild.width,height:item.elementChild.height,color:item.elementChild.fontcolor,opacity:item.opacityOpacity,shadow:item.shadow,fontSize:item.elementChild.fontsize,backgroundColor:item.elementChild.backgroundcolor,borderColor:item.elementChild.border,borderWidth:item.elementChild.borderstyle,borderStyle:item.elementChild.bordercrude},src:item.elementChild.url,value:item.elementChild.context,effects:_.map(item.styles,function(item,index){return item.key})};break;case"text":element={type:"text",style:{alignmentFunction:item.elementChild.alignmentFunction||"",left:item.positionX,top:item.positionY,width:item.width,height:item.height,backgroundColor:item.elementChild.backgroundColor,fontColor:item.elementChild.color,opacity:item.opacityOpacity,transform:item.rotation,shadow:item.shadow,borderColor:item.border,fontSize:item.elementChild.fontsize,borderWidth:item.elementChild.borderStyle,fontStyle:item.elementChild.fontStyle,lineHeight:item.elementChild.lineHeight,borderStyle:item.elementChild.bordercrude},value:item.elementChild.content.split("##"),effects:_.map(item.styles,function(item,index){return item.key})}}return element&&(element.uniqueId=_.uniqueId("floatage_")),element})};return page}),maga}}}}function transformDataProvider(){return{$get:function(){return function(data){return{magazine:{sound:data.music.src,id:data.id,varName:data.name,pageslist:_.map(data.pages,function(item,index){var page={effects:_.map(item.effects,function(item,index){var effects={};return effects.type=item.type,effects.value=JSON.stringify(item.value),effects}),backgroundImage:{image:{url:item.background.style.backgroundImage||"",sourceName:"",uid:"",type:""},fillcolor:item.background.style.backgroundColor||"",pageId:index,opacityOpacity:item.background.style.opacity||"",fuzzy:"",id:index},elementsList:_.map(item.floatages,function(item,index){var element;switch(item.type){case"image":element={elementType:"img",elementChild:{fuzzyImg:0,width:item.style.width,height:item.style.height,image:{url:item.src,sourceName:"",uid:"",id:"",type:""}},styles:_.map(item.effects,function(item,index){return{type:"action",key:item}}),pageId:"",opacityOpacity:item.style.opacity||"",fillet:"",rotation:"",positionX:item.style.left||"",positionY:item.style.top||"",shadow:item.style.boxShadow||"",id:""};break;case"shape":element={elementType:"shape",elementChild:{fillColor:item.style.backgroundColor||"",styleId:"",height:item.style.height||"",width:item.style.width||""},styles:_.map(item.effects,function(item,index){return{type:"action",key:item}}),opacityOpacity:item.style.opacity||"",fillet:item.style.backgroundColor||"",rotation:"",positionX:item.style.left||"",positionY:item.style.top||"",shadow:item.style.boxShadow||"",id:""};break;case"btn":element={elementType:"btn",elementChild:{fontcolor:item.style.color||"",fontsize:item.style.fontSize,backgroundcolor:item.style.backgroundColor||"",border:item.style.borderColor||"",borderstyle:item.style.borderWidth||"",bordercrude:item.style.borderStyle||"",height:item.style.height||"",width:item.style.width||"",url:item.href||"",context:item.value||""},styles:_.map(item.effects,function(item,index){return{type:"action",key:item}}),height:item.style.height||"",width:item.style.width||"",opacityOpacity:item.style.opacity||"",fillet:item.style.borderRadius||"",rotation:"",positionX:item.style.left||"",positionY:item.style.top||"",shadow:item.style.boxShadow||"",id:""};break;case"text":element={elementType:"text",elementChild:{width:item.style.width,height:item.style.height,alignmentFunction:item.style.textAlign||"",fontsize:item.style.fontSize||"",border:item.style.borderColor||"",bordercrude:item.style.borderStyle||"",borderStyle:item.style.borderWidth||"",fontstyle:item.style.fontStyle||"",color:item.style.color||"",backgroundColor:item.style.backgroundColor||"",lineHeight:item.style.lineHeight||"",content:item.value.join("##")||""},styles:_.map(item.effects,function(item,index){return{type:"action",key:item}}),width:item.style.width,height:item.style.height,opacityOpacity:item.style.opacity||"",fillet:"",rotation:"",positionX:item.style.left||0,positionY:item.style.top||"",shadow:item.style.boxShadow||"",id:""}}return item.effects.length>0&&(element.styles=_.map(item.effects,function(item,index){return{type:"action",key:item}})),item.style.animationDuration&&(element.animationDuration=item.style.animationDuration),item.style.animationDelay&&(element.animationDelay=item.style.animationDelay),element})};return item.background.effects.length>0&&(page.style=_.map(item.background.effects,function(item,index){return{type:"action",key:item}})),page.backgroundImage.image.url||delete page.backgroundImage.image,page})}}}}}}function lotteryProvider(){return{$get:function(){function Lottery(node,cover,coverType,width,height,drawPercentCallback,scale,txt){this.conNode=node,this.background=null,this.backCtx=null,this.mask=null,this.maskCtx=null,this.lottery=null,this.lotteryType="image",this.cover=cover||"#000",this.coverType=coverType,this.pixlesData=null,this.width=width,this.height=height,this.lastPosition=null,this.drawPercentCallback=drawPercentCallback,this.vail=!1,this.scale=scale,this.txt=txt}return Lottery.prototype={createElement:function(tagName,attributes){var ele=document.createElement(tagName);for(var key in attributes)ele.setAttribute(key,attributes[key]);return ele},getTransparentPercent:function(ctx,width,height){for(var imgData=ctx.getImageData(0,0,width,height),pixles=imgData.data,transPixs=[],i=0,j=pixles.length;j>i;i+=4){var a=pixles[i+3];128>a&&transPixs.push(i)}return(transPixs.length/(pixles.length/4)*100).toFixed(2)},resizeCanvas:function(canvas,width,height){canvas.width=width,canvas.height=height,canvas.getContext("2d").clearRect(0,0,width,height)},resizeCanvas_w:function(canvas,width,height){canvas.width=width,canvas.height=height,canvas.getContext("2d").clearRect(0,0,width,height),this.vail?this.drawLottery():this.drawMask()},drawPoint:function(x,y,fresh){this.maskCtx.beginPath(),this.maskCtx.arc(x,y,30,0,2*Math.PI),this.maskCtx.fill(),this.maskCtx.beginPath(),this.maskCtx.lineWidth=60,this.maskCtx.lineCap=this.maskCtx.lineJoin="round",this.lastPosition&&this.maskCtx.moveTo(this.lastPosition[0],this.lastPosition[1]),this.maskCtx.lineTo(x,y),this.maskCtx.stroke(),this.lastPosition=[x,y],this.mask.style.zIndex=20==this.mask.style.zIndex?21:20},bindEvent:function(){function up(e){e.preventDefault(),isMouseDown=!1;var per=_this.getTransparentPercent(_this.maskCtx,_this.width,_this.height);per>=_this.scale&&"function"==typeof _this.drawPercentCallback&&_this.drawPercentCallback()}function move(e){isMouseDown&&e.preventDefault(),e.cancelable?e.preventDefault():window.event.returnValue=!1}function end(e){isMouseDown=!1;var per=_this.getTransparentPercent(_this.maskCtx,_this.width,_this.height);per>=_this.scale&&"function"==typeof _this.drawPercentCallback&&_this.drawPercentCallback(_this.conNode,move,end)}var _this=this,device=/android|webos|iphone|ipad|ipod|blackberry|iemobile|opera mini/i.test(navigator.userAgent.toLowerCase()),clickEvtName=device?"touchstart":"mousedown",moveEvtName=device?"touchmove":"mousemove";if(device)_this.conNode.addEventListener("touchmove",move,!1),_this.conNode.addEventListener("touchend",end,!1);else{var isMouseDown=!1;_this.conNode.addEventListener("mouseup",up,!1)}this.mask.addEventListener(clickEvtName,function(e){e.preventDefault(),isMouseDown=!0;var x=device?e.touches[0].pageX:e.pageX||e.x,y=device?e.touches[0].pageY:e.pageY||e.y;_this.drawPoint(x,y,isMouseDown)},!1),this.mask.addEventListener(moveEvtName,function(e){if(e.preventDefault(),!isMouseDown)return!1;e.preventDefault();var x=device?e.touches[0].pageX:e.pageX||e.x,y=device?e.touches[0].pageY:e.pageY||e.y;_this.drawPoint(x,y,isMouseDown)},!1)},drawLottery:function(){if("image"==this.lotteryType){var image=new Image,_this=this;image.onload=function(){this.width=_this.width,this.height=_this.height,_this.resizeCanvas(_this.background,_this.width,_this.height),_this.backCtx.drawImage(this,0,0,_this.width,_this.height),_this.drawMask()},image.src=this.lottery}else if("text"==this.lotteryType){this.width=this.width,this.height=this.height,this.resizeCanvas(this.background,this.width,this.height),this.backCtx.save(),this.backCtx.fillStyle="#FFF",this.backCtx.fillRect(0,0,this.width,this.height),this.backCtx.restore(),this.backCtx.save();var fontSize=30;this.backCtx.font="Bold "+fontSize+"px Arial",this.backCtx.textAlign="center",this.backCtx.fillStyle="#F60",this.backCtx.fillText(this.lottery,this.width/2,this.height/2+fontSize/2),this.backCtx.restore(),this.drawMask()}},drawMask:function(){var _this=this;if("color"==this.coverType)this.maskCtx.fillStyle=this.cover,this.maskCtx.fillRect(0,0,this.width,this.height),this.maskCtx.globalCompositeOperation="destination-out";else if("image"==this.coverType){var image=new Image,_this=this;image.onload=function(){_this.resizeCanvas(_this.mask,_this.width,_this.height);/android/i.test(navigator.userAgent.toLowerCase());_this.maskCtx.globalAlpha=.98,_this.maskCtx.drawImage(this,0,0,this.width,this.height,0,0,_this.width,_this.height);var fontSize=50,txt=_this.txt,gradient=_this.maskCtx.createLinearGradient(0,0,_this.width,0);gradient.addColorStop("0","#fff"),gradient.addColorStop("1.0","#000"),_this.maskCtx.font="Bold "+fontSize+"px Arial",_this.maskCtx.textAlign="left",_this.maskCtx.fillStyle=gradient,txt&&_this.maskCtx.fillText(txt,_this.width/2-_this.maskCtx.measureText(txt).width/2,100),_this.maskCtx.globalAlpha=1,_this.maskCtx.globalCompositeOperation="destination-out"},image.src=this.cover}},init:function(lottery,lotteryType){lottery&&(this.lottery=lottery,this.lottery.width=this.width,this.lottery.height=this.height,this.lotteryType=lotteryType||"image",this.vail=!0),this.vail&&(this.background=this.background||this.createElement("canvas",{style:"position:fixed;left:50%;top:0;width:640px;margin-left:-320px;height:100%;background-color:transparent;"})),this.mask=this.mask||this.createElement("canvas",{style:"background-color:transparent;position:absolute;"}),this.mask.classList.add("lottery"),this.mask.style.zIndex=9999,this.vail&&this.conNode.appendChild(this.background),this.conNode.appendChild(this.mask),this.bindEvent(),this.vail&&(this.backCtx=this.backCtx||this.background.getContext("2d")),this.maskCtx=this.maskCtx||this.mask.getContext("2d"),this.vail?this.drawLottery():this.drawMask();var _this=this;window.addEventListener("resize",function(){_this.width=document.documentElement.clientWidth,_this.height=document.documentElement.clientHeight,_this.resizeCanvas_w(_this.mask,_this.width,_this.height)},!1)}},Lottery}}}function magaProvider(){return{$get:function(){var magaSuper={addPage:function(){this.pages.splice(this.active+1,0,{background:{effects:[],style:{}},floatages:[],effects:[],order:-1===this.active?0:this.pages[this.active].order+1,uniqueId:_.uniqueId("page_")}),this.active++}};return function(){return Object.create(magaSuper,{pages:{value:[],writable:!0,configurable:!0,enumerable:!0}})}}}}function magasProvider(){return{$get:function(){return{swift:!0,magaList:[],addMaga:function(newMaga){newMaga.uniqueId=_.uniqueId("maga_"),this.magaList.push(newMaga)},getNewMaga:function(){return this.magaList[this.magaList.length-1]},replaceImg:function(id,url){var floatage=null;_.each(this.getNewMaga().pages,function(item,index){_.each(item.floatages,function(item,index){item.uniqueId===id&&(item.src=url,floatage=item)})}),$scope.$apply(function(){floatage.img_loading=!0}),this.loading(floatage)},loading:function(floatage){var img=new Image;img.onload=function(){$scope.$apply(function(){floatage.img_loading=!1})},img.src=floatage.src},loadingBk:function(page,url){var img=new Image;img.onload=function(){$scope.$apply(function(){page.img_loading=!1})},img.src=url},uploadShareImg:function(url){var maga=this.getNewMaga();maga.wx.img=url;var img=document.querySelector(".up_img");img&&(img.style.backgroundImage="url("+url+")",img.style.backgroundSize="cover")},toShape:function(){window.location.hash="/shapes"},addFloatage:function(page,url,type){var floatage,maga=this.getNewMaga(),page=maga.pages[maga.active],_this=this;window.$scope.$apply(function(){"image"===type&&(floatage={type:"image",style:{left:100*Math.random()+"px",top:200+200*Math.random()-100+"px",width:400+100*Math.random()-50+"px",height:"auto",color:"",opacity:""},src:url,effects:[],uniqueId:_.uniqueId("floatage_"),img_loading:!0},_this.loading(floatage),page.floatages.push(floatage))}),"shape"===type&&(floatage={type:"image",style:{left:100*Math.random()+"px",top:200+200*Math.random()-100+"px",width:400+100*Math.random()-50+"px",height:"auto",color:"",opacity:""},src:url,effects:[],uniqueId:_.uniqueId("floatage_"),img_loading:!0},_this.loading(floatage),page.floatages.push(floatage))},replaceBk:function(id,url){var maga=this.getNewMaga(),page=maga.pages[maga.active],target=document.querySelector("#"+page.uniqueId);page.background.style.backgroundImage="url("+url+")",$scope.$apply(function(){page.img_loading=!0}),this.loadingBk(page,url),target&&(target.style.backgroundImage="url("+url+")")},setFloatageOrBk:function(type){this.getNewMaga().flOrBk=type},listen:function($scope){window.aaa=$scope}}}}}function flipProvider(){return{$get:function(){return function(){function swipeDirection(x1,x2,y1,y2,sensitivity){var _x=Math.abs(x1-x2),_y=Math.abs(y1-y2),dir=_x>=_y?x1-x2>0?"left":"right":y1-y2>0?"up":"down";return sensitivity&&("left"==dir||"right"==dir?(_y/_x>sensitivity||stepX>_x)&&(dir=""):("up"==dir||"down"==dir)&&(_x/_y>sensitivity||stepY>_y)&&(dir="")),dir}function _start(e){var pos=e.touches&&e.touches[0]||e;touch.x1=pos.pageX,touch.y1=pos.pageY,e.x=touch.x1,e.y=touch.y1,"function"==typeof cb.start&&cb.start(e),container.addEventListener(M,_move,!1),container.addEventListener(E,_end,!1)}function _move(e){var pos=e.touches&&e.touches[0]||e;touch.x2=pos.pageX,touch.y2=pos.pageY,e.x=touch.x2,e.y=touch.y2,e._x=e.x-touch.x1,e._y=e.y-touch.y1,hasDefault||e.preventDefault(),"function"==typeof cb.move&&cb.move(e)}function _end(e){if(e.x=touch.x2,e.y=touch.y2,e._x=e.x-touch.x1,e._y=e.y-touch.y1,touch.x2&&Math.abs(touch.x1-touch.x2)>step||touch.y2&&Math.abs(touch.y1-touch.y2)>step){var dir_=swipeDirection(touch.x1,touch.x2,touch.y1,touch.y2,sensitivity);"function"==typeof cb[dir_]&&cb[dir_](e)}"function"==typeof cb.end&&cb.end(e),container.removeEventListener(M,_move,!1),container.removeEventListener(E,_end,!1),touch.x1=null,touch.y1=null,touch.x2=null,touch.y2=null}function flip(el,hasDefault,sensitivity){el&&el.addEventListener(S,_start,!1)}function flipRevoke(el){el&&(el.removeEventListener(S,_start,!1),el.removeEventListener(M,_move,!1),el.removeEventListener(E,_end,!1))}function render(target,hasDefault,sensitivity){flip(target,hasDefault,sensitivity)}var hasDefault,step=60,target=null,touch={},sensitivity=1,stepY=66,stepX=44,supportTouch="ontouchstart"in window,S=supportTouch?"touchstart":"mousedown",M=supportTouch?"touchmove":"mousemove",E=supportTouch?"touchend":"mouseup",cb={start:null,move:null,end:null,left:null,right:null,up:null,down:null},container=document,_dir=[];return{target:null,conf:{},init:function(opts){container=opts.container||document,this.target=target=opts.target,step=opts.step||step,stepX=opts.stepX||stepX,stepY=opts.stepY||stepY,sensitivity=opts.sensitivity||sensitivity;for(var dir=["up","down","left","right","start","move","end"],l=dir.length;l--;)opts[dir[l]]&&(cb[dir[l]]=opts[dir[l]],_dir.push(dir[l]));render(target,opts.hasDefault,sensitivity)},cancel:function(){flipRevoke(target)}}}}}}function tapProvider(){return{$get:function(){function Tap(){function rendor(target,callback,container){function move(e){var pos=e.touches&&e.touches[0]||e;touch.x2=pos.pageX,touch.y2=pos.pageY}function end(e){touch.x3=touch.x2,touch.y3=touch.x2;var x=touch.x2-touch.x1,y=touch.y2-touch.y1;(Math.abs(x)<30&&Math.abs(y)<30||"undefined"==typeof touch.x2)&&(alert(3),callback(e)),container.removeEventListener(action_move,move,!1),container.removeEventListener(action_up,end,!1),touch={}}target.addEventListener(action_click,function(e){var pos=e.touches&&e.touches[0]||e;touch.x1=pos.pageX,touch.y1=pos.pageY,container.addEventListener(action_move,move,!1),container.addEventListener(action_up,end,!1)},!1)}var callback,touch={},action_click="ontouchstart"in window?"touchstart":"mousedown",action_move="ontouchmove"in window?"touchmove":"mousemove",action_up="ontouchend"in window?"touchend":"mouseup";return{init:function(opts){var target=this.target=opts.target;callback=opts.fn,rendor(target,callback,opts.container)}}}return Tap}}}angular.module("appServices",[]).provider("magaProvider",magaProvider).provider("magasProvider",magasProvider).provider("flipProvider",flipProvider).provider("parseDataProvider",parseDataProvider).provider("transformDataProvider",transformDataProvider).provider("findActiveProvider",findActiveProvider).provider("tapProvider",tapProvider).provider("lotteryProvider",lotteryProvider)}),function(root,factory){var angular=window.angular,$=window.$,_=window._;factory.call(root,angular,$,_)}(this,function(angular,$,_){"use strict";function commonDirective(){return{restrict:"A",controller:function($scope,$element,$transclude,lotteryProvider,flipProvider,magasProvider,findActiveProvider,tapProvider){$scope.Lottery=lotteryProvider,$scope.Flip=flipProvider,$scope.magasProvider=magasProvider,$scope.findActive=findActiveProvider,$scope.tapProvider=tapProvider}}}function styleReinitDirective(){return{restrict:"A"}}function cut2Directive(){return{require:"^commonDirective",restrict:"A",controller:function($scope,magasProvider,findActiveProvider){$scope.findActive=findActiveProvider,$scope.newMaga=magasProvider.getNewMaga()},link:function(scope,element,attrs){var page,startY,scale,long_floatage,stage=$(element[0]),findActive=scope.findActive,newMaga=scope.newMaga,isPreview=stage.hasClass("preview"),pages=stage.find(".page"),maga=scope.magasProvider.getNewMaga(),viewHeight=960,step=.25,nowIndex=0,nextorprevIndex=0,delta=0,isMove=!1,timeStart=0,bBtn=!0;stage.css("height",viewHeight),stage.on("touchstart",function(){page=stage.find(".page")}),_.delay(function(){function showCropperLayer(){$(this).addClass("active").siblings().removeClass("active"),page.off("touchmove.move"),page.off("touchend.move"),isMove=!1;var activeFloatage=findActive(newMaga,$(this).attr("id"));newMaga.activeFloatage=activeFloatage}function touchsmove(ev){if(long_floatage.removeClass("active"),long_floatage.off("longTap"),isMove=!0,"CANVAS"!==ev.target.tagName){$(this).siblings().removeClass("current");var downY=ev.changedTouches[0].pageY;delta=downY,startY>downY?(nextorprevIndex=nowIndex==page.length-1?0:nowIndex+1,page.eq(nextorprevIndex).css("-webkit-transform","translate(0,"+(viewHeight+downY-startY)+"px)")):(nextorprevIndex=0==nowIndex?page.length-1:nowIndex-1,page.eq(nextorprevIndex).css("-webkit-transform","translate(0,"+(-viewHeight+downY-startY)+"px)")),page.eq(nextorprevIndex).addClass("current").addClass("zIndex"),scale=1-Math.abs(downY-startY)*step/viewHeight,$(this).css("-webkit-transform","translate(0,"+(downY-startY)*step+"px) scale("+scale+")")}}function touchsend(ev){if(isMove){var downY=ev.changedTouches[0].pageY;startY>downY?page.eq(nowIndex).css("-webkit-transform","translate(0,"+-viewHeight*step+"px) scale("+(1-step)+")"):page.eq(nowIndex).css("-webkit-transform","translate(0,"+viewHeight*step+"px) scale("+(1-step)+")"),page.eq(nowIndex).css("-webkit-transition",".3s"),page.eq(nextorprevIndex).css("-webkit-transform","translate(0,0)"),page.eq(nextorprevIndex).css("-webkit-transition",".3s"),page.off(".move"),maga.active=nextorprevIndex,scope.state.active=nextorprevIndex,pages.removeClass("current"),pages.eq(nextorprevIndex).addClass("current")}isMove=!1;var duration=Date.now()-timeStart;if(Math.abs(delta)<=20&&200>=duration&&!isPreview){var img=$(ev.target).find("img"),isImg=$(ev.target).hasClass("s_img"),text=$(ev.target).parent();if(img&&1===img.length&&isImg){var hash=window.location.hash;hash=hash.replace(/(\?\-[\w\d:]{0,100}\-)/g,"").replace(/[\.\d]{1,}/,""),hash=hash+"?-img:"+img.parents(".s_floatage").attr("id")+"-"+Math.random(),window.location.hash=hash,$(ev.target).parents(".page").addClass("current"),maga.flOrBk="floatage"}if(text.hasClass("text")){var floatage=_.find(maga.pages[maga.active].floatages,function(item,index){return item.uniqueId==text.parent().parent().attr("id")});maga.activeText=floatage,window.location.hash="/text"}}delta=0,page.off("touchmove.move"),page.off("touchend.move")}function resetFn(){page.css("-webkit-transform",""),page.css("-webkit-transition",""),page.eq(nextorprevIndex).removeClass("zIndex").siblings().removeClass("current")}function cancellEdit(e){page=stage.find(".page"),page.find(".s_floatage").removeClass("active"),$(".animation-operate").addClass("hide"),$(".stage-nav").removeClass("hide"),page.on("touchmove.move",touchsmove),page.on("touchend.move",touchsend)}stage.on("touchstart",".page",function(ev){"CANVAS"!==ev.target.tagName&&(long_floatage=stage.find(".s_floatage"),page=stage.find(".page"),timeStart=Date.now(),startY=ev.changedTouches[0].pageY,bBtn&&(bBtn=!1,long_floatage.on("longTap",showCropperLayer),nowIndex=$(this).index(),page.on("touchmove.move",touchsmove),page.on("touchend.move",touchsend)),nowIndex=stage.find(".current").index())}),stage.on("transitionEnd webkitTransitionEnd",".page",function(ev){resetFn(),bBtn=!0}),isPreview||$(".stage_bj").on("tap",cancellEdit)},100)}}}function cutDirective(){return{require:"^commonDirective",restrict:"A",link:function(scope,ele,attrs){function cancellEdit(e){if(e.target.classList.contains("page")){var active=e.target.querySelector(".active");active&&active.classList.remove("active"),$(".animation-operate").addClass("hide"),$(".stage-nav").removeClass("hide")}}ele=$(ele[0]);var Flip=scope.Flip,newMaga=scope.magasProvider.getNewMaga(),pages=ele.find(".page"),cut={current:0,height:0},poly={style:document.createElement("div").style,vendor:function(){for(var transform,vendors=["t","webkitT","MozT","msT","OT"],i=0,l=vendors.length;l>i;i++)if(transform=vendors[i]+"ransform",transform in this.style)return vendors[i].substr(0,vendors[i].length-1);return!1},prefix:function(style){return this.vendor()===!1?!1:""===this.vendor()?style:this.vendor()+style.charAt(0).toUpperCase()+style.substr(1)}},logic={next:0,now:0,up:function(){var now=cut.current-1;return 0>now&&(now=0),this.next=now,pages.eq(now)},down:function(){var now=cut.current+1;return now>pages.length-1&&(now=pages.length-1),this.next=now,pages.eq(now)},where:function(){var next=this.next;next==cut.current||(next<cut.current?(this.appear(pages.eq(next)),this.transform(next),this.effect(next)):next>cut.current&&(this.appear(pages.eq(next)),this.transform(next),this.effect(next)))},current:function(){pages=ele.find(".page"),pages.each(function(index,value){value.classList.contains("current")&&(cut.current=index)}),pages.removeClass("cut"),cut.height=ele.height()},appear:function(who){who.addClass("appear")},transform:function(next){if(next<cut.current){var transform=poly.prefix("transform");pages.get(next).style[transform]="translate3d(0,-"+cut.height+"px,0)",pages.eq(next).addClass("st"),logic.now=cut.current}else if(next>cut.current){var transform=poly.prefix("transform");pages.get(next).style[transform]="translate3d(0,"+cut.height+"px,0)",pages.eq(next).addClass("st"),logic.now=cut.current}},effect:function(next){var _this=this;_.delay(function(){pages.get(next).style[poly.prefix("transform")]="translate3d(0,0,0)",_.delay(function(){_this.build()},300)},100)},build:function(){scope.state.active=logic.next,newMaga.active=logic.next,pages.eq(logic.now).removeClass("current"),pages.eq(logic.next).addClass("current"),pages.eq(logic.next).removeClass("appear"),pages.eq(logic.next).removeClass("st")}},handler={start:function(){logic.current()},up:function(){logic.down(),logic.where()},down:function(){logic.up(),logic.where()}},flip=new Flip;flip.init({target:ele[0],container:ele[0],start:handler.start,up:handler.up,down:handler.down}),ele.on("tap",cancellEdit)}}}function lotteryDirective(){return{require:"^commonDirective",restrict:"A",link:function(scope,element,attrs){var maga=scope.magasProvider.getNewMaga(),now=$(element[0]).index(),page=maga.pages[now],isPreview=$(".stage").hasClass("preview"),data=_.findWhere(page.effects,{type:"lottery"});!data||data.ended&&!isPreview||_.delay(function(){function cb(wrapper,move,end){wrapper.removeChild(wrapper.querySelector(".lottery")),lottery=null,wrapper.removeEventListener("touchmove",move),wrapper.removeEventListener("touchend",end),data.ended=!0}"string"==typeof data.value&&(data.value=JSON.parse(data.value));var target=element[0],dim=getComputedStyle(target,!1),Lottery=(parseInt(dim.width),parseInt(dim.height),scope.Lottery),lottery=new Lottery(target,data.value.src,"image",640,960,cb,data.value.scale,data.value.content);lottery.init()},200)}}}function dragXDirective(){return{scope:{},restrict:"A",link:function(scope,ele,attrs){function sometime(e){touchPos.startX=e.touches[0].pageX}function drag(e){touchPos.x=e.touches[0].pageX,touchPos.deltaX=touchPos.x-touchPos.startX,Math.abs(touchPos.deltaX)>100&&ele.css(touchPos.deltaX>0?{webkitTransform:"translate(0,0)",transform:"translate(0,0)","-webkit-transform":"translate(0,0)"}:{webkitTransform:"translate(-"+width+"px,0)",transform:"translate(-"+width+"px,0)","-webkit-transform":"translate(-"+width+"px,0)"})}ele=$(ele[0]).find(".dragpro");var width=ele.children().children().width()+10,touchPos=(width*ele.children(),{startX:0,x:0,deltaX:0});ele.css({webkitTransition:"all ease 0.5s",transition:"all ease 0.5s","-webkit-transition":"all ease 0.5s"}),ele.on("touchstart",sometime),ele.on("touchmove",drag)}}}function musicDirective(){return{restrict:"E",templateUrl:"partials/coffee.html",link:function(scope,ele,attrs){function init(url){if(url){var optsAudio={loop:!0,preload:"auto",src:url};for(var i in optsAudio)optsAudio.hasOwnProperty(i)&&i in audio&&(audio[i]=optsAudio[i]);audio.load(),ele.find("#coffee_flow").coffee({steams:["<img src='http://www5.5.cn/Public/newimages/audio_widget_01@2x.png' />","<img src='http://www5.5.cn/Public/newimages/audio_widget_01@2x.png' />"],steamHeight:100,steamWidth:44}),service.audioPlay(),$(".u-audio").on("tap",function(){played=!played,played?service.audioPlay():service.audioPause()})}}function audioPlay(){audio.play(),$.fn.coffee.start(),$(".coffee-steam-box").show(500)}function audioPause(){audio.pause(),$.fn.coffee.stop(),$(".coffee-steam-box").hide(500)}var ele=$(ele[0]);!function($,undefined){function dasherize(str){return str.replace(/([a-z])([A-Z])/,"$1-$2").toLowerCase()}function normalizeEvent(name){return eventPrefix?eventPrefix+name:name.toLowerCase()}var eventPrefix,transform,transitionProperty,transitionDuration,transitionTiming,transitionDelay,animationName,animationDuration,animationTiming,animationDelay,prefix="",vendors={Webkit:"webkit",Moz:"",O:"o"},document=window.document,testEl=document.createElement("div"),supportedTransforms=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i,cssReset={};$.each(vendors,function(vendor,event){return testEl.style[vendor+"TransitionProperty"]!==undefined?(prefix="-"+vendor.toLowerCase()+"-",eventPrefix=event,!1):void 0}),transform=prefix+"transform",cssReset[transitionProperty=prefix+"transition-property"]=cssReset[transitionDuration=prefix+"transition-duration"]=cssReset[transitionDelay=prefix+"transition-delay"]=cssReset[transitionTiming=prefix+"transition-timing-function"]=cssReset[animationName=prefix+"animation-name"]=cssReset[animationDuration=prefix+"animation-duration"]=cssReset[animationDelay=prefix+"animation-delay"]=cssReset[animationTiming=prefix+"animation-timing-function"]="",
$.fx={off:eventPrefix===undefined&&testEl.style.transitionProperty===undefined,speeds:{_default:400,fast:200,slow:600},cssPrefix:prefix,transitionEnd:normalizeEvent("TransitionEnd"),animationEnd:normalizeEvent("AnimationEnd")},$.fn.animate=function(properties,duration,ease,callback,delay){return $.isFunction(duration)&&(callback=duration,ease=undefined,duration=undefined),$.isFunction(ease)&&(callback=ease,ease=undefined),$.isPlainObject(duration)&&(ease=duration.easing,callback=duration.complete,delay=duration.delay,duration=duration.duration),duration&&(duration=("number"==typeof duration?duration:$.fx.speeds[duration]||$.fx.speeds._default)/1e3),delay&&(delay=parseFloat(delay)/1e3),this.anim(properties,duration,ease,callback,delay)},$.fn.anim=function(properties,duration,ease,callback,delay){var key,cssProperties,wrappedCallback,cssValues={},transforms="",that=this,endEvent=$.fx.transitionEnd,fired=!1;if(duration===undefined&&(duration=$.fx.speeds._default/1e3),delay===undefined&&(delay=0),$.fx.off&&(duration=0),"string"==typeof properties)cssValues[animationName]=properties,cssValues[animationDuration]=duration+"s",cssValues[animationDelay]=delay+"s",cssValues[animationTiming]=ease||"linear",endEvent=$.fx.animationEnd;else{cssProperties=[];for(key in properties)supportedTransforms.test(key)?transforms+=key+"("+properties[key]+") ":(cssValues[key]=properties[key],cssProperties.push(dasherize(key)));transforms&&(cssValues[transform]=transforms,cssProperties.push(transform)),duration>0&&"object"==typeof properties&&(cssValues[transitionProperty]=cssProperties.join(", "),cssValues[transitionDuration]=duration+"s",cssValues[transitionDelay]=delay+"s",cssValues[transitionTiming]=ease||"linear")}return wrappedCallback=function(event){if("undefined"!=typeof event){if(event.target!==event.currentTarget)return;$(event.target).unbind(endEvent,wrappedCallback)}else $(this).unbind(endEvent,wrappedCallback);fired=!0,$(this).css(cssReset),callback&&callback.call(this)},duration>0&&(this.bind(endEvent,wrappedCallback),setTimeout(function(){fired||wrappedCallback.call(that)},1e3*duration+25)),this.size()&&this.get(0).clientLeft,this.css(cssValues),0>=duration&&setTimeout(function(){that.each(function(){wrappedCallback.call(this)})},0),this},testEl=null}(window.Zepto||window.jQuery||window.$),function($){$.fn.coffee=function(option){function steam(){var fontSize=rand(8,opts.steamMaxSize),steamsFontFamily=randoms(1,opts.steamsFontFamily),color="#"+randoms(6,"0123456789ABCDEF"),position=rand(0,44),rotate=rand(-90,89),scale=rand02(.4,1),transform=$.fx.cssPrefix+"transform";transform=transform+":rotate("+rotate+"deg) scale("+scale+");";var $fly=$('<span class="coffee-steam">'+randoms(1,opts.steams)+"</span>"),left=rand(0,coffeeSteamBoxWidth-opts.steamWidth-fontSize);left>position&&(left=rand(0,position)),$fly.css({position:"absolute",left:position,top:opts.steamHeight,"font-size:":fontSize+"px",color:color,"font-family":steamsFontFamily,display:"block",opacity:1}).attr("style",$fly.attr("style")+transform).appendTo($coffeeSteamBox).animate({top:rand(opts.steamHeight/2,0),left:left,opacity:0},rand(opts.steamFlyTime/2,1.2*opts.steamFlyTime),__flyFastSlow,function(){$fly.remove(),$fly=null})}function wind(){var left=rand(-10,10);left+=parseInt($coffeeSteamBox.css("left")),left>=54?left=54:34>=left&&(left=34),$coffeeSteamBox.animate({left:left},rand(1e3,3e3),__flyFastSlow)}function randoms(length,chars){length=length||1;for(var hash="",maxNum=chars.length-1,num=0,i=0;length>i;i++)num=rand(0,maxNum-1),hash+=chars.slice(num,num+1);return hash}function rand(mi,ma){var range=ma-mi,out=mi+Math.round(Math.random()*range);return parseInt(out)}function rand02(mi,ma){var range=ma-mi,out=mi+Math.random()*range;return parseFloat(out)}var __time_val=null,__time_wind=null,__flyFastSlow="cubic-bezier(.09,.64,.16,.94)",$coffee=$(this),opts=$.extend({},$.fn.coffee.defaults,option),coffeeSteamBoxWidth=opts.steamWidth,$coffeeSteamBox=$('<div class="coffee-steam-box"></div>').css({height:opts.steamHeight,width:opts.steamWidth,left:60,top:-50,position:"absolute",overflow:"hidden","z-index":0}).appendTo($coffee);return $.fn.coffee.stop=function(){clearInterval(__time_val),clearInterval(__time_wind)},$.fn.coffee.start=function(){__time_val=setInterval(function(){steam()},rand(opts.steamInterval/2,2*opts.steamInterval)),__time_wind=setInterval(function(){wind()},rand(100,1e3)+rand(1e3,3e3))},$coffee},$.fn.coffee.defaults={steams:["jQuery","HTML5","HTML6","CSS2","CSS3","JS","$.fn()","char","short","if","float","else","type","case","function","travel","return","array()","empty()","eval","C++","JAVA","PHP","JSP",".NET","while","this","$.find();","float","$.ajax()","addClass","width","height","Click","each","animate","cookie","bug","Design","Julying","$(this)","i++","Chrome","Firefox","Firebug","IE6","Guitar","Music","攻城师","旅行","王子墨","啤酒"],steamsFontFamily:["Verdana","Geneva","Comic Sans MS","MS Serif","Lucida Sans Unicode","Times New Roman","Trebuchet MS","Arial","Courier New","Georgia"],steamFlyTime:5e3,steamInterval:500,steamMaxSize:30,steamHeight:200,steamWidth:300},$.fn.coffee.version="2.0.0"}(window.Zepto||window.jQuery||window.$);var service={audioPlay:audioPlay,audioPause:audioPause,init:init},audio=ele.find("audio")[0],played=!0;init(scope.music.src)}}}function cropperDirective(){return{restrict:"A",templateUrl:"partials/cropper.html",transclude:!0,link:function(scope,ele,attrs){function init(){ele.on("touchstart",sometime),closeAnimation.data("only")||(closeAnimation.data("only",!0),closeAnimation.on("tap",clearAnimation),fadeInBtn.on("tap",addAnimation.bind(ele,"fadeIn")),fadeOutBtn.on("tap",addAnimation.bind(ele,"fadeOut")),amplifyBtn.on("tap",addAnimation.bind(ele,"zoomIn")),rotationBtn.on("tap",addAnimation.bind(ele,"rotateIn")),shakeBtn.on("tap",addAnimation.bind(ele,"ring")),$(".stage_bj").on("touchmove.scroll",controll),$(".stage_bj").on("scroll.scroll",controll)),ele.find(".anim").on("touchstart",showAnimationLayer),ele.find(".del").on("touchstart",delActive),ele.find("img").on("touchend",defaultAndPropagation),cropper100000(),cropper010000(),cropper001000(),cropper000100(),cropper000010(),cropper000001()}function rect(obj){return obj.getBoundingClientRect()}function controll(){return!1}function defaultAndPropagation(e){e.preventDefault(),e.stopPropagation()}function sync(left,top,width,height){void 0!==left&&(scope.floatage.style.left=left+"px"),void 0!==top&&(scope.floatage.style.top=top+"px"),void 0!==width&&(scope.floatage.style.width=width+"px"),void 0!==height&&(scope.floatage.style.height=height+"px")}function cropper100000(){function start(e){var data=rect(ele[0]);dim.width=parseInt(ele.css("width"))||data.width,dim.height=parseInt(ele.css("height"))||data.height,pos.left=parseInt(ele.css("left"))||data.left,pos.top=parseInt(ele.css("top"))||data.top,prevent(e),stop(e)}function move(e){prevent(e),stop(e);var width=dim.width-e._x,height=dim.height-e._y,left=pos.left+e._x,top=pos.top+e._y;ele.css({width:width+"px",height:height+"px",left:left+"px",top:top+"px"}),sync(left,top,width,height)}function end(e){prevent(e),stop(e)}var flip=new Flip;flip.init({target:span100000[0],start:start,container:ele[0],move:move,end:end});var dim={width:null,height:null},pos={left:null,top:null}}function cropper010000(){function start(e){var data=rect(ele[0]);dim.height=parseInt(ele.css("height"))||data.height,pos.top=parseInt(ele.css("top"))||data.top,prevent(e),stop(e)}function move(e){prevent(e),stop(e);var left,width,height=dim.height-e._y,top=pos.top+e._y;ele.css({height:height+"px",top:top+"px"}),sync(left,top,width,height)}function end(e){prevent(e),stop(e)}var flip=new Flip;flip.init({target:span010000[0],start:start,container:ele[0],move:move,end:end});var dim={width:null,height:null},pos={left:null,top:null}}function cropper001000(){function start(e){var data=rect(ele[0]);dim.width=parseInt(ele.css("width"))||data.width,dim.height=parseInt(ele.css("height"))||data.height,pos.left=parseInt(ele.css("left"))||data.left,pos.top=parseInt(ele.css("top"))||data.top,prevent(e),stop(e)}function move(e){prevent(e),stop(e);var left,width=dim.width+e._x,height=dim.height-e._y,top=pos.top+e._y;ele.css({width:width+"px",height:height+"px",top:top+"px"}),sync(left,top,width,height)}function end(e){prevent(e),stop(e)}var flip=new Flip;flip.init({target:span001000[0],start:start,container:ele[0],move:move,end:end});var dim={width:null,height:null},pos={left:null,top:null}}function cropper000100(){function start(e){var data=rect(ele[0]);dim.width=parseInt(ele.css("width"))||data.width,dim.height=parseInt(ele.css("height"))||data.height,pos.left=parseInt(ele.css("left"))||data.left,pos.top=parseInt(ele.css("top"))||data.top,prevent(e),stop(e)}function move(e){prevent(e),stop(e);var top,width=dim.width-e._x,height=dim.height+e._y,left=pos.left+e._x;ele.css({width:width+"px",height:height+"px",left:left+"px"}),sync(left,top,width,height)}function end(e){prevent(e),stop(e)}var flip=new Flip;flip.init({target:span000100[0],start:start,container:ele[0],move:move,end:end});var dim={width:null,height:null},pos={left:null,top:null}}function cropper000010(){function start(e){var data=rect(ele[0]);dim.width=parseInt(ele.css("width"))||data.width,dim.height=parseInt(ele.css("height"))||data.height,pos.left=parseInt(ele.css("left"))||data.left,pos.top=parseInt(ele.css("top"))||data.top,prevent(e),stop(e)}function move(e){prevent(e),stop(e);var left,top,width,height=dim.height+e._y;ele.css({height:height+"px"}),sync(left,top,width,height)}function end(e){prevent(e),stop(e)}var flip=new Flip;flip.init({target:span000010[0],start:start,container:ele[0],move:move,end:end});var dim={width:null,height:null},pos={left:null,top:null}}function cropper000001(){function start(e){var data=rect(ele[0]);dim.width=parseInt(ele.css("width"))||data.width,dim.height=parseInt(ele.css("height"))||data.height,pos.left=parseInt(ele.css("left"))||data.left,pos.top=parseInt(ele.css("top"))||data.top,prevent(e),stop(e)}function move(e){prevent(e),stop(e);var left,top,width=dim.width+e._x,height=dim.height+e._y;ele.css({width:width+"px",height:height+"px"}),sync(left,top,width,height)}function end(e){prevent(e),stop(e)}var flip=new Flip;flip.init({target:span000001[0],start:start,container:ele[0],move:move,end:end});var dim={width:null,height:null},pos={left:null,top:null}}function addAnimation(effectName){var active=$("#"+newMaga.activeFloatage.uniqueId),floatage=newMaga.activeFloatage,classList=["fadeIn","fadeOut","zoomIn","rotateIn","ring"];active.removeClass(effectName),active.offsetWidth=active.offsetWidth,floatage.effects=_.difference(floatage.effects,classList),floatage.effects=_.union(floatage.effects,[effectName]),_.delay(function(){classList.forEach(function(item,index,classList){active.removeClass(item)}),active.addClass(effectName)},10)}function showAnimationLayer(){return $(".stage .active").removeClass("active"),animationOperate.removeClass("hide"),stageNav.addClass("hide"),ele.find("img").off("contextmenu",controll),ele.find("img").on("contextmenu",controll),!1}function clearAnimation(id){var active=getAcitve(),id=active.uniqueId,floatage=document.querySelector("#"+id);floatage.style.animationDuration="",floatage.style.webkitAnimationDuration="",floatage.style.animationDelay="",floatage.style.webkitAnimationDelay="",delete active.style.animationDuration,delete active.style.webkitAnimationDuration,delete active.style.animationDelay,delete active.style.webkitAnimationDelay,$(floatage).removeClass(eff),active.effects=_.difference(active.effects,eff.split(" "))}function getAcitve(){return newMaga.activeFloatage}function delActive(){var target=$(".active"),id=target.attr("id");target.remove();var floatages=newMaga.pages[newMaga.active].floatages,des=_.find(floatages,function(item,index){return item.uniqueId==id}),index=_.indexOf(floatages,des);floatages.splice(index,1)}function sometime(e){this.classList.contains("active")&&(e.stopImmediatePropagation(),updateStartPos(e),updateNowPos(),ele.on("touchmove",drag),ele.on("touchend",drop))}function drag(e){updateMovePos(e),updateDelta(),setPos()}function drop(){ele.off("touchmove",drag),ele.off("touchend",drop)}function updateStartPos(e){pos.start.x=e.touches[0].pageX,pos.start.y=e.touches[0].pageY}function updateMovePos(e){pos.move.x=e.touches[0].pageX,pos.move.y=e.touches[0].pageY}function updateNowPos(){pos.now.left=parseInt(ele.css("left"))||0,pos.now.top=parseInt(ele.css("top"))||0}function updateDelta(){pos.delta.x=pos.move.x-pos.start.x,pos.delta.y=pos.move.y-pos.start.y}function setPos(){var left=pos.now.left+pos.delta.x+"px",top=pos.now.top+pos.delta.y+"px";ele.css({left:left,top:top}),scope.floatage.style.left=left,scope.floatage.style.top=top}function prevent(e){e.preventDefault()}function stop(e){e.stopPropagation()}var ele=$(ele[0]),newMaga=scope.magasProvider.getNewMaga(),Flip=scope.Flip,eff="fadeIn fadeOut zoomIn rotateIn ring slideDown slideUp slideLeft expandUp expandOpen pullUp pullDown stretchLeft stretchRight rotateIn flipInX flipInY lightSpeedIn moveDown moveUp moveLeft moveRight rotateInDownRight rotateInDownLeft zoomInDown fadeInNormal",closeAnimation=(scope.tapProvider,scope.findActive,$(".stage_bj")[0],$(".clear-animation")),animationOperate=$(".animation-operate"),stageNav=$(".stage-nav"),fadeInBtn=$(".fadeInBtn"),fadeOutBtn=$(".fadeOutBtn"),amplifyBtn=$(".amplifyBtn"),rotationBtn=$(".rotationBtn"),shakeBtn=$(".shakeBtn"),span100000=ele.find(".left_t"),span010000=ele.find(".center_t"),span001000=ele.find(".right_t"),span000100=ele.find(".left_b"),span000010=ele.find(".center_b"),span000001=ele.find(".right_b"),pos={start:{x:null,y:null},move:{x:null,y:null},end:{x:null,y:null},now:{left:null,top:null},delta:{x:null,y:null}};init()}}}function dragSetDirective(){return{scope:{defaultx:"=",big:"=",unit:"@",type:"@"},templateUrl:"partials/dragSet.html",controller:function($scope,magasProvider,findActiveProvider){$scope.newMaga=magasProvider.getNewMaga(),$scope.findActive=findActiveProvider},link:function(scope,ele,attrs){function init(){var temp=$(".animation-operate").removeClass("hide");setLineWidth=setLine.width(),temp.addClass("hide"),setBtn.css("left",parseInt(setLineWidth)/scope.big*scope.defaultx+"px"),values.html(scope.defaultx)}function sometime(e){ele.on("touchmove",drag),ele.on("touchend",drop),setLineWidth=setLine.width();var now=parseInt(setBtn.css("left"));pos.now=now,pos.startX=e.touches[0].pageX}function drag(e){pos.moveX=e.touches[0].pageX,pos.deltaX=e.touches[0].pageX-pos.startX;var value=pos.now+pos.deltaX;0>value?value=0:value>setLineWidth&&(value=setLineWidth),setBtn.css("left",value),realValue=parseFloat(value/setLineWidth*big).toFixed(1),values.html(realValue)}function getAcitve(){return newMaga.activeFloatage}function drop(e){var activeId=(getAcitve(),getAcitve().uniqueId),dom=document.querySelector("#"+activeId);$(this).off(drop).off(drag);var floatage=newMaga.activeFloatage;floatage.style["webkitAnimation"+type]=realValue+"s",floatage.style["animation"+type]=realValue+"s",dom.style["webkitAnimation"+type]=realValue+"s",dom.style["animation"+type]=realValue+"s"}var ele=$(ele[0]),newMaga=scope.newMaga,setLine=(scope.findActive,ele.find(".set-line")),setBtn=ele.find(".set-btn"),setLineWidth=setLine.width(),values=(ele.width(),ele.find(".values span")),big=scope.big,type=scope.type.slice(0,1).toUpperCase()+scope.type.slice(1),realValue=scope.defaultx,pos={startX:0,moveX:0,endX:0,deltaX:0,now:0};setBtn.on("touchstart",sometime),init()}}}function btn(){return{scope:{},restrict:"A",link:function(scope,element,attrs){var obj=$(element[0]),btn_list=obj.find(".edit_text_nav").find("div"),edit_box=obj.find(".edit_box"),area=edit_box.find(".display_area"),now=null,show=!1,btnLink=!1;btn_list.each(function(i){$(this).on("tap",function(){4==i?(area.css("visibility","hidden"),btnLink?($(".add_btn_link").css("visibility","hidden"),btnLink=!1,$(this).removeClass("act")):($(".add_btn_link").css("visibility","inherit"),$(this).addClass("act").siblings().removeClass("act"),btnLink=!0)):now==i?show?(area.eq(i).css("visibility","inherit"),$(this).addClass("act"),show=!1):(area.eq(i).css("visibility","hidden"),$(this).removeClass("act"),show=!0):(show=!1,btnLink=!1,$(this).addClass("act").siblings().removeClass("act"),area.eq(i).css("visibility","inherit").siblings().css("visibility","hidden"),$(".add_btn_link").css("visibility","hidden")),now=i})})}}}function myScroll(){return{restrict:"E",replace:!0,scope:{maxnum:"@",minnum:"@",thisnum:"="},template:' <div><div class="set-l">小</div><div class="set-line"><div class="set-btn"><div class="set-btn-bj"><div class="values_box"><span class="values">{{thisnum}}</span><span class="units"></span></div></div></div></div><div class="set-r">大</div></div>',link:function(scope,element,attr){var element=$(element[0]),obj1=element.find(".set-btn"),obj2=element.find(".set-line"),obj4=(element.find(".values"),element.find(".units")),obj5=element.find(".set-btn-bj"),len=obj2.width();obj1.css("left",(parseInt(scope.thisnum)-parseInt(scope.minnum))/parseInt(scope.maxnum)*len),obj1.on("touchstart",function(ev){function drag(ev){var l=ev.targetTouches[0].pageX-disX;0>l?l=0:l>obj2.width()-obj5.width()&&(l=obj2.width()-obj5.width()),obj1.css("left",l);var sacle=l/(obj2.width()-obj5.width());scope.$apply(function(){scope.thisnum=parseInt(sacle*scope.maxnum+parseInt(scope.minnum))+"px"}),obj4.show()}function drop(){$(document).off("touchmove",drag),$(document).off("touchend",drop)}{var disX=ev.targetTouches[0].pageX-obj1.position().left;ev.targetTouches[0].pageY-obj1.position().top}$(document).on("touchmove",drag),$(document).on("touchend",drop)})}}}function btnDragDirective(){return{restrict:"AE",replace:!0,scope:{myFn:"&",myData:"="},template:'<div class="bj_color" ><div class="bj_color_par"><span ng-repeat="color in myData" ng-click="myFn({num:$index})" style="background:{{color.val}}"></span> </div></div>',link:function(scope,element,attrs){var span,w,element=$(element[0]),obj1=element.find(".bj_color_par");_.delay(function(){span=obj1.find("span"),w=span.width()*span.length+10,obj1.width(w)},100),obj1.on("touchstart",function(ev){function drag(ev){var l=ev.targetTouches[0].pageX-disX;l>0?l=0:l<-(obj1.width()-element.width())&&(l=-(obj1.width()-element.width())),obj1.css("left",l)}function drop(){$(document).off("touchmove",drag),$(document).off("touchend",drop)}var disX=ev.targetTouches[0].pageX-obj1.position().left;$(document).on("touchmove",drag),$(document).on("touchend",drop)})}}}function setmusicDirective(){return{restrict:"A",controller:function($scope,magasProvider){$scope.maga=magasProvider.getNewMaga()},link:function(scope,element,attrs){var dd,element=$(element[0]);_.delay(function(){dd=element.find("dd"),dd.on("tap",function(){dd.removeClass("act"),$(this).addClass("act"),scope.id=this.id})},500)}}}angular.module("appDirectives",[]).directive("dragXDirective",dragXDirective).directive("cropperDirective",cropperDirective).directive("dragSetDirective",dragSetDirective).directive("commonDirective",commonDirective).directive("lotteryDirective",lotteryDirective).directive("cutDirective",cutDirective).directive("cut2Directive",cut2Directive).directive("styleReinitDirective",styleReinitDirective).directive("musicDirective",musicDirective).directive("btn",btn).directive("myScroll",myScroll).directive("btnDragDirective",btnDragDirective).directive("setmusicDirective",setmusicDirective)}),function(root,factory){var angular=window.angular;factory.call(root,angular)}(this,function(angular){function templateCache($templateCache){$templateCache.put("partials/select.html"),$templateCache.put("partials/music.html"),$templateCache.put("partials/text.html"),$templateCache.put("partials/make.html")}function config($routeProvider,$provide,$locationProvider){$routeProvider.when("/",{templateUrl:"partials/select.html",controller:"selectController"}).when("/make",{templateUrl:"partials/make.html",controller:"makeController"}).when("/make/:random",{templateUrl:"partials/make.html",controller:"makeController"}).when("/music",{templateUrl:"partials/music.html",controller:"musicController"}).when("/text",{templateUrl:"partials/text.html",controller:"textController"}).when("/lottery",{templateUrl:"partials/lottery.html",controller:"lotteryController"}).when("/hyperLink",{templateUrl:"partials/hyperLink.html",controller:"hyperLinkController"}).when("/preview",{templateUrl:"partials/preview.html",controller:"previewController"}).when("/wechat",{templateUrl:"partials/wechat.html",controller:"wechatController"}).when("/wechat/-shareImg_btn-/:any",{templateUrl:"partials/wechat.html",controller:"wechatController"}).when("/-back_btn-",{templateUrl:"partials/select.html",controller:"selectController"}).when("/shape",{templateUrl:"partials/shape.html",controller:"shapeController"}).when("/shapes",{templateUrl:"partials/shapes.html",controller:"shapesController"}).otherwise({redirectTo:"/"})}angular.module("app",["ngRoute","ngTouch","appControllers","appServices","appDirectives"]).config(["$routeProvider","$provide","$locationProvider",config]).run(["$templateCache",templateCache])});