(function(e,n,t){"use strict";var r=n.module("ngTouch",[]);function a(e){return n.lowercase(e.nodeName||e[0]&&e[0].nodeName)}r.factory("$swipe",[function(){var e=10;var t={mouse:{start:"mousedown",move:"mousemove",end:"mouseup"},touch:{start:"touchstart",move:"touchmove",end:"touchend",cancel:"touchcancel"}};function r(e){var n=e.originalEvent||e;var t=n.touches&&n.touches.length?n.touches:[n];var r=n.changedTouches&&n.changedTouches[0]||t[0];return{x:r.clientX,y:r.clientY}}function a(e,r){var a=[];n.forEach(e,function(e){var n=t[e][r];if(n){a.push(n)}});return a.join(" ")}return{bind:function(n,t,o){var c,i;var u;var s;var f=false;o=o||["mouse","touch"];n.on(a(o,"start"),function(e){u=r(e);f=true;c=0;i=0;s=u;t["start"]&&t["start"](u,e)});var l=a(o,"cancel");if(l){n.on(l,function(e){f=false;t["cancel"]&&t["cancel"](e)})}n.on(a(o,"move"),function(n){if(!f)return;if(!u)return;var a=r(n);c+=Math.abs(a.x-s.x);i+=Math.abs(a.y-s.y);s=a;if(c<e&&i<e){return}if(i>c){f=false;t["cancel"]&&t["cancel"](n);return}else{n.preventDefault();t["move"]&&t["move"](a,n)}});n.on(a(o,"end"),function(e){if(!f)return;f=false;t["end"]&&t["end"](r(e),e)})}}}]);r.config(["$provide",function(e){e.decorator("ngClickDirective",["$delegate",function(e){e.shift();return e}])}]);r.directive("ngClick",["$parse","$timeout","$rootElement",function(e,t,r){var o=750;var c=12;var i=2500;var u=25;var s="ng-click-active";var f;var l;var v;function h(e,n,t,r){return Math.abs(e-t)<u&&Math.abs(n-r)<u}function d(e,n,t){for(var r=0;r<e.length;r+=2){if(h(e[r],e[r+1],n,t)){e.splice(r,r+2);return true}}return false}function g(e){if(Date.now()-f>i){return}var n=e.touches&&e.touches.length?e.touches:[e];var t=n[0].clientX;var r=n[0].clientY;if(t<1&&r<1){return}if(v&&v[0]===t&&v[1]===r){return}if(v){v=null}if(a(e.target)==="label"){v=[t,r]}if(d(l,t,r)){return}e.stopPropagation();e.preventDefault();e.target&&e.target.blur&&e.target.blur()}function p(e){var n=e.touches&&e.touches.length?e.touches:[e];var r=n[0].clientX;var a=n[0].clientY;l.push(r,a);t(function(){for(var e=0;e<l.length;e+=2){if(l[e]==r&&l[e+1]==a){l.splice(e,e+2);return}}},i,false)}function m(e,n){if(!l){r[0].addEventListener("click",g,true);r[0].addEventListener("touchstart",p,true);l=[]}f=Date.now();d(l,e,n)}return function(t,r,a){var i=e(a.ngClick),u=false,f,l,v,h;function d(){u=false;r.removeClass(s)}r.on("touchstart",function(e){u=true;f=e.target?e.target:e.srcElement;if(f.nodeType==3){f=f.parentNode}r.addClass(s);l=Date.now();var n=e.originalEvent||e;var t=n.touches&&n.touches.length?n.touches:[n];var a=t[0];v=a.clientX;h=a.clientY});r.on("touchcancel",function(e){d()});r.on("touchend",function(e){var t=Date.now()-l;var i=e.originalEvent||e;var s=i.changedTouches&&i.changedTouches.length?i.changedTouches:i.touches&&i.touches.length?i.touches:[i];var g=s[0];var p=g.clientX;var w=g.clientY;var b=Math.sqrt(Math.pow(p-v,2)+Math.pow(w-h,2));if(u&&t<o&&b<c){m(p,w);if(f){f.blur()}if(!n.isDefined(a.disabled)||a.disabled===false){r.triggerHandler("click",[e])}}d()});r.onclick=function(e){};r.on("click",function(e,n){t.$apply(function(){i(t,{$event:n||e})})});r.on("mousedown",function(e){r.addClass(s)});r.on("mousemove mouseup",function(e){r.removeClass(s)})}}]);function o(e,t,a){r.directive(e,["$parse","$swipe",function(r,o){var c=75;var i=.3;var u=30;return function(s,f,l){var v=r(l[e]);var h,d;function g(e){if(!h)return false;var n=Math.abs(e.y-h.y);var r=(e.x-h.x)*t;return d&&n<c&&r>0&&r>u&&n/r<i}var p=["touch"];if(!n.isDefined(l["ngSwipeDisableMouse"])){p.push("mouse")}o.bind(f,{start:function(e,n){h=e;d=true},cancel:function(e){d=false},end:function(e,n){if(g(e)){s.$apply(function(){f.triggerHandler(a);v(s,{$event:n})})}}},p)}}])}o("ngSwipeLeft",-1,"swipeleft");o("ngSwipeRight",1,"swiperight")})(window,window.angular);