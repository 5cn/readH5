(function(e,r,t){"use strict";var n=r.module("ngRoute",["ng"]).provider("$route",i),a=r.$$minErr("ngRoute");function i(){function e(e,t){return r.extend(Object.create(e),t)}var t={};this.when=function(e,a){var i=r.copy(a);if(r.isUndefined(i.reloadOnSearch)){i.reloadOnSearch=true}if(r.isUndefined(i.caseInsensitiveMatch)){i.caseInsensitiveMatch=this.caseInsensitiveMatch}t[e]=r.extend(i,e&&n(e,i));if(e){var o=e[e.length-1]=="/"?e.substr(0,e.length-1):e+"/";t[o]=r.extend({redirectTo:e},n(o,i))}return this};this.caseInsensitiveMatch=false;function n(e,r){var t=r.caseInsensitiveMatch,n={originalPath:e,regexp:e},a=n.keys=[];e=e.replace(/([().])/g,"\\$1").replace(/(\/)?:(\w+)([\?\*])?/g,function(e,r,t,n){var i=n==="?"?n:null;var o=n==="*"?n:null;a.push({name:t,optional:!!i});r=r||"";return""+(i?"":r)+"(?:"+(i?r:"")+(o&&"(.+?)"||"([^/]+)")+(i||"")+")"+(i||"")}).replace(/([\/$\*])/g,"\\$1");n.regexp=new RegExp("^"+e+"$",t?"i":"");return n}this.otherwise=function(e){if(typeof e==="string"){e={redirectTo:e}}this.when(null,e);return this};this.$get=["$rootScope","$location","$routeParams","$q","$injector","$templateRequest","$sce",function(n,i,o,c,u,l,s){var f=false,h,$,p={routes:t,reload:function(){f=true;n.$evalAsync(function(){v();m()})},updateParams:function(e){if(this.current&&this.current.$$route){e=r.extend({},this.current.params,e);i.path(w(this.current.$$route.originalPath,e));i.search(e)}else{throw a("norout","Tried updating route when with no current route")}}};n.$on("$locationChangeStart",v);n.$on("$locationChangeSuccess",m);return p;function d(e,r){var t=r.keys,n={};if(!r.regexp)return null;var a=r.regexp.exec(e);if(!a)return null;for(var i=1,o=a.length;i<o;++i){var c=t[i-1];var u=a[i];if(c&&u){n[c.name]=u}}return n}function v(e){var t=p.current;h=g();$=h&&t&&h.$$route===t.$$route&&r.equals(h.pathParams,t.pathParams)&&!h.reloadOnSearch&&!f;if(!$&&(t||h)){if(n.$broadcast("$routeChangeStart",h,t).defaultPrevented){if(e){e.preventDefault()}}}}function m(){var e=p.current;var t=h;if($){e.params=t.params;r.copy(e.params,o);n.$broadcast("$routeUpdate",e)}else if(t||e){f=false;p.current=t;if(t){if(t.redirectTo){if(r.isString(t.redirectTo)){i.path(w(t.redirectTo,t.params)).search(t.params).replace()}else{i.url(t.redirectTo(t.pathParams,i.path(),i.search())).replace()}}}c.when(t).then(function(){if(t){var e=r.extend({},t.resolve),n,a;r.forEach(e,function(t,n){e[n]=r.isString(t)?u.get(t):u.invoke(t,null,null,n)});if(r.isDefined(n=t.template)){if(r.isFunction(n)){n=n(t.params)}}else if(r.isDefined(a=t.templateUrl)){if(r.isFunction(a)){a=a(t.params)}a=s.getTrustedResourceUrl(a);if(r.isDefined(a)){t.loadedTemplateUrl=a;n=l(a)}}if(r.isDefined(n)){e["$template"]=n}return c.all(e)}}).then(function(a){if(t==p.current){if(t){t.locals=a;r.copy(t.params,o)}n.$broadcast("$routeChangeSuccess",t,e)}},function(r){if(t==p.current){n.$broadcast("$routeChangeError",t,e,r)}})}}function g(){var n,a;r.forEach(t,function(t,o){if(!a&&(n=d(i.path(),t))){a=e(t,{params:r.extend({},i.search(),n),pathParams:n});a.$$route=t}});return a||t[null]&&e(t[null],{params:{},pathParams:{}})}function w(e,t){var n=[];r.forEach((e||"").split(":"),function(e,r){if(r===0){n.push(e)}else{var a=e.match(/(\w+)(?:[?*])?(.*)/);var i=a[1];n.push(t[i]);n.push(a[2]||"");delete t[i]}});return n.join("")}}]}n.provider("$routeParams",o);function o(){this.$get=function(){return{}}}n.directive("ngView",c);n.directive("ngView",u);c.$inject=["$route","$anchorScroll","$animate"];function c(e,t,n){return{restrict:"ECA",terminal:true,priority:400,transclude:"element",link:function(a,i,o,c,u){var l,s,f,h=o.autoscroll,$=o.onload||"";a.$on("$routeChangeSuccess",d);d();function p(){if(f){n.cancel(f);f=null}if(l){l.$destroy();l=null}if(s){f=n.leave(s);f.then(function(){f=null});s=null}}function d(){var o=e.current&&e.current.locals,c=o&&o.$template;if(r.isDefined(c)){var f=a.$new();var d=e.current;var v=u(f,function(e){n.enter(e,null,s||i).then(function o(){if(r.isDefined(h)&&(!h||a.$eval(h))){t()}});p()});s=v;l=d.scope=f;l.$emit("$viewContentLoaded");l.$eval($)}else{p()}}}}}u.$inject=["$compile","$controller","$route"];function u(e,r,t){return{restrict:"ECA",priority:-400,link:function(n,a){var i=t.current,o=i.locals;a.html(o.$template);var c=e(a.contents());if(i.controller){o.$scope=n;var u=r(i.controller,o);if(i.controllerAs){n[i.controllerAs]=u}a.data("$ngControllerController",u);a.children().data("$ngControllerController",u)}c(n)}}}})(window,window.angular);